var JR=Object.defineProperty;var eI=(n,e,t)=>e in n?JR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var mm=(n,e,t)=>eI(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gm={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function tI(){if(sT)return _u;sT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:n,type:i,key:c,ref:o!==void 0?o:null,props:l}}return _u.Fragment=e,_u.jsx=t,_u.jsxs=t,_u}var aT;function nI(){return aT||(aT=1,gm.exports=tI()),gm.exports}var L=nI(),ym={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function rI(){if(oT)return xe;oT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,$={};function U(x,I,z){this.props=x,this.context=I,this.refs=$,this.updater=z||N}U.prototype.isReactComponent={},U.prototype.setState=function(x,I){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,I,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function J(){}J.prototype=U.prototype;function ae(x,I,z){this.props=x,this.context=I,this.refs=$,this.updater=z||N}var Z=ae.prototype=new J;Z.constructor=ae,q(Z,U.prototype),Z.isPureReactComponent=!0;var re=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function C(x,I,z,M,X,de){return z=de.ref,{$$typeof:n,type:x,key:I,ref:z!==void 0?z:null,props:de}}function R(x,I){return C(x.type,I,void 0,void 0,void 0,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function P(x){var I={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(z){return I[z]})}var k=/\/+/g;function j(x,I){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):I.toString(36)}function D(){}function Qe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(I){x.status==="pending"&&(x.status="fulfilled",x.value=I)},function(I){x.status==="pending"&&(x.status="rejected",x.reason=I)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Le(x,I,z,M,X){var de=typeof x;(de==="undefined"||de==="boolean")&&(x=null);var he=!1;if(x===null)he=!0;else switch(de){case"bigint":case"string":case"number":he=!0;break;case"object":switch(x.$$typeof){case n:case e:he=!0;break;case _:return he=x._init,Le(he(x._payload),I,z,M,X)}}if(he)return X=X(x),he=M===""?"."+j(x,0):M,re(X)?(z="",he!=null&&(z=he.replace(k,"$&/")+"/"),Le(X,I,z,"",function(ft){return ft})):X!=null&&(b(X)&&(X=R(X,z+(X.key==null||x&&x.key===X.key?"":(""+X.key).replace(k,"$&/")+"/")+he)),I.push(X)),1;he=0;var Te=M===""?".":M+":";if(re(x))for(var ye=0;ye<x.length;ye++)M=x[ye],de=Te+j(M,ye),he+=Le(M,I,z,de,X);else if(ye=w(x),typeof ye=="function")for(x=ye.call(x),ye=0;!(M=x.next()).done;)M=M.value,de=Te+j(M,ye++),he+=Le(M,I,z,de,X);else if(de==="object"){if(typeof x.then=="function")return Le(Qe(x),I,z,M,X);throw I=String(x),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return he}function te(x,I,z){if(x==null)return x;var M=[],X=0;return Le(x,M,"","",function(de){return I.call(z,de,X++)}),M}function ce(x){if(x._status===-1){var I=x._result;I=I(),I.then(function(z){(x._status===0||x._status===-1)&&(x._status=1,x._result=z)},function(z){(x._status===0||x._status===-1)&&(x._status=2,x._result=z)}),x._status===-1&&(x._status=0,x._result=I)}if(x._status===1)return x._result.default;throw x._result}var ve=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ze(){}return xe.Children={map:te,forEach:function(x,I,z){te(x,function(){I.apply(this,arguments)},z)},count:function(x){var I=0;return te(x,function(){I++}),I},toArray:function(x){return te(x,function(I){return I})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},xe.Component=U,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=ae,xe.StrictMode=i,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,xe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ee.H.useMemoCache(x)}},xe.cache=function(x){return function(){return x.apply(null,arguments)}},xe.cloneElement=function(x,I,z){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var M=q({},x.props),X=x.key,de=void 0;if(I!=null)for(he in I.ref!==void 0&&(de=void 0),I.key!==void 0&&(X=""+I.key),I)!ue.call(I,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&I.ref===void 0||(M[he]=I[he]);var he=arguments.length-2;if(he===1)M.children=z;else if(1<he){for(var Te=Array(he),ye=0;ye<he;ye++)Te[ye]=arguments[ye+2];M.children=Te}return C(x.type,X,void 0,void 0,de,M)},xe.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},xe.createElement=function(x,I,z){var M,X={},de=null;if(I!=null)for(M in I.key!==void 0&&(de=""+I.key),I)ue.call(I,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(X[M]=I[M]);var he=arguments.length-2;if(he===1)X.children=z;else if(1<he){for(var Te=Array(he),ye=0;ye<he;ye++)Te[ye]=arguments[ye+2];X.children=Te}if(x&&x.defaultProps)for(M in he=x.defaultProps,he)X[M]===void 0&&(X[M]=he[M]);return C(x,de,void 0,void 0,null,X)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(x){return{$$typeof:d,render:x}},xe.isValidElement=b,xe.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:ce}},xe.memo=function(x,I){return{$$typeof:g,type:x,compare:I===void 0?null:I}},xe.startTransition=function(x){var I=ee.T,z={};ee.T=z;try{var M=x(),X=ee.S;X!==null&&X(z,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(ze,ve)}catch(de){ve(de)}finally{ee.T=I}},xe.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},xe.use=function(x){return ee.H.use(x)},xe.useActionState=function(x,I,z){return ee.H.useActionState(x,I,z)},xe.useCallback=function(x,I){return ee.H.useCallback(x,I)},xe.useContext=function(x){return ee.H.useContext(x)},xe.useDebugValue=function(){},xe.useDeferredValue=function(x,I){return ee.H.useDeferredValue(x,I)},xe.useEffect=function(x,I,z){var M=ee.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return M.useEffect(x,I)},xe.useId=function(){return ee.H.useId()},xe.useImperativeHandle=function(x,I,z){return ee.H.useImperativeHandle(x,I,z)},xe.useInsertionEffect=function(x,I){return ee.H.useInsertionEffect(x,I)},xe.useLayoutEffect=function(x,I){return ee.H.useLayoutEffect(x,I)},xe.useMemo=function(x,I){return ee.H.useMemo(x,I)},xe.useOptimistic=function(x,I){return ee.H.useOptimistic(x,I)},xe.useReducer=function(x,I,z){return ee.H.useReducer(x,I,z)},xe.useRef=function(x){return ee.H.useRef(x)},xe.useState=function(x){return ee.H.useState(x)},xe.useSyncExternalStore=function(x,I,z){return ee.H.useSyncExternalStore(x,I,z)},xe.useTransition=function(){return ee.H.useTransition()},xe.version="19.1.0",xe}var lT;function Uh(){return lT||(lT=1,ym.exports=rI()),ym.exports}var F=Uh();const iI=Mg(F);var _m={exports:{}},vu={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function sI(){return uT||(uT=1,function(n){function e(te,ce){var ve=te.length;te.push(ce);e:for(;0<ve;){var ze=ve-1>>>1,x=te[ze];if(0<o(x,ce))te[ze]=ce,te[ve]=x,ve=ze;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ce=te[0],ve=te.pop();if(ve!==ce){te[0]=ve;e:for(var ze=0,x=te.length,I=x>>>1;ze<I;){var z=2*(ze+1)-1,M=te[z],X=z+1,de=te[X];if(0>o(M,ve))X<x&&0>o(de,M)?(te[ze]=de,te[X]=ve,ze=X):(te[ze]=M,te[z]=ve,ze=z);else if(X<x&&0>o(de,ve))te[ze]=de,te[X]=ve,ze=X;else break e}}return ce}function o(te,ce){var ve=te.sortIndex-ce.sortIndex;return ve!==0?ve:te.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,T=null,w=3,N=!1,q=!1,$=!1,U=!1,J=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function re(te){for(var ce=t(g);ce!==null;){if(ce.callback===null)i(g);else if(ce.startTime<=te)i(g),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=t(g)}}function ee(te){if($=!1,re(te),!q)if(t(m)!==null)q=!0,ue||(ue=!0,j());else{var ce=t(g);ce!==null&&Le(ee,ce.startTime-te)}}var ue=!1,C=-1,R=5,b=-1;function P(){return U?!0:!(n.unstable_now()-b<R)}function k(){if(U=!1,ue){var te=n.unstable_now();b=te;var ce=!0;try{e:{q=!1,$&&($=!1,ae(C),C=-1),N=!0;var ve=w;try{t:{for(re(te),T=t(m);T!==null&&!(T.expirationTime>te&&P());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,w=T.priorityLevel;var x=ze(T.expirationTime<=te);if(te=n.unstable_now(),typeof x=="function"){T.callback=x,re(te),ce=!0;break t}T===t(m)&&i(m),re(te)}else i(m);T=t(m)}if(T!==null)ce=!0;else{var I=t(g);I!==null&&Le(ee,I.startTime-te),ce=!1}}break e}finally{T=null,w=ve,N=!1}ce=void 0}}finally{ce?j():ue=!1}}}var j;if(typeof Z=="function")j=function(){Z(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Qe=D.port2;D.port1.onmessage=k,j=function(){Qe.postMessage(null)}}else j=function(){J(k,0)};function Le(te,ce){C=J(function(){te(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(te){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var ve=w;w=ce;try{return te()}finally{w=ve}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ve=w;w=te;try{return ce()}finally{w=ve}},n.unstable_scheduleCallback=function(te,ce,ve){var ze=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ze+ve:ze):ve=ze,te){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ve+x,te={id:_++,callback:ce,priorityLevel:te,startTime:ve,expirationTime:x,sortIndex:-1},ve>ze?(te.sortIndex=ve,e(g,te),t(m)===null&&te===t(g)&&($?(ae(C),C=-1):$=!0,Le(ee,ve-ze))):(te.sortIndex=x,e(m,te),q||N||(q=!0,ue||(ue=!0,j()))),te},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(te){var ce=w;return function(){var ve=w;w=ce;try{return te.apply(this,arguments)}finally{w=ve}}}}(Em)),Em}var cT;function aI(){return cT||(cT=1,vm.exports=sI()),vm.exports}var Tm={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function oI(){if(fT)return pn;fT=1;var n=Uh();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},pn.flushSync=function(m){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=_,i.d.f()}},pn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},pn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},pn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:N}):_==="script"&&i.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},pn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);i.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},pn.requestFormReset=function(m){i.d.r(m)},pn.unstable_batchedUpdates=function(m,g){return m(g)},pn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var hT;function lI(){if(hT)return Tm.exports;hT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tm.exports=oI(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function uI(){if(dT)return vu;dT=1;var n=aI(),e=Uh(),t=lI();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,u=s;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return d(h),r;if(p===u)return d(h),s;p=p.sibling}throw Error(i(188))}if(a.return!==u.return)a=h,u=p;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,u=p;break}if(S===u){E=!0,u=h,a=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===a){E=!0,a=p,u=h;break}if(S===u){E=!0,u=p,a=h;break}S=S.sibling}if(!E)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function Qe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case q:return"Fragment";case U:return"Profiler";case $:return"StrictMode";case ee:return"Suspense";case ue:return"SuspenseList";case b:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case Z:return(r.displayName||"Context")+".Provider";case ae:return(r._context.displayName||"Context")+".Consumer";case re:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return s=r.displayName||null,s!==null?s:Qe(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return Qe(r(s))}catch{}}return null}var Le=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ze=[],x=-1;function I(r){return{current:r}}function z(r){0>x||(r.current=ze[x],ze[x]=null,x--)}function M(r,s){x++,ze[x]=r.current,r.current=s}var X=I(null),de=I(null),he=I(null),Te=I(null);function ye(r,s){switch(M(he,s),M(de,r),M(X,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?ME(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=ME(s),r=xE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}z(X),M(X,r)}function ft(){z(X),z(de),z(he)}function Gt(r){r.memoizedState!==null&&M(Te,r);var s=X.current,a=xE(s,r.type);s!==a&&(M(de,r),M(X,a))}function Rt(r){de.current===r&&(z(X),z(de)),Te.current===r&&(z(Te),du._currentValue=ve)}var mt=Object.prototype.hasOwnProperty,Ot=n.unstable_scheduleCallback,He=n.unstable_cancelCallback,xn=n.unstable_shouldYield,It=n.unstable_requestPaint,fe=n.unstable_now,Ae=n.unstable_getCurrentPriorityLevel,Se=n.unstable_ImmediatePriority,Ne=n.unstable_UserBlockingPriority,Ke=n.unstable_NormalPriority,st=n.unstable_LowPriority,Tt=n.unstable_IdlePriority,ur=n.log,Wt=n.unstable_setDisableYieldValue,nn=null,We=null;function vt(r){if(typeof ur=="function"&&Wt(r),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(nn,r)}catch{}}var gt=Math.clz32?Math.clz32:Ka,Hs=Math.log,ji=Math.LN2;function Ka(r){return r>>>=0,r===0?32:31-(Hs(r)/ji|0)|0}var Qn=256,Ir=4194304;function kn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function bn(r,s,a){var u=r.pendingLanes;if(u===0)return 0;var h=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?h=kn(u):(E&=S,E!==0?h=kn(E):a||(a=S&~r,a!==0&&(h=kn(a))))):(S=u&~p,S!==0?h=kn(S):E!==0?h=kn(E):a||(a=u&~r,a!==0&&(h=kn(a)))),h===0?0:s!==0&&s!==h&&(s&p)===0&&(p=h&-h,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:h}function Bi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ya(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ml(){var r=Qn;return Qn<<=1,(Qn&4194048)===0&&(Qn=256),r}function qi(){var r=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),r}function Qa(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Pt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function hc(r,s,a,u,h,p){var E=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var S=r.entanglements,O=r.expirationTimes,K=r.hiddenUpdates;for(a=E&~a;0<a;){var ne=31-gt(a),oe=1<<ne;S[ne]=0,O[ne]=-1;var Y=K[ne];if(Y!==null)for(K[ne]=null,ne=0;ne<Y.length;ne++){var Q=Y[ne];Q!==null&&(Q.lane&=-536870913)}a&=~oe}u!==0&&Fi(r,u,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~s))}function Fi(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-gt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|a&4194090}function Hi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var u=31-gt(a),h=1<<u;h&s|r[u]&s&&(r[u]|=s),a&=~h}}function gl(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function yl(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ti(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:JE(r.type))}function Ed(r,s){var a=ce.p;try{return ce.p=r,s()}finally{ce.p=a}}var Cr=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Cr,rn="__reactProps$"+Cr,ni="__reactContainer$"+Cr,Gs="__reactEvents$"+Cr,$s="__reactListeners$"+Cr,Td="__reactHandles$"+Cr,cr="__reactResources$"+Cr,Gi="__reactMarker$"+Cr;function Wa(r){delete r[Mt],delete r[rn],delete r[Gs],delete r[$s],delete r[Td]}function Dr(r){var s=r[Mt];if(s)return s;for(var a=r.parentNode;a;){if(s=a[ni]||a[Mt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=zE(r);r!==null;){if(a=r[Mt])return a;r=zE(r)}return s}r=a,a=r.parentNode}return null}function Nr(r){if(r=r[Mt]||r[ni]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function $i(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Ki(r){var s=r[cr];return s||(s=r[cr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(r){r[Gi]=!0}var dc=new Set,Ks={};function Or(r,s){Pr(r,s),Pr(r+"Capture",s)}function Pr(r,s){for(Ks[r]=s,r=0;r<s.length;r++)dc.add(s[r])}var Ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},Xa={};function Sd(r){return mt.call(Xa,r)?!0:mt.call(Mr,r)?!1:Ys.test(r)?Xa[r]=!0:(Mr[r]=!0,!1)}function Qs(r,s,a){if(Sd(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function Ws(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function Wn(r,s,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+u)}}var Xs,Za;function ri(r){if(Xs===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Xs=s&&s[1]||"",Za=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+r+Za}var Ja=!1;function eo(r,s){if(!r||Ja)return"";Ja=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Q){var Y=Q}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(Q){Y=Q}r.call(oe.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var O=E.split(`
`),K=S.split(`
`);for(h=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(u===O.length||h===K.length)for(u=O.length-1,h=K.length-1;1<=u&&0<=h&&O[u]!==K[h];)h--;for(;1<=u&&0<=h;u--,h--)if(O[u]!==K[h]){if(u!==1||h!==1)do if(u--,h--,0>h||O[u]!==K[h]){var ne=`
`+O[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=h);break}}}finally{Ja=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?ri(a):""}function wd(r){switch(r.tag){case 26:case 27:case 5:return ri(r.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return eo(r.type,!1);case 11:return eo(r.type.render,!1);case 1:return eo(r.type,!0);case 31:return ri("Activity");default:return""}}function fr(r){try{var s="";do s+=wd(r),r=r.return;while(r);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function St(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Yi(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zs(r){var s=Yi(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Qi(r){r._valueTracker||(r._valueTracker=Zs(r))}function at(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return r&&(u=Yi(r)?r.checked?"true":"false":r.value),r=u,r!==a?(s.setValue(r),!0):!1}function ii(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Js=/[\n"\\]/g;function Xt(r){return r.replace(Js,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _l(r,s,a,u,h,p,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+St(s)):r.value!==""+St(s)&&(r.value=""+St(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?El(r,E,St(s)):a!=null?El(r,E,St(a)):u!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+St(S):r.removeAttribute("name")}function vl(r,s,a,u,h,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;a=a!=null?""+St(a):"",s=s!=null?""+St(s):a,S||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function El(r,s,a){s==="number"&&ii(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Wi(r,s,a,u){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&u&&(r[a].defaultSelected=!0)}else{for(a=""+St(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function pc(r,s,a){if(s!=null&&(s=""+St(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+St(a):""}function mc(r,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(i(92));if(Le(u)){if(1<u.length)throw Error(i(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=St(s),r.defaultValue=a,u=r.textContent,u===a&&u!==""&&u!==null&&(r.value=u)}function Xn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var si=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(r,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,a):typeof a!="number"||a===0||si.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function Sl(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&a[h]!==u&&Tl(r,h,u)}else for(var p in s)s.hasOwnProperty(p)&&Tl(r,p,s[p])}function to(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(r){return yc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var wl=null;function Al(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Xi=null,En=null;function _c(r){var s=Nr(r);if(s&&(r=s.stateNode)){var a=r[rn]||null;e:switch(r=s.stateNode,s.type){case"input":if(_l(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==r&&u.form===r.form){var h=u[rn]||null;if(!h)throw Error(i(90));_l(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===r.form&&at(u)}break e;case"textarea":pc(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Wi(r,!!a.multiple,s,!1)}}}var ea=!1;function ta(r,s,a){if(ea)return r(s,a);ea=!0;try{var u=r(s);return u}finally{if(ea=!1,(Xi!==null||En!==null)&&(lf(),Xi&&(s=Xi,r=En,En=Xi=null,_c(s),r)))for(s=0;s<r.length;s++)_c(r[s])}}function Zi(r,s){var a=r.stateNode;if(a===null)return null;var u=a[rn]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ai=!1;if(Tn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){ai=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{ai=!1}var Zn=null,ht=null,no=null;function vc(){if(no)return no;var r,s=ht,a=s.length,u,h="value"in Zn?Zn.value:Zn.textContent,p=h.length;for(r=0;r<a&&s[r]===h[r];r++);var E=a-r;for(u=1;u<=E&&s[a-u]===h[p-u];u++);return no=h.slice(r,1<u?1-u:void 0)}function na(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ra(){return!0}function bl(){return!1}function $t(r){function s(a,u,h,p,E){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ra:bl,this.isPropagationStopped=bl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),s}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=$t(hn),sa=_({},hn,{view:0,detail:0}),aa=$t(sa),ro,oa,xr,la=_({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==xr&&(xr&&r.type==="mousemove"?(ro=r.screenX-xr.screenX,oa=r.screenY-xr.screenY):oa=ro=0,xr=r),ro)},movementY:function(r){return"movementY"in r?r.movementY:oa}}),ua=$t(la),Ad=_({},la,{dataTransfer:0}),Ec=$t(Ad),ca=_({},sa,{relatedTarget:0}),io=$t(ca),Tc=_({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Rl=$t(Tc),Il=_({},hn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Sc=$t(Il),so=_({},hn,{data:0}),Cl=$t(so),wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ac[r])?!!s[r]:!1}function ao(){return bc}var Rc=_({},sa,{key:function(r){if(r.key){var s=wc[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=na(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?oi[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(r){return r.type==="keypress"?na(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?na(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),oo=$t(Rc),Sn=_({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=$t(Sn),Ic=_({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),es=$t(Ic),f=_({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=$t(f),v=_({},la,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),A=$t(v),G=_({},hn,{newState:0,oldState:0}),W=$t(G),pe=[9,13,27,32],Pe=Tn&&"CompositionEvent"in window,yt=null;Tn&&"documentMode"in document&&(yt=document.documentMode);var nt=Tn&&"TextEvent"in window&&!yt,kt=Tn&&(!Pe||yt&&8<yt&&11>=yt),Vn=" ",kr=!1;function dr(r,s){switch(r){case"keyup":return pe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mr=!1;function Nl(r,s){switch(r){case"compositionend":return pr(s);case"keypress":return s.which!==32?null:(kr=!0,Vn);case"textInput":return r=s.data,r===Vn&&kr?null:r;default:return null}}function R1(r,s){if(mr)return r==="compositionend"||!Pe&&dr(r,s)?(r=vc(),no=ht=Zn=null,mr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return kt&&s.locale!=="ko"?null:s.data;default:return null}}var I1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!I1[r.type]:s==="textarea"}function Yy(r,s,a,u){Xi?En?En.push(u):En=[u]:Xi=u,s=pf(s,"onChange"),0<s.length&&(a=new ia("onChange","change",null,a,u),r.push({event:a,listeners:s}))}var Ol=null,Pl=null;function C1(r){CE(r,0)}function Cc(r){var s=$i(r);if(at(s))return r}function Qy(r,s){if(r==="change")return s}var Wy=!1;if(Tn){var bd;if(Tn){var Rd="oninput"in document;if(!Rd){var Xy=document.createElement("div");Xy.setAttribute("oninput","return;"),Rd=typeof Xy.oninput=="function"}bd=Rd}else bd=!1;Wy=bd&&(!document.documentMode||9<document.documentMode)}function Zy(){Ol&&(Ol.detachEvent("onpropertychange",Jy),Pl=Ol=null)}function Jy(r){if(r.propertyName==="value"&&Cc(Pl)){var s=[];Yy(s,Pl,r,Al(r)),ta(C1,s)}}function D1(r,s,a){r==="focusin"?(Zy(),Ol=s,Pl=a,Ol.attachEvent("onpropertychange",Jy)):r==="focusout"&&Zy()}function N1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Cc(Pl)}function O1(r,s){if(r==="click")return Cc(s)}function P1(r,s){if(r==="input"||r==="change")return Cc(s)}function M1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ln=typeof Object.is=="function"?Object.is:M1;function Ml(r,s){if(Ln(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!mt.call(s,h)||!Ln(r[h],s[h]))return!1}return!0}function e_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function t_(r,s){var a=e_(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=s&&u>=s)return{node:a,offset:s-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=e_(a)}}function n_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?n_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function r_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ii(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ii(r.document)}return s}function Id(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var x1=Tn&&"documentMode"in document&&11>=document.documentMode,lo=null,Cd=null,xl=null,Dd=!1;function i_(r,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dd||lo==null||lo!==ii(u)||(u=lo,"selectionStart"in u&&Id(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xl&&Ml(xl,u)||(xl=u,u=pf(Cd,"onSelect"),0<u.length&&(s=new ia("onSelect","select",null,s,a),r.push({event:s,listeners:u}),s.target=lo)))}function fa(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var uo={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Nd={},s_={};Tn&&(s_=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function ha(r){if(Nd[r])return Nd[r];if(!uo[r])return r;var s=uo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in s_)return Nd[r]=s[a];return r}var a_=ha("animationend"),o_=ha("animationiteration"),l_=ha("animationstart"),k1=ha("transitionrun"),V1=ha("transitionstart"),L1=ha("transitioncancel"),u_=ha("transitionend"),c_=new Map,Od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Od.push("scrollEnd");function gr(r,s){c_.set(r,s),Or(s,[r])}var f_=new WeakMap;function Jn(r,s){if(typeof r=="object"&&r!==null){var a=f_.get(r);return a!==void 0?a:(s={value:r,source:s,stack:fr(s)},f_.set(r,s),s)}return{value:r,source:s,stack:fr(s)}}var er=[],co=0,Pd=0;function Dc(){for(var r=co,s=Pd=co=0;s<r;){var a=er[s];er[s++]=null;var u=er[s];er[s++]=null;var h=er[s];er[s++]=null;var p=er[s];if(er[s++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}p!==0&&h_(a,h,p)}}function Nc(r,s,a,u){er[co++]=r,er[co++]=s,er[co++]=a,er[co++]=u,Pd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Md(r,s,a,u){return Nc(r,s,a,u),Oc(r)}function fo(r,s){return Nc(r,null,null,s),Oc(r)}function h_(r,s,a){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a);for(var h=!1,p=r.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,h&&s!==null&&(h=31-gt(a),r=p.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=a|536870912),p):null}function Oc(r){if(50<su)throw su=0,Up=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ho={};function z1(r,s,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(r,s,a,u){return new z1(r,s,a,u)}function xd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function li(r,s){var a=r.alternate;return a===null?(a=zn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function d_(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Pc(r,s,a,u,h,p){var E=0;if(u=r,typeof r=="function")xd(r)&&(E=1);else if(typeof r=="string")E=jR(r,a,X.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case b:return r=zn(31,a,s,h),r.elementType=b,r.lanes=p,r;case q:return da(a.children,h,p,s);case $:E=8,h|=24;break;case U:return r=zn(12,a,s,h|2),r.elementType=U,r.lanes=p,r;case ee:return r=zn(13,a,s,h),r.elementType=ee,r.lanes=p,r;case ue:return r=zn(19,a,s,h),r.elementType=ue,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case J:case Z:E=10;break e;case ae:E=9;break e;case re:E=11;break e;case C:E=14;break e;case R:E=16,u=null;break e}E=29,a=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=zn(E,a,s,h),s.elementType=r,s.type=u,s.lanes=p,s}function da(r,s,a,u){return r=zn(7,r,u,s),r.lanes=a,r}function kd(r,s,a){return r=zn(6,r,null,s),r.lanes=a,r}function Vd(r,s,a){return s=zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var po=[],mo=0,Mc=null,xc=0,tr=[],nr=0,pa=null,ui=1,ci="";function ma(r,s){po[mo++]=xc,po[mo++]=Mc,Mc=r,xc=s}function p_(r,s,a){tr[nr++]=ui,tr[nr++]=ci,tr[nr++]=pa,pa=r;var u=ui;r=ci;var h=32-gt(u)-1;u&=~(1<<h),a+=1;var p=32-gt(s)+h;if(30<p){var E=h-h%5;p=(u&(1<<E)-1).toString(32),u>>=E,h-=E,ui=1<<32-gt(s)+h|a<<h|u,ci=p+r}else ui=1<<p|a<<h|u,ci=r}function Ld(r){r.return!==null&&(ma(r,1),p_(r,1,0))}function zd(r){for(;r===Mc;)Mc=po[--mo],po[mo]=null,xc=po[--mo],po[mo]=null;for(;r===pa;)pa=tr[--nr],tr[nr]=null,ci=tr[--nr],tr[nr]=null,ui=tr[--nr],tr[nr]=null}var wn=null,Ct=null,Xe=!1,ga=null,Vr=!1,Ud=Error(i(519));function ya(r){var s=Error(i(418,""));throw Ll(Jn(s,r)),Ud}function m_(r){var s=r.stateNode,a=r.type,u=r.memoizedProps;switch(s[Mt]=r,s[rn]=u,a){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(a=0;a<ou.length;a++)je(ou[a],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),vl(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Qi(s);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),mc(s,u.value,u.defaultValue,u.children),Qi(s)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||PE(s.textContent,a)?(u.popover!=null&&(je("beforetoggle",s),je("toggle",s)),u.onScroll!=null&&je("scroll",s),u.onScrollEnd!=null&&je("scrollend",s),u.onClick!=null&&(s.onclick=mf),s=!0):s=!1,s||ya(r)}function g_(r){for(wn=r.return;wn;)switch(wn.tag){case 5:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:wn=wn.return}}function kl(r){if(r!==wn)return!1;if(!Xe)return g_(r),Xe=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||tm(r.type,r.memoizedProps)),a=!a),a&&Ct&&ya(r),g_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(s===0){Ct=_r(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;r=r.nextSibling}Ct=null}}else s===27?(s=Ct,gs(r.type)?(r=sm,sm=null,Ct=r):Ct=s):Ct=wn?_r(r.stateNode.nextSibling):null;return!0}function Vl(){Ct=wn=null,Xe=!1}function y_(){var r=ga;return r!==null&&(Cn===null?Cn=r:Cn.push.apply(Cn,r),ga=null),r}function Ll(r){ga===null?ga=[r]:ga.push(r)}var jd=I(null),_a=null,fi=null;function ts(r,s,a){M(jd,s._currentValue),s._currentValue=a}function hi(r){r._currentValue=jd.current,z(jd)}function Bd(r,s,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===a)break;r=r.return}}function qd(r,s,a,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=h;for(var O=0;O<s.length;O++)if(S.context===s[O]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),Bd(p.return,a,r),u||(E=null);break e}p=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),Bd(E,a,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function zl(r,s,a,u){r=null;for(var h=s,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=h.type;Ln(h.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(h===Te.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(du):r=[du])}h=h.return}r!==null&&qd(s,r,a,u),s.flags|=262144}function kc(r){for(r=r.firstContext;r!==null;){if(!Ln(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function va(r){_a=r,fi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function dn(r){return __(_a,r)}function Vc(r,s){return _a===null&&va(r),__(r,s)}function __(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},fi===null){if(r===null)throw Error(i(308));fi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else fi=fi.next=s;return a}var U1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},j1=n.unstable_scheduleCallback,B1=n.unstable_NormalPriority,Kt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fd(){return{controller:new U1,data:new Map,refCount:0}}function Ul(r){r.refCount--,r.refCount===0&&j1(B1,function(){r.controller.abort()})}var jl=null,Hd=0,go=0,yo=null;function q1(r,s){if(jl===null){var a=jl=[];Hd=0,go=$p(),yo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Hd++,s.then(v_,v_),s}function v_(){if(--Hd===0&&jl!==null){yo!==null&&(yo.status="fulfilled");var r=jl;jl=null,go=0,yo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function F1(r,s){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var E_=te.S;te.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&q1(r,s),E_!==null&&E_(r,s)};var Ea=I(null);function Gd(){var r=Ea.current;return r!==null?r:dt.pooledCache}function Lc(r,s){s===null?M(Ea,Ea.current):M(Ea,s.pool)}function T_(){var r=Gd();return r===null?null:{parent:Kt._currentValue,pool:r}}var Bl=Error(i(460)),S_=Error(i(474)),zc=Error(i(542)),$d={then:function(){}};function w_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Uc(){}function A_(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(Uc,Uc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,R_(r),r;default:if(typeof s.status=="string")s.then(Uc,Uc);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,R_(r),r}throw ql=s,Bl}}var ql=null;function b_(){if(ql===null)throw Error(i(459));var r=ql;return ql=null,r}function R_(r){if(r===Bl||r===zc)throw Error(i(483))}var ns=!1;function Kd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function rs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function is(r,s,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=Oc(r),h_(r,null,a),s}return Nc(r,u,s,a),Oc(r)}function Fl(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,Hi(r,a)}}function Qd(r,s){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?h=p=s:p=p.next=s}else h=p=s;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var Wd=!1;function Hl(){if(Wd){var r=yo;if(r!==null)throw r}}function Gl(r,s,a,u){Wd=!1;var h=r.updateQueue;ns=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,K=O.next;O.next=null,E===null?p=K:E.next=K,E=O;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==E&&(S===null?ne.firstBaseUpdate=K:S.next=K,ne.lastBaseUpdate=O))}if(p!==null){var oe=h.baseState;E=0,ne=K=O=null,S=p;do{var Y=S.lane&-536870913,Q=Y!==S.lane;if(Q?(Ge&Y)===Y:(u&Y)===Y){Y!==0&&Y===go&&(Wd=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var De=r,be=S;Y=s;var ut=a;switch(be.tag){case 1:if(De=be.payload,typeof De=="function"){oe=De.call(ut,oe,Y);break e}oe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=be.payload,Y=typeof De=="function"?De.call(ut,oe,Y):De,Y==null)break e;oe=_({},oe,Y);break e;case 2:ns=!0}}Y=S.callback,Y!==null&&(r.flags|=64,Q&&(r.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(K=ne=Q,O=oe):ne=ne.next=Q,E|=Y;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);ne===null&&(O=oe),h.baseState=O,h.firstBaseUpdate=K,h.lastBaseUpdate=ne,p===null&&(h.shared.lanes=0),hs|=E,r.lanes=E,r.memoizedState=oe}}function I_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function C_(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)I_(a[r],s)}var _o=I(null),jc=I(0);function D_(r,s){r=vi,M(jc,r),M(_o,s),vi=r|s.baseLanes}function Xd(){M(jc,vi),M(_o,_o.current)}function Zd(){vi=jc.current,z(_o),z(jc)}var ss=0,ke=null,ot=null,Ut=null,Bc=!1,vo=!1,Ta=!1,qc=0,$l=0,Eo=null,H1=0;function Vt(){throw Error(i(321))}function Jd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Ln(r[a],s[a]))return!1;return!0}function ep(r,s,a,u,h,p){return ss=p,ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,te.H=r===null||r.memoizedState===null?hv:dv,Ta=!1,p=a(u,h),Ta=!1,vo&&(p=O_(s,a,u,h)),N_(r),p}function N_(r){te.H=Yc;var s=ot!==null&&ot.next!==null;if(ss=0,Ut=ot=ke=null,Bc=!1,$l=0,Eo=null,s)throw Error(i(300));r===null||Zt||(r=r.dependencies,r!==null&&kc(r)&&(Zt=!0))}function O_(r,s,a,u){ke=r;var h=0;do{if(vo&&(Eo=null),$l=0,vo=!1,25<=h)throw Error(i(301));if(h+=1,Ut=ot=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}te.H=X1,p=s(a,u)}while(vo);return p}function G1(){var r=te.H,s=r.useState()[0];return s=typeof s.then=="function"?Kl(s):s,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(ke.flags|=1024),s}function tp(){var r=qc!==0;return qc=0,r}function np(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function rp(r){if(Bc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bc=!1}ss=0,Ut=ot=ke=null,vo=!1,$l=qc=0,Eo=null}function Rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ke.memoizedState=Ut=r:Ut=Ut.next=r,Ut}function jt(){if(ot===null){var r=ke.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var s=Ut===null?ke.memoizedState:Ut.next;if(s!==null)Ut=s,ot=r;else{if(r===null)throw ke.alternate===null?Error(i(467)):Error(i(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ut===null?ke.memoizedState=Ut=r:Ut=Ut.next=r}return Ut}function ip(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(r){var s=$l;return $l+=1,Eo===null&&(Eo=[]),r=A_(Eo,r,s),s=ke,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,te.H=s===null||s.memoizedState===null?hv:dv),r}function Fc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Kl(r);if(r.$$typeof===Z)return dn(r)}throw Error(i(438,String(r)))}function sp(r){var s=null,a=ke.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=ip(),ke.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),u=0;u<r;u++)a[u]=P;return s.index++,a}function di(r,s){return typeof s=="function"?s(r):s}function Hc(r){var s=jt();return ap(s,ot,r)}function ap(r,s,a){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var h=r.baseQueue,p=u.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}s.baseQueue=h=p,u.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{s=h.next;var S=E=null,O=null,K=s,ne=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(Ge&oe)===oe:(ss&oe)===oe){var Y=K.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===go&&(ne=!0);else if((ss&Y)===Y){K=K.next,Y===go&&(ne=!0);continue}else oe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=oe,E=p):O=O.next=oe,ke.lanes|=Y,hs|=Y;oe=K.action,Ta&&a(p,oe),p=K.hasEagerState?K.eagerState:a(p,oe)}else Y={lane:oe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=Y,E=p):O=O.next=Y,ke.lanes|=oe,hs|=oe;K=K.next}while(K!==null&&K!==s);if(O===null?E=p:O.next=S,!Ln(p,r.memoizedState)&&(Zt=!0,ne&&(a=yo,a!==null)))throw a;r.memoizedState=p,r.baseState=E,r.baseQueue=O,u.lastRenderedState=p}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function op(r){var s=jt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var u=a.dispatch,h=a.pending,p=s.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do p=r(p,E.action),E=E.next;while(E!==h);Ln(p,s.memoizedState)||(Zt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,u]}function P_(r,s,a){var u=ke,h=jt(),p=Xe;if(p){if(a===void 0)throw Error(i(407));a=a()}else a=s();var E=!Ln((ot||h).memoizedState,a);E&&(h.memoizedState=a,Zt=!0),h=h.queue;var S=k_.bind(null,u,h,r);if(Yl(2048,8,S,[r]),h.getSnapshot!==s||E||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,To(9,Gc(),x_.bind(null,u,h,a,s),null),dt===null)throw Error(i(349));p||(ss&124)!==0||M_(u,s,a)}return a}function M_(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=ke.updateQueue,s===null?(s=ip(),ke.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function x_(r,s,a,u){s.value=a,s.getSnapshot=u,V_(s)&&L_(r)}function k_(r,s,a){return a(function(){V_(s)&&L_(r)})}function V_(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Ln(r,a)}catch{return!0}}function L_(r){var s=fo(r,2);s!==null&&Fn(s,r,2)}function lp(r){var s=Rn();if(typeof r=="function"){var a=r;if(r=a(),Ta){vt(!0);try{a()}finally{vt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:r},s}function z_(r,s,a,u){return r.baseState=a,ap(r,ot,typeof u=="function"?u:di)}function $1(r,s,a,u,h){if(Kc(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};te.T!==null?a(!0):p.isTransition=!1,u(p),a=s.pending,a===null?(p.next=s.pending=p,U_(s,p)):(p.next=a.next,s.pending=a.next=p)}}function U_(r,s){var a=s.action,u=s.payload,h=r.state;if(s.isTransition){var p=te.T,E={};te.T=E;try{var S=a(h,u),O=te.S;O!==null&&O(E,S),j_(r,s,S)}catch(K){up(r,s,K)}finally{te.T=p}}else try{p=a(h,u),j_(r,s,p)}catch(K){up(r,s,K)}}function j_(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){B_(r,s,u)},function(u){return up(r,s,u)}):B_(r,s,a)}function B_(r,s,a){s.status="fulfilled",s.value=a,q_(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,U_(r,a)))}function up(r,s,a){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,q_(s),s=s.next;while(s!==u)}r.action=null}function q_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function F_(r,s){return s}function H_(r,s){if(Xe){var a=dt.formState;if(a!==null){e:{var u=ke;if(Xe){if(Ct){t:{for(var h=Ct,p=Vr;h.nodeType!==8;){if(!p){h=null;break t}if(h=_r(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Ct=_r(h.nextSibling),u=h.data==="F!";break e}}ya(u)}u=!1}u&&(s=a[0])}}return a=Rn(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F_,lastRenderedState:s},a.queue=u,a=uv.bind(null,ke,u),u.dispatch=a,u=lp(!1),p=pp.bind(null,ke,!1,u.queue),u=Rn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,a=$1.bind(null,ke,h,p,a),h.dispatch=a,u.memoizedState=r,[s,a,!1]}function G_(r){var s=jt();return $_(s,ot,r)}function $_(r,s,a){if(s=ap(r,s,F_)[0],r=Hc(di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Kl(s)}catch(E){throw E===Bl?zc:E}else u=s;s=jt();var h=s.queue,p=h.dispatch;return a!==s.memoizedState&&(ke.flags|=2048,To(9,Gc(),K1.bind(null,h,a),null)),[u,p,r]}function K1(r,s){r.action=s}function K_(r){var s=jt(),a=ot;if(a!==null)return $_(s,a,r);jt(),s=s.memoizedState,a=jt();var u=a.queue.dispatch;return a.memoizedState=r,[s,u,!1]}function To(r,s,a,u){return r={tag:r,create:a,deps:u,inst:s,next:null},s=ke.updateQueue,s===null&&(s=ip(),ke.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,s.lastEffect=r),r}function Gc(){return{destroy:void 0,resource:void 0}}function Y_(){return jt().memoizedState}function $c(r,s,a,u){var h=Rn();u=u===void 0?null:u,ke.flags|=r,h.memoizedState=To(1|s,Gc(),a,u)}function Yl(r,s,a,u){var h=jt();u=u===void 0?null:u;var p=h.memoizedState.inst;ot!==null&&u!==null&&Jd(u,ot.memoizedState.deps)?h.memoizedState=To(s,p,a,u):(ke.flags|=r,h.memoizedState=To(1|s,p,a,u))}function Q_(r,s){$c(8390656,8,r,s)}function W_(r,s){Yl(2048,8,r,s)}function X_(r,s){return Yl(4,2,r,s)}function Z_(r,s){return Yl(4,4,r,s)}function J_(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ev(r,s,a){a=a!=null?a.concat([r]):null,Yl(4,4,J_.bind(null,s,r),a)}function cp(){}function tv(r,s){var a=jt();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&Jd(s,u[1])?u[0]:(a.memoizedState=[r,s],r)}function nv(r,s){var a=jt();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&Jd(s,u[1]))return u[0];if(u=r(),Ta){vt(!0);try{r()}finally{vt(!1)}}return a.memoizedState=[u,s],u}function fp(r,s,a){return a===void 0||(ss&1073741824)!==0?r.memoizedState=s:(r.memoizedState=a,r=sE(),ke.lanes|=r,hs|=r,a)}function rv(r,s,a,u){return Ln(a,s)?a:_o.current!==null?(r=fp(r,a,u),Ln(r,s)||(Zt=!0),r):(ss&42)===0?(Zt=!0,r.memoizedState=a):(r=sE(),ke.lanes|=r,hs|=r,s)}function iv(r,s,a,u,h){var p=ce.p;ce.p=p!==0&&8>p?p:8;var E=te.T,S={};te.T=S,pp(r,!1,s,a);try{var O=h(),K=te.S;if(K!==null&&K(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=F1(O,u);Ql(r,s,ne,qn(r))}else Ql(r,s,u,qn(r))}catch(oe){Ql(r,s,{then:function(){},status:"rejected",reason:oe},qn())}finally{ce.p=p,te.T=E}}function Y1(){}function hp(r,s,a,u){if(r.tag!==5)throw Error(i(476));var h=sv(r).queue;iv(r,h,s,ve,a===null?Y1:function(){return av(r),a(u)})}function sv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:ve},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function av(r){var s=sv(r).next.queue;Ql(r,s,{},qn())}function dp(){return dn(du)}function ov(){return jt().memoizedState}function lv(){return jt().memoizedState}function Q1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=qn();r=rs(a);var u=is(s,r,a);u!==null&&(Fn(u,s,a),Fl(u,s,a)),s={cache:Fd()},r.payload=s;return}s=s.return}}function W1(r,s,a){var u=qn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Kc(r)?cv(s,a):(a=Md(r,s,a,u),a!==null&&(Fn(a,r,u),fv(a,s,u)))}function uv(r,s,a){var u=qn();Ql(r,s,a,u)}function Ql(r,s,a,u){var h={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kc(r))cv(s,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,S=p(E,a);if(h.hasEagerState=!0,h.eagerState=S,Ln(S,E))return Nc(r,s,h,0),dt===null&&Dc(),!1}catch{}finally{}if(a=Md(r,s,h,u),a!==null)return Fn(a,r,u),fv(a,s,u),!0}return!1}function pp(r,s,a,u){if(u={lane:2,revertLane:$p(),action:u,hasEagerState:!1,eagerState:null,next:null},Kc(r)){if(s)throw Error(i(479))}else s=Md(r,a,u,2),s!==null&&Fn(s,r,2)}function Kc(r){var s=r.alternate;return r===ke||s!==null&&s===ke}function cv(r,s){vo=Bc=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function fv(r,s,a){if((a&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,Hi(r,a)}}var Yc={readContext:dn,use:Fc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},hv={readContext:dn,use:Fc,useCallback:function(r,s){return Rn().memoizedState=[r,s===void 0?null:s],r},useContext:dn,useEffect:Q_,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,$c(4194308,4,J_.bind(null,s,r),a)},useLayoutEffect:function(r,s){return $c(4194308,4,r,s)},useInsertionEffect:function(r,s){$c(4,2,r,s)},useMemo:function(r,s){var a=Rn();s=s===void 0?null:s;var u=r();if(Ta){vt(!0);try{r()}finally{vt(!1)}}return a.memoizedState=[u,s],u},useReducer:function(r,s,a){var u=Rn();if(a!==void 0){var h=a(s);if(Ta){vt(!0);try{a(s)}finally{vt(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=W1.bind(null,ke,r),[u.memoizedState,r]},useRef:function(r){var s=Rn();return r={current:r},s.memoizedState=r},useState:function(r){r=lp(r);var s=r.queue,a=uv.bind(null,ke,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:cp,useDeferredValue:function(r,s){var a=Rn();return fp(a,r,s)},useTransition:function(){var r=lp(!1);return r=iv.bind(null,ke,r.queue,!0,!1),Rn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var u=ke,h=Rn();if(Xe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),dt===null)throw Error(i(349));(Ge&124)!==0||M_(u,s,a)}h.memoizedState=a;var p={value:a,getSnapshot:s};return h.queue=p,Q_(k_.bind(null,u,p,r),[r]),u.flags|=2048,To(9,Gc(),x_.bind(null,u,p,a,s),null),a},useId:function(){var r=Rn(),s=dt.identifierPrefix;if(Xe){var a=ci,u=ui;a=(u&~(1<<32-gt(u)-1)).toString(32)+a,s=""+s+"R"+a,a=qc++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=H1++,s=""+s+"r"+a.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:dp,useFormState:H_,useActionState:H_,useOptimistic:function(r){var s=Rn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=pp.bind(null,ke,!0,a),a.dispatch=s,[r,s]},useMemoCache:sp,useCacheRefresh:function(){return Rn().memoizedState=Q1.bind(null,ke)}},dv={readContext:dn,use:Fc,useCallback:tv,useContext:dn,useEffect:W_,useImperativeHandle:ev,useInsertionEffect:X_,useLayoutEffect:Z_,useMemo:nv,useReducer:Hc,useRef:Y_,useState:function(){return Hc(di)},useDebugValue:cp,useDeferredValue:function(r,s){var a=jt();return rv(a,ot.memoizedState,r,s)},useTransition:function(){var r=Hc(di)[0],s=jt().memoizedState;return[typeof r=="boolean"?r:Kl(r),s]},useSyncExternalStore:P_,useId:ov,useHostTransitionStatus:dp,useFormState:G_,useActionState:G_,useOptimistic:function(r,s){var a=jt();return z_(a,ot,r,s)},useMemoCache:sp,useCacheRefresh:lv},X1={readContext:dn,use:Fc,useCallback:tv,useContext:dn,useEffect:W_,useImperativeHandle:ev,useInsertionEffect:X_,useLayoutEffect:Z_,useMemo:nv,useReducer:op,useRef:Y_,useState:function(){return op(di)},useDebugValue:cp,useDeferredValue:function(r,s){var a=jt();return ot===null?fp(a,r,s):rv(a,ot.memoizedState,r,s)},useTransition:function(){var r=op(di)[0],s=jt().memoizedState;return[typeof r=="boolean"?r:Kl(r),s]},useSyncExternalStore:P_,useId:ov,useHostTransitionStatus:dp,useFormState:K_,useActionState:K_,useOptimistic:function(r,s){var a=jt();return ot!==null?z_(a,ot,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:sp,useCacheRefresh:lv},So=null,Wl=0;function Qc(r){var s=Wl;return Wl+=1,So===null&&(So=[]),A_(So,r,s)}function Xl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Wc(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function pv(r){var s=r._init;return s(r._payload)}function mv(r){function s(B,V){if(r){var H=B.deletions;H===null?(B.deletions=[V],B.flags|=16):H.push(V)}}function a(B,V){if(!r)return null;for(;V!==null;)s(B,V),V=V.sibling;return null}function u(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function h(B,V){return B=li(B,V),B.index=0,B.sibling=null,B}function p(B,V,H){return B.index=H,r?(H=B.alternate,H!==null?(H=H.index,H<V?(B.flags|=67108866,V):H):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function E(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function S(B,V,H,ie){return V===null||V.tag!==6?(V=kd(H,B.mode,ie),V.return=B,V):(V=h(V,H),V.return=B,V)}function O(B,V,H,ie){var _e=H.type;return _e===q?ne(B,V,H.props.children,ie,H.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&pv(_e)===V.type)?(V=h(V,H.props),Xl(V,H),V.return=B,V):(V=Pc(H.type,H.key,H.props,null,B.mode,ie),Xl(V,H),V.return=B,V)}function K(B,V,H,ie){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Vd(H,B.mode,ie),V.return=B,V):(V=h(V,H.children||[]),V.return=B,V)}function ne(B,V,H,ie,_e){return V===null||V.tag!==7?(V=da(H,B.mode,ie,_e),V.return=B,V):(V=h(V,H),V.return=B,V)}function oe(B,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=kd(""+V,B.mode,H),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return H=Pc(V.type,V.key,V.props,null,B.mode,H),Xl(H,V),H.return=B,H;case N:return V=Vd(V,B.mode,H),V.return=B,V;case R:var ie=V._init;return V=ie(V._payload),oe(B,V,H)}if(Le(V)||j(V))return V=da(V,B.mode,H,null),V.return=B,V;if(typeof V.then=="function")return oe(B,Qc(V),H);if(V.$$typeof===Z)return oe(B,Vc(B,V),H);Wc(B,V)}return null}function Y(B,V,H,ie){var _e=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:S(B,V,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===_e?O(B,V,H,ie):null;case N:return H.key===_e?K(B,V,H,ie):null;case R:return _e=H._init,H=_e(H._payload),Y(B,V,H,ie)}if(Le(H)||j(H))return _e!==null?null:ne(B,V,H,ie,null);if(typeof H.then=="function")return Y(B,V,Qc(H),ie);if(H.$$typeof===Z)return Y(B,V,Vc(B,H),ie);Wc(B,H)}return null}function Q(B,V,H,ie,_e){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get(H)||null,S(V,B,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return B=B.get(ie.key===null?H:ie.key)||null,O(V,B,ie,_e);case N:return B=B.get(ie.key===null?H:ie.key)||null,K(V,B,ie,_e);case R:var Ve=ie._init;return ie=Ve(ie._payload),Q(B,V,H,ie,_e)}if(Le(ie)||j(ie))return B=B.get(H)||null,ne(V,B,ie,_e,null);if(typeof ie.then=="function")return Q(B,V,H,Qc(ie),_e);if(ie.$$typeof===Z)return Q(B,V,H,Vc(V,ie),_e);Wc(V,ie)}return null}function De(B,V,H,ie){for(var _e=null,Ve=null,Ee=V,Re=V=0,en=null;Ee!==null&&Re<H.length;Re++){Ee.index>Re?(en=Ee,Ee=null):en=Ee.sibling;var Ye=Y(B,Ee,H[Re],ie);if(Ye===null){Ee===null&&(Ee=en);break}r&&Ee&&Ye.alternate===null&&s(B,Ee),V=p(Ye,V,Re),Ve===null?_e=Ye:Ve.sibling=Ye,Ve=Ye,Ee=en}if(Re===H.length)return a(B,Ee),Xe&&ma(B,Re),_e;if(Ee===null){for(;Re<H.length;Re++)Ee=oe(B,H[Re],ie),Ee!==null&&(V=p(Ee,V,Re),Ve===null?_e=Ee:Ve.sibling=Ee,Ve=Ee);return Xe&&ma(B,Re),_e}for(Ee=u(Ee);Re<H.length;Re++)en=Q(Ee,B,Re,H[Re],ie),en!==null&&(r&&en.alternate!==null&&Ee.delete(en.key===null?Re:en.key),V=p(en,V,Re),Ve===null?_e=en:Ve.sibling=en,Ve=en);return r&&Ee.forEach(function(Ts){return s(B,Ts)}),Xe&&ma(B,Re),_e}function be(B,V,H,ie){if(H==null)throw Error(i(151));for(var _e=null,Ve=null,Ee=V,Re=V=0,en=null,Ye=H.next();Ee!==null&&!Ye.done;Re++,Ye=H.next()){Ee.index>Re?(en=Ee,Ee=null):en=Ee.sibling;var Ts=Y(B,Ee,Ye.value,ie);if(Ts===null){Ee===null&&(Ee=en);break}r&&Ee&&Ts.alternate===null&&s(B,Ee),V=p(Ts,V,Re),Ve===null?_e=Ts:Ve.sibling=Ts,Ve=Ts,Ee=en}if(Ye.done)return a(B,Ee),Xe&&ma(B,Re),_e;if(Ee===null){for(;!Ye.done;Re++,Ye=H.next())Ye=oe(B,Ye.value,ie),Ye!==null&&(V=p(Ye,V,Re),Ve===null?_e=Ye:Ve.sibling=Ye,Ve=Ye);return Xe&&ma(B,Re),_e}for(Ee=u(Ee);!Ye.done;Re++,Ye=H.next())Ye=Q(Ee,B,Re,Ye.value,ie),Ye!==null&&(r&&Ye.alternate!==null&&Ee.delete(Ye.key===null?Re:Ye.key),V=p(Ye,V,Re),Ve===null?_e=Ye:Ve.sibling=Ye,Ve=Ye);return r&&Ee.forEach(function(ZR){return s(B,ZR)}),Xe&&ma(B,Re),_e}function ut(B,V,H,ie){if(typeof H=="object"&&H!==null&&H.type===q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var _e=H.key;V!==null;){if(V.key===_e){if(_e=H.type,_e===q){if(V.tag===7){a(B,V.sibling),ie=h(V,H.props.children),ie.return=B,B=ie;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&pv(_e)===V.type){a(B,V.sibling),ie=h(V,H.props),Xl(ie,H),ie.return=B,B=ie;break e}a(B,V);break}else s(B,V);V=V.sibling}H.type===q?(ie=da(H.props.children,B.mode,ie,H.key),ie.return=B,B=ie):(ie=Pc(H.type,H.key,H.props,null,B.mode,ie),Xl(ie,H),ie.return=B,B=ie)}return E(B);case N:e:{for(_e=H.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(B,V.sibling),ie=h(V,H.children||[]),ie.return=B,B=ie;break e}else{a(B,V);break}else s(B,V);V=V.sibling}ie=Vd(H,B.mode,ie),ie.return=B,B=ie}return E(B);case R:return _e=H._init,H=_e(H._payload),ut(B,V,H,ie)}if(Le(H))return De(B,V,H,ie);if(j(H)){if(_e=j(H),typeof _e!="function")throw Error(i(150));return H=_e.call(H),be(B,V,H,ie)}if(typeof H.then=="function")return ut(B,V,Qc(H),ie);if(H.$$typeof===Z)return ut(B,V,Vc(B,H),ie);Wc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(B,V.sibling),ie=h(V,H),ie.return=B,B=ie):(a(B,V),ie=kd(H,B.mode,ie),ie.return=B,B=ie),E(B)):a(B,V)}return function(B,V,H,ie){try{Wl=0;var _e=ut(B,V,H,ie);return So=null,_e}catch(Ee){if(Ee===Bl||Ee===zc)throw Ee;var Ve=zn(29,Ee,null,B.mode);return Ve.lanes=ie,Ve.return=B,Ve}finally{}}}var wo=mv(!0),gv=mv(!1),rr=I(null),Lr=null;function as(r){var s=r.alternate;M(Yt,Yt.current&1),M(rr,r),Lr===null&&(s===null||_o.current!==null||s.memoizedState!==null)&&(Lr=r)}function yv(r){if(r.tag===22){if(M(Yt,Yt.current),M(rr,r),Lr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Lr=r)}}else os()}function os(){M(Yt,Yt.current),M(rr,rr.current)}function pi(r){z(rr),Lr===r&&(Lr=null),z(Yt)}var Yt=I(0);function Xc(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||im(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function mp(r,s,a,u){s=r.memoizedState,a=a(u,s),a=a==null?s:_({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var gp={enqueueSetState:function(r,s,a){r=r._reactInternals;var u=qn(),h=rs(u);h.payload=s,a!=null&&(h.callback=a),s=is(r,h,u),s!==null&&(Fn(s,r,u),Fl(s,r,u))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var u=qn(),h=rs(u);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=is(r,h,u),s!==null&&(Fn(s,r,u),Fl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=qn(),u=rs(a);u.tag=2,s!=null&&(u.callback=s),s=is(r,u,a),s!==null&&(Fn(s,r,a),Fl(s,r,a))}};function _v(r,s,a,u,h,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):s.prototype&&s.prototype.isPureReactComponent?!Ml(a,u)||!Ml(h,p):!0}function vv(r,s,a,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==r&&gp.enqueueReplaceState(s,s.state,null)}function Sa(r,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(r=r.defaultProps){a===s&&(a=_({},a));for(var h in r)a[h]===void 0&&(a[h]=r[h])}return a}var Zc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ev(r){Zc(r)}function Tv(r){console.error(r)}function Sv(r){Zc(r)}function Jc(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function wv(r,s,a){try{var u=r.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yp(r,s,a){return a=rs(a),a.tag=3,a.payload={element:null},a.callback=function(){Jc(r,s)},a}function Av(r){return r=rs(r),r.tag=3,r}function bv(r,s,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;r.payload=function(){return h(p)},r.callback=function(){wv(s,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){wv(s,a,u),typeof h!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Z1(r,s,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&zl(s,a,h,!0),a=rr.current,a!==null){switch(a.tag){case 13:return Lr===null?Bp():a.alternate===null&&Dt===0&&(Dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===$d?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),Fp(r,u,h)),!1;case 22:return a.flags|=65536,u===$d?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),Fp(r,u,h)),!1}throw Error(i(435,a.tag))}return Fp(r,u,h),Bp(),!1}if(Xe)return s=rr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Ud&&(r=Error(i(422),{cause:u}),Ll(Jn(r,a)))):(u!==Ud&&(s=Error(i(423),{cause:u}),Ll(Jn(s,a))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Jn(u,a),h=yp(r.stateNode,u,h),Qd(r,h),Dt!==4&&(Dt=2)),!1;var p=Error(i(520),{cause:u});if(p=Jn(p,a),iu===null?iu=[p]:iu.push(p),Dt!==4&&(Dt=2),s===null)return!0;u=Jn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=h&-h,a.lanes|=r,r=yp(a.stateNode,u,r),Qd(a,r),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ds===null||!ds.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Av(h),bv(h,r,a,u),Qd(a,h),!1}a=a.return}while(a!==null);return!1}var Rv=Error(i(461)),Zt=!1;function sn(r,s,a,u){s.child=r===null?gv(s,null,a,u):wo(s,r.child,a,u)}function Iv(r,s,a,u,h){a=a.render;var p=s.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return va(s),u=ep(r,s,a,E,p,h),S=tp(),r!==null&&!Zt?(np(r,s,h),mi(r,s,h)):(Xe&&S&&Ld(s),s.flags|=1,sn(r,s,u,h),s.child)}function Cv(r,s,a,u,h){if(r===null){var p=a.type;return typeof p=="function"&&!xd(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,Dv(r,s,p,u,h)):(r=Pc(a.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!bp(r,h)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(E,u)&&r.ref===s.ref)return mi(r,s,h)}return s.flags|=1,r=li(p,u),r.ref=s.ref,r.return=s,s.child=r}function Dv(r,s,a,u,h){if(r!==null){var p=r.memoizedProps;if(Ml(p,u)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=u=p,bp(r,h))(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,mi(r,s,h)}return _p(r,s,a,u,h)}function Nv(r,s,a){var u=s.pendingProps,h=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,r!==null){for(h=s.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;s.childLanes=p&~u}else s.childLanes=0,s.child=null;return Ov(r,s,u,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Lc(s,p!==null?p.cachePool:null),p!==null?D_(s,p):Xd(),yv(s);else return s.lanes=s.childLanes=536870912,Ov(r,s,p!==null?p.baseLanes|a:a,a)}else p!==null?(Lc(s,p.cachePool),D_(s,p),os(),s.memoizedState=null):(r!==null&&Lc(s,null),Xd(),os());return sn(r,s,h,a),s.child}function Ov(r,s,a,u){var h=Gd();return h=h===null?null:{parent:Kt._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},r!==null&&Lc(s,null),Xd(),yv(s),r!==null&&zl(r,s,u,!0),null}function ef(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function _p(r,s,a,u,h){return va(s),a=ep(r,s,a,u,void 0,h),u=tp(),r!==null&&!Zt?(np(r,s,h),mi(r,s,h)):(Xe&&u&&Ld(s),s.flags|=1,sn(r,s,a,h),s.child)}function Pv(r,s,a,u,h,p){return va(s),s.updateQueue=null,a=O_(s,u,a,h),N_(r),u=tp(),r!==null&&!Zt?(np(r,s,p),mi(r,s,p)):(Xe&&u&&Ld(s),s.flags|=1,sn(r,s,a,p),s.child)}function Mv(r,s,a,u,h){if(va(s),s.stateNode===null){var p=ho,E=a.contextType;typeof E=="object"&&E!==null&&(p=dn(E)),p=new a(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=gp,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},Kd(s),E=a.contextType,p.context=typeof E=="object"&&E!==null?dn(E):ho,p.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(mp(s,a,E,u),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&gp.enqueueReplaceState(p,p.state,null),Gl(s,u,p,h),Hl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){p=s.stateNode;var S=s.memoizedProps,O=Sa(a,S);p.props=O;var K=p.context,ne=a.contextType;E=ho,typeof ne=="object"&&ne!==null&&(E=dn(ne));var oe=a.getDerivedStateFromProps;ne=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||K!==E)&&vv(s,p,u,E),ns=!1;var Y=s.memoizedState;p.state=Y,Gl(s,u,p,h),Hl(),K=s.memoizedState,S||Y!==K||ns?(typeof oe=="function"&&(mp(s,a,oe,u),K=s.memoizedState),(O=ns||_v(s,a,O,u,Y,K,E))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),p.props=u,p.state=K,p.context=E,u=O):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,Yd(r,s),E=s.memoizedProps,ne=Sa(a,E),p.props=ne,oe=s.pendingProps,Y=p.context,K=a.contextType,O=ho,typeof K=="object"&&K!==null&&(O=dn(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==oe||Y!==O)&&vv(s,p,u,O),ns=!1,Y=s.memoizedState,p.state=Y,Gl(s,u,p,h),Hl();var Q=s.memoizedState;E!==oe||Y!==Q||ns||r!==null&&r.dependencies!==null&&kc(r.dependencies)?(typeof S=="function"&&(mp(s,a,S,u),Q=s.memoizedState),(ne=ns||_v(s,a,ne,u,Y,Q,O)||r!==null&&r.dependencies!==null&&kc(r.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Q,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Q,O)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),p.props=u,p.state=Q,p.context=O,u=ne):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),u=!1)}return p=u,ef(r,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&u?(s.child=wo(s,r.child,null,h),s.child=wo(s,null,a,h)):sn(r,s,a,h),s.memoizedState=p.state,r=s.child):r=mi(r,s,h),r}function xv(r,s,a,u){return Vl(),s.flags|=256,sn(r,s,a,u),s.child}var vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ep(r){return{baseLanes:r,cachePool:T_()}}function Tp(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=ir),r}function kv(r,s,a){var u=s.pendingProps,h=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(Yt.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(Xe){if(h?as(s):os(),Xe){var S=Ct,O;if(O=S){e:{for(O=S,S=Vr;O.nodeType!==8;){if(!S){S=null;break e}if(O=_r(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(s.memoizedState={dehydrated:S,treeContext:pa!==null?{id:ui,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},O=zn(18,null,null,0),O.stateNode=S,O.return=s,s.child=O,wn=s,Ct=null,O=!0):O=!1}O||ya(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return im(S)?s.lanes=32:s.lanes=536870912,null;pi(s)}return S=u.children,u=u.fallback,h?(os(),h=s.mode,S=tf({mode:"hidden",children:S},h),u=da(u,h,a,null),S.return=s,u.return=s,S.sibling=u,s.child=S,h=s.child,h.memoizedState=Ep(a),h.childLanes=Tp(r,E,a),s.memoizedState=vp,u):(as(s),Sp(s,S))}if(O=r.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(p)s.flags&256?(as(s),s.flags&=-257,s=wp(r,s,a)):s.memoizedState!==null?(os(),s.child=r.child,s.flags|=128,s=null):(os(),h=u.fallback,S=s.mode,u=tf({mode:"visible",children:u.children},S),h=da(h,S,a,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,wo(s,r.child,null,a),u=s.child,u.memoizedState=Ep(a),u.childLanes=Tp(r,E,a),s.memoizedState=vp,s=h);else if(as(s),im(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(i(419)),u.stack="",u.digest=E,Ll({value:u,source:null,stack:null}),s=wp(r,s,a)}else if(Zt||zl(r,s,a,!1),E=(a&r.childLanes)!==0,Zt||E){if(E=dt,E!==null&&(u=a&-a,u=(u&42)!==0?1:gl(u),u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,fo(r,u),Fn(E,r,u),Rv;S.data==="$?"||Bp(),s=wp(r,s,a)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=O.treeContext,Ct=_r(S.nextSibling),wn=s,Xe=!0,ga=null,Vr=!1,r!==null&&(tr[nr++]=ui,tr[nr++]=ci,tr[nr++]=pa,ui=r.id,ci=r.overflow,pa=s),s=Sp(s,u.children),s.flags|=4096);return s}return h?(os(),h=u.fallback,S=s.mode,O=r.child,K=O.sibling,u=li(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,K!==null?h=li(K,h):(h=da(h,S,a,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,S=r.child.memoizedState,S===null?S=Ep(a):(O=S.cachePool,O!==null?(K=Kt._currentValue,O=O.parent!==K?{parent:K,pool:K}:O):O=T_(),S={baseLanes:S.baseLanes|a,cachePool:O}),h.memoizedState=S,h.childLanes=Tp(r,E,a),s.memoizedState=vp,u):(as(s),a=r.child,r=a.sibling,a=li(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=a,s.memoizedState=null,a)}function Sp(r,s){return s=tf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function tf(r,s){return r=zn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function wp(r,s,a){return wo(s,r.child,null,a),r=Sp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Vv(r,s,a){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Bd(r.return,s,a)}function Ap(r,s,a,u,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=h)}function Lv(r,s,a){var u=s.pendingProps,h=u.revealOrder,p=u.tail;if(sn(r,s,u.children,a),u=Yt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Vv(r,a,s);else if(r.tag===19)Vv(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(M(Yt,u),h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&Xc(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Ap(s,!1,h,a,p);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Xc(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}Ap(s,!0,a,null,p);break;case"together":Ap(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function mi(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),hs|=s.lanes,(a&s.childLanes)===0)if(r!==null){if(zl(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=li(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=li(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function bp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&kc(r)))}function J1(r,s,a){switch(s.tag){case 3:ye(s,s.stateNode.containerInfo),ts(s,Kt,r.memoizedState.cache),Vl();break;case 27:case 5:Gt(s);break;case 4:ye(s,s.stateNode.containerInfo);break;case 10:ts(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(as(s),s.flags|=128,null):(a&s.child.childLanes)!==0?kv(r,s,a):(as(s),r=mi(r,s,a),r!==null?r.sibling:null);as(s);break;case 19:var h=(r.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(zl(r,s,a,!1),u=(a&s.childLanes)!==0),h){if(u)return Lv(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),M(Yt,Yt.current),u)break;return null;case 22:case 23:return s.lanes=0,Nv(r,s,a);case 24:ts(s,Kt,r.memoizedState.cache)}return mi(r,s,a)}function zv(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)Zt=!0;else{if(!bp(r,a)&&(s.flags&128)===0)return Zt=!1,J1(r,s,a);Zt=(r.flags&131072)!==0}else Zt=!1,Xe&&(s.flags&1048576)!==0&&p_(s,xc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")xd(u)?(r=Sa(u,r),s.tag=1,s=Mv(null,s,u,r,a)):(s.tag=0,s=_p(null,s,u,r,a));else{if(u!=null){if(h=u.$$typeof,h===re){s.tag=11,s=Iv(null,s,u,r,a);break e}else if(h===C){s.tag=14,s=Cv(null,s,u,r,a);break e}}throw s=Qe(u)||u,Error(i(306,s,""))}}return s;case 0:return _p(r,s,s.type,s.pendingProps,a);case 1:return u=s.type,h=Sa(u,s.pendingProps),Mv(r,s,u,h,a);case 3:e:{if(ye(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;h=p.element,Yd(r,s),Gl(s,u,null,a);var E=s.memoizedState;if(u=E.cache,ts(s,Kt,u),u!==p.cache&&qd(s,[Kt],a,!0),Hl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=xv(r,s,u,a);break e}else if(u!==h){h=Jn(Error(i(424)),s),Ll(h),s=xv(r,s,u,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ct=_r(r.firstChild),wn=s,Xe=!0,ga=null,Vr=!0,a=gv(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vl(),u===h){s=mi(r,s,a);break e}sn(r,s,u,a)}s=s.child}return s;case 26:return ef(r,s),r===null?(a=qE(s.type,null,s.pendingProps,null))?s.memoizedState=a:Xe||(a=s.type,r=s.pendingProps,u=gf(he.current).createElement(a),u[Mt]=s,u[rn]=r,on(u,a,r),xt(u),s.stateNode=u):s.memoizedState=qE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Gt(s),r===null&&Xe&&(u=s.stateNode=UE(s.type,s.pendingProps,he.current),wn=s,Vr=!0,h=Ct,gs(s.type)?(sm=h,Ct=_r(u.firstChild)):Ct=h),sn(r,s,s.pendingProps.children,a),ef(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Xe&&((h=u=Ct)&&(u=IR(u,s.type,s.pendingProps,Vr),u!==null?(s.stateNode=u,wn=s,Ct=_r(u.firstChild),Vr=!1,h=!0):h=!1),h||ya(s)),Gt(s),h=s.type,p=s.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,tm(h,p)?u=null:E!==null&&tm(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=ep(r,s,G1,null,null,a),du._currentValue=h),ef(r,s),sn(r,s,u,a),s.child;case 6:return r===null&&Xe&&((r=a=Ct)&&(a=CR(a,s.pendingProps,Vr),a!==null?(s.stateNode=a,wn=s,Ct=null,r=!0):r=!1),r||ya(s)),null;case 13:return kv(r,s,a);case 4:return ye(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=wo(s,null,u,a):sn(r,s,u,a),s.child;case 11:return Iv(r,s,s.type,s.pendingProps,a);case 7:return sn(r,s,s.pendingProps,a),s.child;case 8:return sn(r,s,s.pendingProps.children,a),s.child;case 12:return sn(r,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,ts(s,s.type,u.value),sn(r,s,u.children,a),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,va(s),h=dn(h),u=u(h),s.flags|=1,sn(r,s,u,a),s.child;case 14:return Cv(r,s,s.type,s.pendingProps,a);case 15:return Dv(r,s,s.type,s.pendingProps,a);case 19:return Lv(r,s,a);case 31:return u=s.pendingProps,a=s.mode,u={mode:u.mode,children:u.children},r===null?(a=tf(u,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=li(r.child,u),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Nv(r,s,a);case 24:return va(s),u=dn(Kt),r===null?(h=Gd(),h===null&&(h=dt,p=Fd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),s.memoizedState={parent:u,cache:h},Kd(s),ts(s,Kt,h)):((r.lanes&a)!==0&&(Yd(r,s),Gl(s,null,null,a),Hl()),h=r.memoizedState,p=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ts(s,Kt,u)):(u=p.cache,ts(s,Kt,u),u!==h.cache&&qd(s,[Kt],a,!0))),sn(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function gi(r){r.flags|=4}function Uv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!KE(s)){if(s=rr.current,s!==null&&((Ge&4194048)===Ge?Lr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||s!==Lr))throw ql=$d,S_;r.flags|=8192}}function nf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?qi():536870912,r.lanes|=s,Io|=s)}function Zl(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function wt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=a,s}function eR(r,s,a){var u=s.pendingProps;switch(zd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return a=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),hi(Kt),ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(kl(s)?gi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,y_())),wt(s),null;case 26:return a=s.memoizedState,r===null?(gi(s),a!==null?(wt(s),Uv(s,a)):(wt(s),s.flags&=-16777217)):a?a!==r.memoizedState?(gi(s),wt(s),Uv(s,a)):(wt(s),s.flags&=-16777217):(r.memoizedProps!==u&&gi(s),wt(s),s.flags&=-16777217),null;case 27:Rt(s),a=he.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&gi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return wt(s),null}r=X.current,kl(s)?m_(s):(r=UE(h,u,a),s.stateNode=r,gi(s))}return wt(s),null;case 5:if(Rt(s),a=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&gi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return wt(s),null}if(r=X.current,kl(s))m_(s);else{switch(h=gf(he.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(a,{is:u.is}):h.createElement(a)}}r[Mt]=s,r[rn]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(on(r,a,u),a){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&gi(s)}}return wt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&gi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=he.current,kl(s)){if(r=s.stateNode,a=s.memoizedProps,u=null,h=wn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Mt]=s,r=!!(r.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||PE(r.nodeValue,a)),r||ya(s)}else r=gf(r).createTextNode(u),r[Mt]=s,s.stateNode=r}return wt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=kl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Mt]=s}else Vl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),h=!1}else h=y_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(pi(s),s):(pi(s),null)}if(pi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=u!==null,r=r!==null&&r.memoizedState!==null,a){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return a!==r&&a&&(s.child.flags|=8192),nf(s,s.updateQueue),wt(s),null;case 4:return ft(),r===null&&Wp(s.stateNode.containerInfo),wt(s),null;case 10:return hi(s.type),wt(s),null;case 19:if(z(Yt),h=s.memoizedState,h===null)return wt(s),null;if(u=(s.flags&128)!==0,p=h.rendering,p===null)if(u)Zl(h,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=Xc(r),p!==null){for(s.flags|=128,Zl(h,!1),r=p.updateQueue,s.updateQueue=r,nf(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)d_(a,r),a=a.sibling;return M(Yt,Yt.current&1|2),s.child}r=r.sibling}h.tail!==null&&fe()>af&&(s.flags|=128,u=!0,Zl(h,!1),s.lanes=4194304)}else{if(!u)if(r=Xc(p),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,nf(s,r),Zl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Xe)return wt(s),null}else 2*fe()-h.renderingStartTime>af&&a!==536870912&&(s.flags|=128,u=!0,Zl(h,!1),s.lanes=4194304);h.isBackwards?(p.sibling=s.child,s.child=p):(r=h.last,r!==null?r.sibling=p:s.child=p,h.last=p)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=fe(),s.sibling=null,r=Yt.current,M(Yt,u?r&1|2:r&1),s):(wt(s),null);case 22:case 23:return pi(s),Zd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),a=s.updateQueue,a!==null&&nf(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),r!==null&&z(Ea),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),hi(Kt),wt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function tR(r,s){switch(zd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return hi(Kt),ft(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Rt(s),null;case 13:if(pi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Vl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return z(Yt),null;case 4:return ft(),null;case 10:return hi(s.type),null;case 22:case 23:return pi(s),Zd(),r!==null&&z(Ea),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return hi(Kt),null;case 25:return null;default:return null}}function jv(r,s){switch(zd(s),s.tag){case 3:hi(Kt),ft();break;case 26:case 27:case 5:Rt(s);break;case 4:ft();break;case 13:pi(s);break;case 19:z(Yt);break;case 10:hi(s.type);break;case 22:case 23:pi(s),Zd(),r!==null&&z(Ea);break;case 24:hi(Kt)}}function Jl(r,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&r)===r){u=void 0;var p=a.create,E=a.inst;u=p(),E.destroy=u}a=a.next}while(a!==h)}}catch(S){ct(s,s.return,S)}}function ls(r,s,a){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&r)===r){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=s;var O=a,K=S;try{K()}catch(ne){ct(h,O,ne)}}}u=u.next}while(u!==p)}}catch(ne){ct(s,s.return,ne)}}function Bv(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{C_(s,a)}catch(u){ct(r,r.return,u)}}}function qv(r,s,a){a.props=Sa(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(u){ct(r,s,u)}}function eu(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof a=="function"?r.refCleanup=a(u):a.current=u}}catch(h){ct(r,s,h)}}function zr(r,s){var a=r.ref,u=r.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){ct(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ct(r,s,h)}else a.current=null}function Fv(r){var s=r.type,a=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){ct(r,r.return,h)}}function Rp(r,s,a){try{var u=r.stateNode;SR(u,r.type,a,s),u[rn]=s}catch(h){ct(r,r.return,h)}}function Hv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&gs(r.type)||r.tag===4}function Ip(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Hv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&gs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Cp(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=mf));else if(u!==4&&(u===27&&gs(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for(Cp(r,s,a),r=r.sibling;r!==null;)Cp(r,s,a),r=r.sibling}function rf(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(u!==4&&(u===27&&gs(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(rf(r,s,a),r=r.sibling;r!==null;)rf(r,s,a),r=r.sibling}function Gv(r){var s=r.stateNode,a=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);on(s,u,a),s[Mt]=r,s[rn]=a}catch(p){ct(r,r.return,p)}}var yi=!1,Lt=!1,Dp=!1,$v=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function nR(r,s){if(r=r.containerInfo,Jp=Sf,r=r_(r),Id(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,S=-1,O=-1,K=0,ne=0,oe=r,Y=null;t:for(;;){for(var Q;oe!==a||h!==0&&oe.nodeType!==3||(S=E+h),oe!==p||u!==0&&oe.nodeType!==3||(O=E+u),oe.nodeType===3&&(E+=oe.nodeValue.length),(Q=oe.firstChild)!==null;)Y=oe,oe=Q;for(;;){if(oe===r)break t;if(Y===a&&++K===h&&(S=E),Y===p&&++ne===u&&(O=E),(Q=oe.nextSibling)!==null)break;oe=Y,Y=oe.parentNode}oe=Q}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:r,selectionRange:a},Sf=!1,Jt=s;Jt!==null;)if(s=Jt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Jt=r;else for(;Jt!==null;){switch(s=Jt,p=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,a=s,h=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var De=Sa(a.type,h,a.elementType===a.type);r=u.getSnapshotBeforeUpdate(De,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(be){ct(a,a.return,be)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)rm(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":rm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jt=r;break}Jt=s.return}}function Kv(r,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:us(r,a),u&4&&Jl(5,a);break;case 1:if(us(r,a),u&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(E){ct(a,a.return,E)}else{var h=Sa(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ct(a,a.return,E)}}u&64&&Bv(a),u&512&&eu(a,a.return);break;case 3:if(us(r,a),u&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{C_(r,s)}catch(E){ct(a,a.return,E)}}break;case 27:s===null&&u&4&&Gv(a);case 26:case 5:us(r,a),s===null&&u&4&&Fv(a),u&512&&eu(a,a.return);break;case 12:us(r,a);break;case 13:us(r,a),u&4&&Wv(r,a),u&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=fR.bind(null,a),DR(r,a))));break;case 22:if(u=a.memoizedState!==null||yi,!u){s=s!==null&&s.memoizedState!==null||Lt,h=yi;var p=Lt;yi=u,(Lt=s)&&!p?cs(r,a,(a.subtreeFlags&8772)!==0):us(r,a),yi=h,Lt=p}break;case 30:break;default:us(r,a)}}function Yv(r){var s=r.alternate;s!==null&&(r.alternate=null,Yv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Wa(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Et=null,In=!1;function _i(r,s,a){for(a=a.child;a!==null;)Qv(r,s,a),a=a.sibling}function Qv(r,s,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(nn,a)}catch{}switch(a.tag){case 26:Lt||zr(a,s),_i(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||zr(a,s);var u=Et,h=In;gs(a.type)&&(Et=a.stateNode,In=!1),_i(r,s,a),uu(a.stateNode),Et=u,In=h;break;case 5:Lt||zr(a,s);case 6:if(u=Et,h=In,Et=null,_i(r,s,a),Et=u,In=h,Et!==null)if(In)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(p){ct(a,s,p)}else try{Et.removeChild(a.stateNode)}catch(p){ct(a,s,p)}break;case 18:Et!==null&&(In?(r=Et,LE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),yu(r)):LE(Et,a.stateNode));break;case 4:u=Et,h=In,Et=a.stateNode.containerInfo,In=!0,_i(r,s,a),Et=u,In=h;break;case 0:case 11:case 14:case 15:Lt||ls(2,a,s),Lt||ls(4,a,s),_i(r,s,a);break;case 1:Lt||(zr(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&qv(a,s,u)),_i(r,s,a);break;case 21:_i(r,s,a);break;case 22:Lt=(u=Lt)||a.memoizedState!==null,_i(r,s,a),Lt=u;break;default:_i(r,s,a)}}function Wv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{yu(r)}catch(a){ct(s,s.return,a)}}function rR(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new $v),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new $v),s;default:throw Error(i(435,r.tag))}}function Np(r,s){var a=rR(r);s.forEach(function(u){var h=hR.bind(null,r,u);a.has(u)||(a.add(u),u.then(h,h))})}function Un(r,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],p=r,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(gs(S.type)){Et=S.stateNode,In=!1;break e}break;case 5:Et=S.stateNode,In=!1;break e;case 3:case 4:Et=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(Et===null)throw Error(i(160));Qv(p,E,h),Et=null,In=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Xv(s,r),s=s.sibling}var yr=null;function Xv(r,s){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Un(s,r),jn(r),u&4&&(ls(3,r,r.return),Jl(3,r),ls(5,r,r.return));break;case 1:Un(s,r),jn(r),u&512&&(Lt||a===null||zr(a,a.return)),u&64&&yi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=yr;if(Un(s,r),jn(r),u&512&&(Lt||a===null||zr(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=r.memoizedState,a===null)if(u===null)if(r.stateNode===null){e:{u=r.type,a=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Gi]||p[Mt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),on(p,u,a),p[Mt]=r,xt(p),u=p;break e;case"link":var E=GE("link","href",h).get(u+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}p=h.createElement(u),on(p,u,a),h.head.appendChild(p);break;case"meta":if(E=GE("meta","content",h).get(u+(a.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}p=h.createElement(u),on(p,u,a),h.head.appendChild(p);break;default:throw Error(i(468,u))}p[Mt]=r,xt(p),u=p}r.stateNode=u}else $E(h,r.type,r.stateNode);else r.stateNode=HE(h,u,r.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?$E(h,r.type,r.stateNode):HE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Rp(r,r.memoizedProps,a.memoizedProps)}break;case 27:Un(s,r),jn(r),u&512&&(Lt||a===null||zr(a,a.return)),a!==null&&u&4&&Rp(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Un(s,r),jn(r),u&512&&(Lt||a===null||zr(a,a.return)),r.flags&32){h=r.stateNode;try{Xn(h,"")}catch(Q){ct(r,r.return,Q)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Rp(r,h,a!==null?a.memoizedProps:h)),u&1024&&(Dp=!0);break;case 6:if(Un(s,r),jn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,a=r.stateNode;try{a.nodeValue=u}catch(Q){ct(r,r.return,Q)}}break;case 3:if(vf=null,h=yr,yr=yf(s.containerInfo),Un(s,r),yr=h,jn(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{yu(s.containerInfo)}catch(Q){ct(r,r.return,Q)}Dp&&(Dp=!1,Zv(r));break;case 4:u=yr,yr=yf(r.stateNode.containerInfo),Un(s,r),jn(r),yr=u;break;case 12:Un(s,r),jn(r);break;case 13:Un(s,r),jn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vp=fe()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Np(r,u)));break;case 22:h=r.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,K=yi,ne=Lt;if(yi=K||h,Lt=ne||O,Un(s,r),Lt=ne,yi=K,jn(r),u&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||O||yi||Lt||wa(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(p=O.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=O.stateNode;var oe=O.memoizedProps.style,Y=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){ct(O,O.return,Q)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(Q){ct(O,O.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Np(r,a))));break;case 19:Un(s,r),jn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Np(r,u)));break;case 30:break;case 21:break;default:Un(s,r),jn(r)}}function jn(r){var s=r.flags;if(s&2){try{for(var a,u=r.return;u!==null;){if(Hv(u)){a=u;break}u=u.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,p=Ip(r);rf(r,p,h);break;case 5:var E=a.stateNode;a.flags&32&&(Xn(E,""),a.flags&=-33);var S=Ip(r);rf(r,S,E);break;case 3:case 4:var O=a.stateNode.containerInfo,K=Ip(r);Cp(r,K,O);break;default:throw Error(i(161))}}catch(ne){ct(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Zv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Zv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function us(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Kv(r,s.alternate,s),s=s.sibling}function wa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ls(4,s,s.return),wa(s);break;case 1:zr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&qv(s,s.return,a),wa(s);break;case 27:uu(s.stateNode);case 26:case 5:zr(s,s.return),wa(s);break;case 22:s.memoizedState===null&&wa(s);break;case 30:wa(s);break;default:wa(s)}r=r.sibling}}function cs(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:cs(h,p,a),Jl(4,p);break;case 1:if(cs(h,p,a),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){ct(u,u.return,K)}if(u=p,h=u.updateQueue,h!==null){var S=u.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)I_(O[h],S)}catch(K){ct(u,u.return,K)}}a&&E&64&&Bv(p),eu(p,p.return);break;case 27:Gv(p);case 26:case 5:cs(h,p,a),a&&u===null&&E&4&&Fv(p),eu(p,p.return);break;case 12:cs(h,p,a);break;case 13:cs(h,p,a),a&&E&4&&Wv(h,p);break;case 22:p.memoizedState===null&&cs(h,p,a),eu(p,p.return);break;case 30:break;default:cs(h,p,a)}s=s.sibling}}function Op(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Ul(a))}function Pp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ul(r))}function Ur(r,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Jv(r,s,a,u),s=s.sibling}function Jv(r,s,a,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Ur(r,s,a,u),h&2048&&Jl(9,s);break;case 1:Ur(r,s,a,u);break;case 3:Ur(r,s,a,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ul(r)));break;case 12:if(h&2048){Ur(r,s,a,u),r=s.stateNode;try{var p=s.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){ct(s,s.return,O)}}else Ur(r,s,a,u);break;case 13:Ur(r,s,a,u);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?Ur(r,s,a,u):tu(r,s):p._visibility&2?Ur(r,s,a,u):(p._visibility|=2,Ao(r,s,a,u,(s.subtreeFlags&10256)!==0)),h&2048&&Op(E,s);break;case 24:Ur(r,s,a,u),h&2048&&Pp(s.alternate,s);break;default:Ur(r,s,a,u)}}function Ao(r,s,a,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=r,E=s,S=a,O=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:Ao(p,E,S,O,h),Jl(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?Ao(p,E,S,O,h):tu(p,E):(ne._visibility|=2,Ao(p,E,S,O,h)),h&&K&2048&&Op(E.alternate,E);break;case 24:Ao(p,E,S,O,h),h&&K&2048&&Pp(E.alternate,E);break;default:Ao(p,E,S,O,h)}s=s.sibling}}function tu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,u=s,h=u.flags;switch(u.tag){case 22:tu(a,u),h&2048&&Op(u.alternate,u);break;case 24:tu(a,u),h&2048&&Pp(u.alternate,u);break;default:tu(a,u)}s=s.sibling}}var nu=8192;function bo(r){if(r.subtreeFlags&nu)for(r=r.child;r!==null;)eE(r),r=r.sibling}function eE(r){switch(r.tag){case 26:bo(r),r.flags&nu&&r.memoizedState!==null&&qR(yr,r.memoizedState,r.memoizedProps);break;case 5:bo(r);break;case 3:case 4:var s=yr;yr=yf(r.stateNode.containerInfo),bo(r),yr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=nu,nu=16777216,bo(r),nu=s):bo(r));break;default:bo(r)}}function tE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function ru(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Jt=u,rE(u,r)}tE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nE(r),r=r.sibling}function nE(r){switch(r.tag){case 0:case 11:case 15:ru(r),r.flags&2048&&ls(9,r,r.return);break;case 3:ru(r);break;case 12:ru(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,sf(r)):ru(r);break;default:ru(r)}}function sf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Jt=u,rE(u,r)}tE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ls(8,s,s.return),sf(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,sf(s));break;default:sf(s)}r=r.sibling}}function rE(r,s){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:ls(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Jt=u;else e:for(a=r;Jt!==null;){u=Jt;var h=u.sibling,p=u.return;if(Yv(u),u===a){Jt=null;break e}if(h!==null){h.return=p,Jt=h;break e}Jt=p}}}var iR={getCacheForType:function(r){var s=dn(Kt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a}},sR=typeof WeakMap=="function"?WeakMap:Map,rt=0,dt=null,Ue=null,Ge=0,it=0,Bn=null,fs=!1,Ro=!1,Mp=!1,vi=0,Dt=0,hs=0,Aa=0,xp=0,ir=0,Io=0,iu=null,Cn=null,kp=!1,Vp=0,af=1/0,of=null,ds=null,an=0,ps=null,Co=null,Do=0,Lp=0,zp=null,iE=null,su=0,Up=null;function qn(){if((rt&2)!==0&&Ge!==0)return Ge&-Ge;if(te.T!==null){var r=go;return r!==0?r:$p()}return ti()}function sE(){ir===0&&(ir=(Ge&536870912)===0||Xe?ml():536870912);var r=rr.current;return r!==null&&(r.flags|=32),ir}function Fn(r,s,a){(r===dt&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(No(r,0),ms(r,Ge,ir,!1)),Pt(r,a),((rt&2)===0||r!==dt)&&(r===dt&&((rt&2)===0&&(Aa|=a),Dt===4&&ms(r,Ge,ir,!1)),jr(r))}function aE(r,s,a){if((rt&6)!==0)throw Error(i(327));var u=!a&&(s&124)===0&&(s&r.expiredLanes)===0||Bi(r,s),h=u?lR(r,s):qp(r,s,!0),p=u;do{if(h===0){Ro&&!u&&ms(r,s,0,!1);break}else{if(a=r.current.alternate,p&&!aR(a)){h=qp(r,s,!1),p=!1;continue}if(h===2){if(p=s,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=r;h=iu;var O=S.current.memoizedState.isDehydrated;if(O&&(No(S,E).flags|=256),E=qp(S,E,!1),E!==2){if(Mp&&!O){S.errorRecoveryDisabledLanes|=p,Aa|=p,h=4;break e}p=Cn,Cn=h,p!==null&&(Cn===null?Cn=p:Cn.push.apply(Cn,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){No(r,0),ms(r,s,0,!0);break}e:{switch(u=r,p=h,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ms(u,s,ir,!fs);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Vp+300-fe(),10<h)){if(ms(u,s,ir,!fs),bn(u,0,!0)!==0)break e;u.timeoutHandle=kE(oE.bind(null,u,a,Cn,of,kp,s,ir,Aa,Io,fs,p,2,-0,0),h);break e}oE(u,a,Cn,of,kp,s,ir,Aa,Io,fs,p,0,-0,0)}}break}while(!0);jr(r)}function oE(r,s,a,u,h,p,E,S,O,K,ne,oe,Y,Q){if(r.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(hu={stylesheets:null,count:0,unsuspend:BR},eE(s),oe=FR(),oe!==null)){r.cancelPendingCommit=oe(pE.bind(null,r,s,p,a,u,h,E,S,O,ne,1,Y,Q)),ms(r,p,E,!K);return}pE(r,s,p,a,u,h,E,S,O)}function aR(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],p=h.getSnapshot;h=h.value;try{if(!Ln(p(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ms(r,s,a,u){s&=~xp,s&=~Aa,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var p=31-gt(h),E=1<<p;u[p]=-1,h&=~E}a!==0&&Fi(r,a,s)}function lf(){return(rt&6)===0?(au(0),!1):!0}function jp(){if(Ue!==null){if(it===0)var r=Ue.return;else r=Ue,fi=_a=null,rp(r),So=null,Wl=0,r=Ue;for(;r!==null;)jv(r.alternate,r),r=r.return;Ue=null}}function No(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,AR(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),jp(),dt=r,Ue=a=li(r.current,null),Ge=s,it=0,Bn=null,fs=!1,Ro=Bi(r,s),Mp=!1,Io=ir=xp=Aa=hs=Dt=0,Cn=iu=null,kp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-gt(u),p=1<<h;s|=r[h],u&=~p}return vi=s,Dc(),a}function lE(r,s){ke=null,te.H=Yc,s===Bl||s===zc?(s=b_(),it=3):s===S_?(s=b_(),it=4):it=s===Rv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,Ue===null&&(Dt=1,Jc(r,Jn(s,r.current)))}function uE(){var r=te.H;return te.H=Yc,r===null?Yc:r}function cE(){var r=te.A;return te.A=iR,r}function Bp(){Dt=4,fs||(Ge&4194048)!==Ge&&rr.current!==null||(Ro=!0),(hs&134217727)===0&&(Aa&134217727)===0||dt===null||ms(dt,Ge,ir,!1)}function qp(r,s,a){var u=rt;rt|=2;var h=uE(),p=cE();(dt!==r||Ge!==s)&&(of=null,No(r,s)),s=!1;var E=Dt;e:do try{if(it!==0&&Ue!==null){var S=Ue,O=Bn;switch(it){case 8:jp(),E=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(s=!0);var K=it;if(it=0,Bn=null,Oo(r,S,O,K),a&&Ro){E=0;break e}break;default:K=it,it=0,Bn=null,Oo(r,S,O,K)}}oR(),E=Dt;break}catch(ne){lE(r,ne)}while(!0);return s&&r.shellSuspendCounter++,fi=_a=null,rt=u,te.H=h,te.A=p,Ue===null&&(dt=null,Ge=0,Dc()),E}function oR(){for(;Ue!==null;)fE(Ue)}function lR(r,s){var a=rt;rt|=2;var u=uE(),h=cE();dt!==r||Ge!==s?(of=null,af=fe()+500,No(r,s)):Ro=Bi(r,s);e:do try{if(it!==0&&Ue!==null){s=Ue;var p=Bn;t:switch(it){case 1:it=0,Bn=null,Oo(r,s,p,1);break;case 2:case 9:if(w_(p)){it=0,Bn=null,hE(s);break}s=function(){it!==2&&it!==9||dt!==r||(it=7),jr(r)},p.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:w_(p)?(it=0,Bn=null,hE(s)):(it=0,Bn=null,Oo(r,s,p,7));break;case 5:var E=null;switch(Ue.tag){case 26:E=Ue.memoizedState;case 5:case 27:var S=Ue;if(!E||KE(E)){it=0,Bn=null;var O=S.sibling;if(O!==null)Ue=O;else{var K=S.return;K!==null?(Ue=K,uf(K)):Ue=null}break t}}it=0,Bn=null,Oo(r,s,p,5);break;case 6:it=0,Bn=null,Oo(r,s,p,6);break;case 8:jp(),Dt=6;break e;default:throw Error(i(462))}}uR();break}catch(ne){lE(r,ne)}while(!0);return fi=_a=null,te.H=u,te.A=h,rt=a,Ue!==null?0:(dt=null,Ge=0,Dc(),Dt)}function uR(){for(;Ue!==null&&!xn();)fE(Ue)}function fE(r){var s=zv(r.alternate,r,vi);r.memoizedProps=r.pendingProps,s===null?uf(r):Ue=s}function hE(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=Pv(a,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=Pv(a,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:rp(s);default:jv(a,s),s=Ue=d_(s,vi),s=zv(a,s,vi)}r.memoizedProps=r.pendingProps,s===null?uf(r):Ue=s}function Oo(r,s,a,u){fi=_a=null,rp(s),So=null,Wl=0;var h=s.return;try{if(Z1(r,h,s,a,Ge)){Dt=1,Jc(r,Jn(a,r.current)),Ue=null;return}}catch(p){if(h!==null)throw Ue=h,p;Dt=1,Jc(r,Jn(a,r.current)),Ue=null;return}s.flags&32768?(Xe||u===1?r=!0:Ro||(Ge&536870912)!==0?r=!1:(fs=r=!0,(u===2||u===9||u===3||u===6)&&(u=rr.current,u!==null&&u.tag===13&&(u.flags|=16384))),dE(s,r)):uf(s)}function uf(r){var s=r;do{if((s.flags&32768)!==0){dE(s,fs);return}r=s.return;var a=eR(s.alternate,s,vi);if(a!==null){Ue=a;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=r}while(s!==null);Dt===0&&(Dt=5)}function dE(r,s){do{var a=tR(r.alternate,r);if(a!==null){a.flags&=32767,Ue=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=a}while(r!==null);Dt=6,Ue=null}function pE(r,s,a,u,h,p,E,S,O){r.cancelPendingCommit=null;do cf();while(an!==0);if((rt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Pd,hc(r,a,p,E,S,O),r===dt&&(Ue=dt=null,Ge=0),Co=s,ps=r,Do=a,Lp=p,zp=h,iE=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,dR(Ke,function(){return vE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=te.T,te.T=null,h=ce.p,ce.p=2,E=rt,rt|=4;try{nR(r,s,a)}finally{rt=E,ce.p=h,te.T=u}}an=1,mE(),gE(),yE()}}function mE(){if(an===1){an=0;var r=ps,s=Co,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=te.T,te.T=null;var u=ce.p;ce.p=2;var h=rt;rt|=4;try{Xv(s,r);var p=em,E=r_(r.containerInfo),S=p.focusedElem,O=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&n_(S.ownerDocument.documentElement,S)){if(O!==null&&Id(S)){var K=O.start,ne=O.end;if(ne===void 0&&(ne=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ne,S.value.length);else{var oe=S.ownerDocument||document,Y=oe&&oe.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),De=S.textContent.length,be=Math.min(O.start,De),ut=O.end===void 0?be:Math.min(O.end,De);!Q.extend&&be>ut&&(E=ut,ut=be,be=E);var B=t_(S,be),V=t_(S,ut);if(B&&V&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var H=oe.createRange();H.setStart(B.node,B.offset),Q.removeAllRanges(),be>ut?(Q.addRange(H),Q.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),Q.addRange(H))}}}}for(oe=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&oe.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var ie=oe[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Sf=!!Jp,em=Jp=null}finally{rt=h,ce.p=u,te.T=a}}r.current=s,an=2}}function gE(){if(an===2){an=0;var r=ps,s=Co,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=te.T,te.T=null;var u=ce.p;ce.p=2;var h=rt;rt|=4;try{Kv(r,s.alternate,s)}finally{rt=h,ce.p=u,te.T=a}}an=3}}function yE(){if(an===4||an===3){an=0,It();var r=ps,s=Co,a=Do,u=iE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,Co=ps=null,_E(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(ds=null),yl(a),s=s.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(nn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=te.T,h=ce.p,ce.p=2,te.T=null;try{for(var p=r.onRecoverableError,E=0;E<u.length;E++){var S=u[E];p(S.value,{componentStack:S.stack})}}finally{te.T=s,ce.p=h}}(Do&3)!==0&&cf(),jr(r),h=r.pendingLanes,(a&4194090)!==0&&(h&42)!==0?r===Up?su++:(su=0,Up=r):su=0,au(0)}}function _E(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Ul(s)))}function cf(r){return mE(),gE(),yE(),vE()}function vE(){if(an!==5)return!1;var r=ps,s=Lp;Lp=0;var a=yl(Do),u=te.T,h=ce.p;try{ce.p=32>a?32:a,te.T=null,a=zp,zp=null;var p=ps,E=Do;if(an=0,Co=ps=null,Do=0,(rt&6)!==0)throw Error(i(331));var S=rt;if(rt|=4,nE(p.current),Jv(p,p.current,E,a),rt=S,au(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(nn,p)}catch{}return!0}finally{ce.p=h,te.T=u,_E(r,s)}}function EE(r,s,a){s=Jn(a,s),s=yp(r.stateNode,s,2),r=is(r,s,2),r!==null&&(Pt(r,2),jr(r))}function ct(r,s,a){if(r.tag===3)EE(r,r,a);else for(;s!==null;){if(s.tag===3){EE(s,r,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ds===null||!ds.has(u))){r=Jn(a,r),a=Av(2),u=is(s,a,2),u!==null&&(bv(a,u,s,r),Pt(u,2),jr(u));break}}s=s.return}}function Fp(r,s,a){var u=r.pingCache;if(u===null){u=r.pingCache=new sR;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(a)||(Mp=!0,h.add(a),r=cR.bind(null,r,s,a),s.then(r,r))}function cR(r,s,a){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,dt===r&&(Ge&a)===a&&(Dt===4||Dt===3&&(Ge&62914560)===Ge&&300>fe()-Vp?(rt&2)===0&&No(r,0):xp|=a,Io===Ge&&(Io=0)),jr(r)}function TE(r,s){s===0&&(s=qi()),r=fo(r,s),r!==null&&(Pt(r,s),jr(r))}function fR(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),TE(r,a)}function hR(r,s){var a=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),TE(r,a)}function dR(r,s){return Ot(r,s)}var ff=null,Po=null,Hp=!1,hf=!1,Gp=!1,ba=0;function jr(r){r!==Po&&r.next===null&&(Po===null?ff=Po=r:Po=Po.next=r),hf=!0,Hp||(Hp=!0,mR())}function au(r,s){if(!Gp&&hf){Gp=!0;do for(var a=!1,u=ff;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-gt(42|r)+1)-1,p&=h&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,bE(u,p))}else p=Ge,p=bn(u,u===dt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Bi(u,p)||(a=!0,bE(u,p));u=u.next}while(a);Gp=!1}}function pR(){SE()}function SE(){hf=Hp=!1;var r=0;ba!==0&&(wR()&&(r=ba),ba=0);for(var s=fe(),a=null,u=ff;u!==null;){var h=u.next,p=wE(u,s);p===0?(u.next=null,a===null?ff=h:a.next=h,h===null&&(Po=a)):(a=u,(r!==0||(p&3)!==0)&&(hf=!0)),u=h}au(r)}function wE(r,s){for(var a=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-gt(p),S=1<<E,O=h[E];O===-1?((S&a)===0||(S&u)!==0)&&(h[E]=Ya(S,s)):O<=s&&(r.expiredLanes|=S),p&=~S}if(s=dt,a=Ge,a=bn(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,a===0||r===s&&(it===2||it===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&He(u),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Bi(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(u!==null&&He(u),yl(a)){case 2:case 8:a=Ne;break;case 32:a=Ke;break;case 268435456:a=Tt;break;default:a=Ke}return u=AE.bind(null,r),a=Ot(a,u),r.callbackPriority=s,r.callbackNode=a,s}return u!==null&&u!==null&&He(u),r.callbackPriority=2,r.callbackNode=null,2}function AE(r,s){if(an!==0&&an!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(cf()&&r.callbackNode!==a)return null;var u=Ge;return u=bn(r,r===dt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(aE(r,u,s),wE(r,fe()),r.callbackNode!=null&&r.callbackNode===a?AE.bind(null,r):null)}function bE(r,s){if(cf())return null;aE(r,s,!0)}function mR(){bR(function(){(rt&6)!==0?Ot(Se,pR):SE()})}function $p(){return ba===0&&(ba=ml()),ba}function RE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:hr(""+r)}function IE(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function gR(r,s,a,u,h){if(s==="submit"&&a&&a.stateNode===h){var p=RE((h[rn]||null).action),E=u.submitter;E&&(s=(s=E[rn]||null)?RE(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var S=new ia("action","action",null,u,h);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ba!==0){var O=E?IE(h,E):new FormData(h);hp(a,{pending:!0,data:O,method:h.method,action:p},null,O)}}else typeof p=="function"&&(S.preventDefault(),O=E?IE(h,E):new FormData(h),hp(a,{pending:!0,data:O,method:h.method,action:p},p,O))},currentTarget:h}]})}}for(var Kp=0;Kp<Od.length;Kp++){var Yp=Od[Kp],yR=Yp.toLowerCase(),_R=Yp[0].toUpperCase()+Yp.slice(1);gr(yR,"on"+_R)}gr(a_,"onAnimationEnd"),gr(o_,"onAnimationIteration"),gr(l_,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(k1,"onTransitionRun"),gr(V1,"onTransitionStart"),gr(L1,"onTransitionCancel"),gr(u_,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Or("onBeforeInput",["compositionend","keypress","textInput","paste"]),Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function CE(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],h=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var E=u.length-1;0<=E;E--){var S=u[E],O=S.instance,K=S.currentTarget;if(S=S.listener,O!==p&&h.isPropagationStopped())break e;p=S,h.currentTarget=K;try{p(h)}catch(ne){Zc(ne)}h.currentTarget=null,p=O}else for(E=0;E<u.length;E++){if(S=u[E],O=S.instance,K=S.currentTarget,S=S.listener,O!==p&&h.isPropagationStopped())break e;p=S,h.currentTarget=K;try{p(h)}catch(ne){Zc(ne)}h.currentTarget=null,p=O}}}}function je(r,s){var a=s[Gs];a===void 0&&(a=s[Gs]=new Set);var u=r+"__bubble";a.has(u)||(DE(s,r,2,!1),a.add(u))}function Qp(r,s,a){var u=0;s&&(u|=4),DE(a,r,u,s)}var df="_reactListening"+Math.random().toString(36).slice(2);function Wp(r){if(!r[df]){r[df]=!0,dc.forEach(function(a){a!=="selectionchange"&&(vR.has(a)||Qp(a,!1,r),Qp(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[df]||(s[df]=!0,Qp("selectionchange",!1,s))}}function DE(r,s,a,u){switch(JE(s)){case 2:var h=$R;break;case 8:h=KR;break;default:h=cm}a=h.bind(null,s,a,r),h=void 0,!ai||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function Xp(r,s,a,u,h){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Dr(S),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=p=E;continue e}S=S.parentNode}}u=u.return}ta(function(){var K=p,ne=Al(a),oe=[];e:{var Y=c_.get(r);if(Y!==void 0){var Q=ia,De=r;switch(r){case"keypress":if(na(a)===0)break e;case"keydown":case"keyup":Q=oo;break;case"focusin":De="focus",Q=io;break;case"focusout":De="blur",Q=io;break;case"beforeblur":case"afterblur":Q=io;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=es;break;case a_:case o_:case l_:Q=Rl;break;case u_:Q=y;break;case"scroll":case"scrollend":Q=aa;break;case"wheel":Q=A;break;case"copy":case"cut":case"paste":Q=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Dl;break;case"toggle":case"beforetoggle":Q=W}var be=(s&4)!==0,ut=!be&&(r==="scroll"||r==="scrollend"),B=be?Y!==null?Y+"Capture":null:Y;be=[];for(var V=K,H;V!==null;){var ie=V;if(H=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||H===null||B===null||(ie=Zi(V,B),ie!=null&&be.push(lu(V,ie,H))),ut)break;V=V.return}0<be.length&&(Y=new Q(Y,De,null,a,ne),oe.push({event:Y,listeners:be}))}}if((s&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",Y&&a!==wl&&(De=a.relatedTarget||a.fromElement)&&(Dr(De)||De[ni]))break e;if((Q||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(De=a.relatedTarget||a.toElement,Q=K,De=De?Dr(De):null,De!==null&&(ut=l(De),be=De.tag,De!==ut||be!==5&&be!==27&&be!==6)&&(De=null)):(Q=null,De=K),Q!==De)){if(be=ua,ie="onMouseLeave",B="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(be=Dl,ie="onPointerLeave",B="onPointerEnter",V="pointer"),ut=Q==null?Y:$i(Q),H=De==null?Y:$i(De),Y=new be(ie,V+"leave",Q,a,ne),Y.target=ut,Y.relatedTarget=H,ie=null,Dr(ne)===K&&(be=new be(B,V+"enter",De,a,ne),be.target=H,be.relatedTarget=ut,ie=be),ut=ie,Q&&De)t:{for(be=Q,B=De,V=0,H=be;H;H=Mo(H))V++;for(H=0,ie=B;ie;ie=Mo(ie))H++;for(;0<V-H;)be=Mo(be),V--;for(;0<H-V;)B=Mo(B),H--;for(;V--;){if(be===B||B!==null&&be===B.alternate)break t;be=Mo(be),B=Mo(B)}be=null}else be=null;Q!==null&&NE(oe,Y,Q,be,!1),De!==null&&ut!==null&&NE(oe,ut,De,be,!0)}}e:{if(Y=K?$i(K):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var _e=Qy;else if(Ky(Y))if(Wy)_e=P1;else{_e=N1;var Ve=D1}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&to(K.elementType)&&(_e=Qy):_e=O1;if(_e&&(_e=_e(r,K))){Yy(oe,_e,a,ne);break e}Ve&&Ve(r,Y,K),r==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&El(Y,"number",Y.value)}switch(Ve=K?$i(K):window,r){case"focusin":(Ky(Ve)||Ve.contentEditable==="true")&&(lo=Ve,Cd=K,xl=null);break;case"focusout":xl=Cd=lo=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,i_(oe,a,ne);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":i_(oe,a,ne)}var Ee;if(Pe)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else mr?dr(r,a)&&(Re="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(kt&&a.locale!=="ko"&&(mr||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&mr&&(Ee=vc()):(Zn=ne,ht="value"in Zn?Zn.value:Zn.textContent,mr=!0)),Ve=pf(K,Re),0<Ve.length&&(Re=new Cl(Re,r,null,a,ne),oe.push({event:Re,listeners:Ve}),Ee?Re.data=Ee:(Ee=pr(a),Ee!==null&&(Re.data=Ee)))),(Ee=nt?Nl(r,a):R1(r,a))&&(Re=pf(K,"onBeforeInput"),0<Re.length&&(Ve=new Cl("onBeforeInput","beforeinput",null,a,ne),oe.push({event:Ve,listeners:Re}),Ve.data=Ee)),gR(oe,r,K,a,ne)}CE(oe,s)})}function lu(r,s,a){return{instance:r,listener:s,currentTarget:a}}function pf(r,s){for(var a=s+"Capture",u=[];r!==null;){var h=r,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Zi(r,a),h!=null&&u.unshift(lu(r,h,p)),h=Zi(r,s),h!=null&&u.push(lu(r,h,p))),r.tag===3)return u;r=r.return}return[]}function Mo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function NE(r,s,a,u,h){for(var p=s._reactName,E=[];a!==null&&a!==u;){var S=a,O=S.alternate,K=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||K===null||(O=K,h?(K=Zi(a,p),K!=null&&E.unshift(lu(a,K,O))):h||(K=Zi(a,p),K!=null&&E.push(lu(a,K,O)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var ER=/\r\n?/g,TR=/\u0000|\uFFFD/g;function OE(r){return(typeof r=="string"?r:""+r).replace(ER,`
`).replace(TR,"")}function PE(r,s){return s=OE(s),OE(r)===s}function mf(){}function lt(r,s,a,u,h,p){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Xn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Xn(r,""+u);break;case"className":Ws(r,"class",u);break;case"tabIndex":Ws(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ws(r,a,u);break;case"style":Sl(r,u,p);break;case"data":if(s!=="object"){Ws(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=hr(""+u),r.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&lt(r,s,"name",h.name,h,null),lt(r,s,"formEncType",h.formEncType,h,null),lt(r,s,"formMethod",h.formMethod,h,null),lt(r,s,"formTarget",h.formTarget,h,null)):(lt(r,s,"encType",h.encType,h,null),lt(r,s,"method",h.method,h,null),lt(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=hr(""+u),r.setAttribute(a,u);break;case"onClick":u!=null&&(r.onclick=mf);break;case"onScroll":u!=null&&je("scroll",r);break;case"onScrollEnd":u!=null&&je("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}a=hr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""+u):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":u===!0?r.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,u):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(a,u):r.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(a):r.setAttribute(a,u);break;case"popover":je("beforetoggle",r),je("toggle",r),Qs(r,"popover",u);break;case"xlinkActuate":Wn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Wn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Wn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Wn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Wn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Wn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qs(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gc.get(a)||a,Qs(r,a,u))}}function Zp(r,s,a,u,h,p){switch(a){case"style":Sl(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof u=="string"?Xn(r,u):(typeof u=="number"||typeof u=="bigint")&&Xn(r,""+u);break;case"onScroll":u!=null&&je("scroll",r);break;case"onScrollEnd":u!=null&&je("scrollend",r);break;case"onClick":u!=null&&(r.onclick=mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),p=r[rn]||null,p=p!=null?p[a]:null,typeof p=="function"&&r.removeEventListener(s,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,u,h);break e}a in r?r[a]=u:u===!0?r.setAttribute(a,""):Qs(r,a,u)}}}function on(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",r),je("load",r);var u=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(r,s,p,E,a,null)}}h&&lt(r,s,"srcSet",a.srcSet,a,null),u&&lt(r,s,"src",a.src,a,null);return;case"input":je("invalid",r);var S=p=E=h=null,O=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var ne=a[u];if(ne!=null)switch(u){case"name":h=ne;break;case"type":E=ne;break;case"checked":O=ne;break;case"defaultChecked":K=ne;break;case"value":p=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:lt(r,s,u,ne,a,null)}}vl(r,p,S,O,K,E,h,!1),Qi(r);return;case"select":je("invalid",r),u=E=p=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:lt(r,s,h,S,a,null)}s=p,a=E,r.multiple=!!u,s!=null?Wi(r,!!u,s,!1):a!=null&&Wi(r,!!u,a,!0);return;case"textarea":je("invalid",r),p=h=u=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":h=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:lt(r,s,E,S,a,null)}mc(r,u,h,p),Qi(r);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:lt(r,s,O,u,a,null)}return;case"dialog":je("beforetoggle",r),je("toggle",r),je("cancel",r),je("close",r);break;case"iframe":case"object":je("load",r);break;case"video":case"audio":for(u=0;u<ou.length;u++)je(ou[u],r);break;case"image":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"embed":case"source":case"link":je("error",r),je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(r,s,K,u,a,null)}return;default:if(to(s)){for(ne in a)a.hasOwnProperty(ne)&&(u=a[ne],u!==void 0&&Zp(r,s,ne,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&lt(r,s,S,u,a,null))}function SR(r,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,S=null,O=null,K=null,ne=null;for(Q in a){var oe=a[Q];if(a.hasOwnProperty(Q)&&oe!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=oe;default:u.hasOwnProperty(Q)||lt(r,s,Q,null,u,oe)}}for(var Y in u){var Q=u[Y];if(oe=a[Y],u.hasOwnProperty(Y)&&(Q!=null||oe!=null))switch(Y){case"type":p=Q;break;case"name":h=Q;break;case"checked":K=Q;break;case"defaultChecked":ne=Q;break;case"value":E=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Q!==oe&&lt(r,s,Y,Q,u,oe)}}_l(r,E,S,O,K,ne,p,h);return;case"select":Q=E=S=Y=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":Q=O;default:u.hasOwnProperty(p)||lt(r,s,p,null,u,O)}for(h in u)if(p=u[h],O=a[h],u.hasOwnProperty(h)&&(p!=null||O!=null))switch(h){case"value":Y=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==O&&lt(r,s,h,p,u,O)}s=S,a=E,u=Q,Y!=null?Wi(r,!!a,Y,!1):!!u!=!!a&&(s!=null?Wi(r,!!a,s,!0):Wi(r,!!a,a?[]:"",!1));return;case"textarea":Q=Y=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:lt(r,s,S,null,u,h)}for(E in u)if(h=u[E],p=a[E],u.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":Y=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==p&&lt(r,s,E,h,u,p)}pc(r,Y,Q);return;case"option":for(var De in a)if(Y=a[De],a.hasOwnProperty(De)&&Y!=null&&!u.hasOwnProperty(De))switch(De){case"selected":r.selected=!1;break;default:lt(r,s,De,null,u,Y)}for(O in u)if(Y=u[O],Q=a[O],u.hasOwnProperty(O)&&Y!==Q&&(Y!=null||Q!=null))switch(O){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:lt(r,s,O,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)Y=a[be],a.hasOwnProperty(be)&&Y!=null&&!u.hasOwnProperty(be)&&lt(r,s,be,null,u,Y);for(K in u)if(Y=u[K],Q=a[K],u.hasOwnProperty(K)&&Y!==Q&&(Y!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:lt(r,s,K,Y,u,Q)}return;default:if(to(s)){for(var ut in a)Y=a[ut],a.hasOwnProperty(ut)&&Y!==void 0&&!u.hasOwnProperty(ut)&&Zp(r,s,ut,void 0,u,Y);for(ne in u)Y=u[ne],Q=a[ne],!u.hasOwnProperty(ne)||Y===Q||Y===void 0&&Q===void 0||Zp(r,s,ne,Y,u,Q);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!u.hasOwnProperty(B)&&lt(r,s,B,null,u,Y);for(oe in u)Y=u[oe],Q=a[oe],!u.hasOwnProperty(oe)||Y===Q||Y==null&&Q==null||lt(r,s,oe,Y,u,Q)}var Jp=null,em=null;function gf(r){return r.nodeType===9?r:r.ownerDocument}function ME(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function tm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nm=null;function wR(){var r=window.event;return r&&r.type==="popstate"?r===nm?!1:(nm=r,!0):(nm=null,!1)}var kE=typeof setTimeout=="function"?setTimeout:void 0,AR=typeof clearTimeout=="function"?clearTimeout:void 0,VE=typeof Promise=="function"?Promise:void 0,bR=typeof queueMicrotask=="function"?queueMicrotask:typeof VE<"u"?function(r){return VE.resolve(null).then(r).catch(RR)}:kE;function RR(r){setTimeout(function(){throw r})}function gs(r){return r==="head"}function LE(r,s){var a=s,u=0,h=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<u&&8>u){a=u;var E=r.ownerDocument;if(a&1&&uu(E.documentElement),a&2&&uu(E.body),a&4)for(a=E.head,uu(a),E=a.firstChild;E;){var S=E.nextSibling,O=E.nodeName;E[Gi]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(h===0){r.removeChild(p),yu(s);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:u=a.charCodeAt(0)-48;else u=0;a=p}while(a);yu(s)}function rm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),Wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function IR(r,s,a,u){for(;r.nodeType===1;){var h=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Gi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=_r(r.nextSibling),r===null)break}return null}function CR(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=_r(r.nextSibling),r===null))return null;return r}function im(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function DR(r,s){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function _r(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var sm=null;function zE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}function UE(r,s,a){switch(s=gf(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function uu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Wa(r)}var sr=new Map,jE=new Set;function yf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ei=ce.d;ce.d={f:NR,r:OR,D:PR,C:MR,L:xR,m:kR,X:LR,S:VR,M:zR};function NR(){var r=Ei.f(),s=lf();return r||s}function OR(r){var s=Nr(r);s!==null&&s.tag===5&&s.type==="form"?av(s):Ei.r(r)}var xo=typeof document>"u"?null:document;function BE(r,s,a){var u=xo;if(u&&typeof s=="string"&&s){var h=Xt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),jE.has(h)||(jE.add(h),r={rel:r,crossOrigin:a,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),on(s,"link",r),xt(s),u.head.appendChild(s)))}}function PR(r){Ei.D(r),BE("dns-prefetch",r,null)}function MR(r,s){Ei.C(r,s),BE("preconnect",r,s)}function xR(r,s,a){Ei.L(r,s,a);var u=xo;if(u&&r&&s){var h='link[rel="preload"][as="'+Xt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Xt(a.imageSizes)+'"]')):h+='[href="'+Xt(r)+'"]';var p=h;switch(s){case"style":p=ko(r);break;case"script":p=Vo(r)}sr.has(p)||(r=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),sr.set(p,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(cu(p))||s==="script"&&u.querySelector(fu(p))||(s=u.createElement("link"),on(s,"link",r),xt(s),u.head.appendChild(s)))}}function kR(r,s){Ei.m(r,s);var a=xo;if(a&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Xt(u)+'"][href="'+Xt(r)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vo(r)}if(!sr.has(p)&&(r=_({rel:"modulepreload",href:r},s),sr.set(p,r),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fu(p)))return}u=a.createElement("link"),on(u,"link",r),xt(u),a.head.appendChild(u)}}}function VR(r,s,a){Ei.S(r,s,a);var u=xo;if(u&&r){var h=Ki(u).hoistableStyles,p=ko(r);s=s||"default";var E=h.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(cu(p)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},a),(a=sr.get(p))&&am(r,a);var O=E=u.createElement("link");xt(O),on(O,"link",r),O._p=new Promise(function(K,ne){O.onload=K,O.onerror=ne}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,_f(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(p,E)}}}function LR(r,s){Ei.X(r,s);var a=xo;if(a&&r){var u=Ki(a).hoistableScripts,h=Vo(r),p=u.get(h);p||(p=a.querySelector(fu(h)),p||(r=_({src:r,async:!0},s),(s=sr.get(h))&&om(r,s),p=a.createElement("script"),xt(p),on(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function zR(r,s){Ei.M(r,s);var a=xo;if(a&&r){var u=Ki(a).hoistableScripts,h=Vo(r),p=u.get(h);p||(p=a.querySelector(fu(h)),p||(r=_({src:r,async:!0,type:"module"},s),(s=sr.get(h))&&om(r,s),p=a.createElement("script"),xt(p),on(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function qE(r,s,a,u){var h=(h=he.current)?yf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ko(a.href),a=Ki(h).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=ko(a.href);var p=Ki(h).hoistableStyles,E=p.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=h.querySelector(cu(r)))&&!p._p&&(E.instance=p,E.state.loading=5),sr.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},sr.set(r,a),p||UR(h,r,a,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vo(a),a=Ki(h).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ko(r){return'href="'+Xt(r)+'"'}function cu(r){return'link[rel="stylesheet"]['+r+"]"}function FE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function UR(r,s,a,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),on(s,"link",a),xt(s),r.head.appendChild(s))}function Vo(r){return'[src="'+Xt(r)+'"]'}function fu(r){return"script[async]"+r}function HE(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Xt(a.href)+'"]');if(u)return s.instance=u,xt(u),u;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),xt(u),on(u,"style",h),_f(u,a.precedence,r),s.instance=u;case"stylesheet":h=ko(a.href);var p=r.querySelector(cu(h));if(p)return s.state.loading|=4,s.instance=p,xt(p),p;u=FE(a),(h=sr.get(h))&&am(u,h),p=(r.ownerDocument||r).createElement("link"),xt(p);var E=p;return E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),on(p,"link",u),s.state.loading|=4,_f(p,a.precedence,r),s.instance=p;case"script":return p=Vo(a.src),(h=r.querySelector(fu(p)))?(s.instance=h,xt(h),h):(u=a,(h=sr.get(p))&&(u=_({},a),om(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),xt(h),on(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,_f(u,a.precedence,r));return s.instance}function _f(r,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===s)p=S;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function am(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function om(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var vf=null;function GE(r,s,a){if(vf===null){var u=new Map,h=vf=new Map;h.set(a,u)}else h=vf,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(r))return u;for(u.set(r,null),a=a.getElementsByTagName(r),h=0;h<a.length;h++){var p=a[h];if(!(p[Gi]||p[Mt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=r+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function $E(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function jR(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function KE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var hu=null;function BR(){}function qR(r,s,a){if(hu===null)throw Error(i(475));var u=hu;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ko(a.href),p=r.querySelector(cu(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Ef.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=p,xt(p);return}p=r.ownerDocument||r,a=FE(a),(h=sr.get(h))&&am(a,h),p=p.createElement("link"),xt(p);var E=p;E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),on(p,"link",a),s.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Ef.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function FR(){if(hu===null)throw Error(i(475));var r=hu;return r.stylesheets&&r.count===0&&lm(r,r.stylesheets),0<r.count?function(s){var a=setTimeout(function(){if(r.stylesheets&&lm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Ef(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Tf=null;function lm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Tf=new Map,s.forEach(HR,r),Tf=null,Ef.call(r))}function HR(r,s){if(!(s.state.loading&4)){var a=Tf.get(r);if(a)var u=a.get(null);else{a=new Map,Tf.set(r,a);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}h=s.instance,E=h.getAttribute("data-precedence"),p=a.get(E)||u,p===u&&a.set(null,h),a.set(E,h),this.count++,u=Ef.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var du={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function GR(r,s,a,u,h,p,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.hiddenUpdates=Qa(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function YE(r,s,a,u,h,p,E,S,O,K,ne,oe){return r=new GR(r,s,a,E,S,O,K,oe),s=1,p===!0&&(s|=24),p=zn(3,null,null,s),r.current=p,p.stateNode=r,s=Fd(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:s},Kd(p),r}function QE(r){return r?(r=ho,r):ho}function WE(r,s,a,u,h,p){h=QE(h),u.context===null?u.context=h:u.pendingContext=h,u=rs(s),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=is(r,u,s),a!==null&&(Fn(a,r,s),Fl(a,r,s))}function XE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function um(r,s){XE(r,s),(r=r.alternate)&&XE(r,s)}function ZE(r){if(r.tag===13){var s=fo(r,67108864);s!==null&&Fn(s,r,67108864),um(r,67108864)}}var Sf=!0;function $R(r,s,a,u){var h=te.T;te.T=null;var p=ce.p;try{ce.p=2,cm(r,s,a,u)}finally{ce.p=p,te.T=h}}function KR(r,s,a,u){var h=te.T;te.T=null;var p=ce.p;try{ce.p=8,cm(r,s,a,u)}finally{ce.p=p,te.T=h}}function cm(r,s,a,u){if(Sf){var h=fm(u);if(h===null)Xp(r,s,u,wf,a),eT(r,u);else if(QR(h,r,s,a,u))u.stopPropagation();else if(eT(r,u),s&4&&-1<YR.indexOf(r)){for(;h!==null;){var p=Nr(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=kn(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var O=1<<31-gt(E);S.entanglements[1]|=O,E&=~O}jr(p),(rt&6)===0&&(af=fe()+500,au(0))}}break;case 13:S=fo(p,2),S!==null&&Fn(S,p,2),lf(),um(p,2)}if(p=fm(u),p===null&&Xp(r,s,u,wf,a),p===h)break;h=p}h!==null&&u.stopPropagation()}else Xp(r,s,u,null,a)}}function fm(r){return r=Al(r),hm(r)}var wf=null;function hm(r){if(wf=null,r=Dr(r),r!==null){var s=l(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=c(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return wf=r,null}function JE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case Se:return 2;case Ne:return 8;case Ke:case st:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var dm=!1,ys=null,_s=null,vs=null,pu=new Map,mu=new Map,Es=[],YR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eT(r,s){switch(r){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(s.pointerId)}}function gu(r,s,a,u,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},s!==null&&(s=Nr(s),s!==null&&ZE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function QR(r,s,a,u,h){switch(s){case"focusin":return ys=gu(ys,r,s,a,u,h),!0;case"dragenter":return _s=gu(_s,r,s,a,u,h),!0;case"mouseover":return vs=gu(vs,r,s,a,u,h),!0;case"pointerover":var p=h.pointerId;return pu.set(p,gu(pu.get(p)||null,r,s,a,u,h)),!0;case"gotpointercapture":return p=h.pointerId,mu.set(p,gu(mu.get(p)||null,r,s,a,u,h)),!0}return!1}function tT(r){var s=Dr(r.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){r.blockedOn=s,Ed(r.priority,function(){if(a.tag===13){var u=qn();u=gl(u);var h=fo(a,u);h!==null&&Fn(h,a,u),um(a,u)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Af(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=fm(r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);wl=u,a.target.dispatchEvent(u),wl=null}else return s=Nr(a),s!==null&&ZE(s),r.blockedOn=a,!1;s.shift()}return!0}function nT(r,s,a){Af(r)&&a.delete(s)}function WR(){dm=!1,ys!==null&&Af(ys)&&(ys=null),_s!==null&&Af(_s)&&(_s=null),vs!==null&&Af(vs)&&(vs=null),pu.forEach(nT),mu.forEach(nT)}function bf(r,s){r.blockedOn===s&&(r.blockedOn=null,dm||(dm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,WR)))}var Rf=null;function rT(r){Rf!==r&&(Rf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rf===r&&(Rf=null);for(var s=0;s<r.length;s+=3){var a=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(hm(u||a)===null)continue;break}var p=Nr(a);p!==null&&(r.splice(s,3),s-=3,hp(p,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function yu(r){function s(O){return bf(O,r)}ys!==null&&bf(ys,r),_s!==null&&bf(_s,r),vs!==null&&bf(vs,r),pu.forEach(s),mu.forEach(s);for(var a=0;a<Es.length;a++){var u=Es[a];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Es.length&&(a=Es[0],a.blockedOn===null);)tT(a),a.blockedOn===null&&Es.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],p=a[u+1],E=h[rn]||null;if(typeof p=="function")E||rT(a);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[rn]||null)S=E.formAction;else if(hm(h)!==null)continue}else S=E.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),rT(a)}}}function pm(r){this._internalRoot=r}If.prototype.render=pm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,u=qn();WE(a,u,r,s,null,null)},If.prototype.unmount=pm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;WE(r.current,2,null,r,null,null),lf(),s[ni]=null}};function If(r){this._internalRoot=r}If.prototype.unstable_scheduleHydration=function(r){if(r){var s=ti();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Es.length&&s!==0&&s<Es[a].priority;a++);Es.splice(a,0,r),a===0&&tT(r)}};var iT=e.version;if(iT!=="19.1.0")throw Error(i(527,iT,"19.1.0"));ce.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var XR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{nn=Cf.inject(XR),We=Cf}catch{}}return vu.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,u="",h=Ev,p=Tv,E=Sv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=YE(r,1,!1,null,null,a,u,h,p,E,S,null),r[ni]=s.current,Wp(r),new pm(s)},vu.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var u=!1,h="",p=Ev,E=Tv,S=Sv,O=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),s=YE(r,1,!0,s,a??null,u,h,p,E,S,O,K),s.context=QE(null),a=s.current,u=qn(),u=gl(u),h=rs(u),h.callback=null,is(a,h,u),a=u,s.current.lanes=a,Pt(s,a),jr(s),r[ni]=s.current,Wp(r),new If(s)},vu.version="19.1.0",vu}var pT;function cI(){if(pT)return _m.exports;pT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_m.exports=uI(),_m.exports}var fI=cI();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mT="popstate";function hI(n={}){function e(i,o){let{pathname:l,search:c,hash:d}=i.location;return Wm("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:zu(o)}return pI(e,t,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Yr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dI(){return Math.random().toString(36).substring(2,10)}function gT(n,e){return{usr:n.state,key:n.key,idx:e}}function Wm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?il(e):e,state:t,key:e&&e.key||i||dI()}}function zu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function il(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function pI(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let U=_(),J=U==null?null:U-g;g=U,m&&m({action:d,location:$.location,delta:J})}function w(U,J){d="PUSH";let ae=Wm($.location,U,J);g=_()+1;let Z=gT(ae,g),re=$.createHref(ae);try{c.pushState(Z,"",re)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(re)}l&&m&&m({action:d,location:$.location,delta:1})}function N(U,J){d="REPLACE";let ae=Wm($.location,U,J);g=_();let Z=gT(ae,g),re=$.createHref(ae);c.replaceState(Z,"",re),l&&m&&m({action:d,location:$.location,delta:0})}function q(U){return mI(U)}let $={get action(){return d},get location(){return n(o,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(mT,T),m=U,()=>{o.removeEventListener(mT,T),m=null}},createHref(U){return e(o,U)},createURL:q,encodeLocation(U){let J=q(U);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:N,go(U){return c.go(U)}};return $}function mI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:zu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function P0(n,e,t="/"){return gI(n,e,t,!1)}function gI(n,e,t,i){let o=typeof e=="string"?il(e):e,l=Oi(o.pathname||"/",t);if(l==null)return null;let c=M0(n);yI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=CI(l);d=RI(c[m],g,i)}return d}function M0(n,e=[],t=[],i="",o=!1){let l=(c,d,m=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&m)return;At(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let T=Ri([i,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(At(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),M0(c.children,e,w,T,m)),!(c.path==null&&!c.index)&&e.push({path:T,score:AI(T,c.index),routesMeta:w})};return n.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,d);else for(let g of x0(c.path))l(c,d,!0,g)}),e}function x0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=x0(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function yI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var _I=/^:[\w-]+$/,vI=3,EI=2,TI=1,SI=10,wI=-2,yT=n=>n==="*";function AI(n,e){let t=n.split("/"),i=t.length;return t.some(yT)&&(i+=wI),e&&(i+=EI),t.filter(o=>!yT(o)).reduce((o,l)=>o+(_I.test(l)?vI:l===""?TI:SI),i)}function bI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function RI(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=ch({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),w=m.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=ch({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Ri([l,T.pathname]),pathnameBase:PI(Ri([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=Ri([l,T.pathnameBase]))}return c}function ch(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=II(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let q=d[w]||"";c=l.slice(0,l.length-q.length).replace(/(.)\/+$/,"$1")}const N=d[w];return T&&!N?g[_]=void 0:g[_]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function II(n,e=!1,t=!0){Yr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function CI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Oi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function DI(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?il(n):n;return{pathname:t?t.startsWith("/")?t:NI(t,e):e,search:MI(i),hash:xI(o)}}function NI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function k0(n){let e=OI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function V0(n,e,t,i=!1){let o;typeof n=="string"?o=il(n):(o={...n},At(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?e[T]:"/"}let m=DI(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var Ri=n=>n.join("/").replace(/\/\/+/g,"/"),PI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),MI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L0=["POST","PUT","PATCH","DELETE"];new Set(L0);var VI=["GET",...L0];new Set(VI);var sl=F.createContext(null);sl.displayName="DataRouter";var jh=F.createContext(null);jh.displayName="DataRouterState";F.createContext(!1);var z0=F.createContext({isTransitioning:!1});z0.displayName="ViewTransition";var LI=F.createContext(new Map);LI.displayName="Fetchers";var zI=F.createContext(null);zI.displayName="Await";var Xr=F.createContext(null);Xr.displayName="Navigation";var Wu=F.createContext(null);Wu.displayName="Location";var Zr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var xg=F.createContext(null);xg.displayName="RouteError";function UI(n,{relative:e}={}){At(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(Xr),{hash:o,pathname:l,search:c}=Zu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ri([t,l])),i.createHref({pathname:d,search:c,hash:o})}function Xu(){return F.useContext(Wu)!=null}function Bs(){return At(Xu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Wu).location}var U0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j0(n){F.useContext(Xr).static||F.useLayoutEffect(n)}function Ar(){let{isDataRoute:n}=F.useContext(Zr);return n?JI():jI()}function jI(){At(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(sl),{basename:e,navigator:t}=F.useContext(Xr),{matches:i}=F.useContext(Zr),{pathname:o}=Bs(),l=JSON.stringify(k0(i)),c=F.useRef(!1);return j0(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(Yr(c.current,U0),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=V0(m,JSON.parse(l),o,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ri([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,o,n])}F.createContext(null);function BI(){let{matches:n}=F.useContext(Zr),e=n[n.length-1];return e?e.params:{}}function Zu(n,{relative:e}={}){let{matches:t}=F.useContext(Zr),{pathname:i}=Bs(),o=JSON.stringify(k0(t));return F.useMemo(()=>V0(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function qI(n,e){return B0(n,e)}function B0(n,e,t,i,o){var ae;At(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(Xr),{matches:c}=F.useContext(Zr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let Z=T&&T.path||"";q0(g,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let w=Bs(),N;if(e){let Z=typeof e=="string"?il(e):e;At(_==="/"||((ae=Z.pathname)==null?void 0:ae.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),N=Z}else N=w;let q=N.pathname||"/",$=q;if(_!=="/"){let Z=_.replace(/^\//,"").split("/");$="/"+q.replace(/^\//,"").split("/").slice(Z.length).join("/")}let U=P0(n,{pathname:$});Yr(T||U!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Yr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=KI(U&&U.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:Ri([_,l.encodeLocation?l.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?_:Ri([_,l.encodeLocation?l.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),c,t,i,o);return e&&J?F.createElement(Wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},J):J}function FI(){let n=ZI(),e=kI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,c)}var HI=F.createElement(FI,null),GI=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(Zr.Provider,{value:this.props.routeContext},F.createElement(xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $I({routeContext:n,match:e,children:t}){let i=F.useContext(sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Zr.Provider,{value:n},t)}function KI(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t==null?void 0:t.errors;if(c!=null){let g=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);At(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,m=-1;if(t)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:T,errors:w}=t,N=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||N){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let w,N=!1,q=null,$=null;t&&(w=c&&_.route.id?c[_.route.id]:void 0,q=_.route.errorElement||HI,d&&(m<0&&T===0?(q0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,$=null):m===T&&(N=!0,$=_.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,T+1)),J=()=>{let ae;return w?ae=q:N?ae=$:_.route.Component?ae=F.createElement(_.route.Component,null):_.route.element?ae=_.route.element:ae=g,F.createElement($I,{match:_,routeContext:{outlet:g,matches:U,isDataRoute:t!=null},children:ae})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?F.createElement(GI,{location:t.location,revalidation:t.revalidation,component:q,error:w,children:J(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:i}):J()},null)}function kg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YI(n){let e=F.useContext(sl);return At(e,kg(n)),e}function QI(n){let e=F.useContext(jh);return At(e,kg(n)),e}function WI(n){let e=F.useContext(Zr);return At(e,kg(n)),e}function Vg(n){let e=WI(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function XI(){return Vg("useRouteId")}function ZI(){var i;let n=F.useContext(xg),e=QI("useRouteError"),t=Vg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function JI(){let{router:n}=YI("useNavigate"),e=Vg("useNavigate"),t=F.useRef(!1);return j0(()=>{t.current=!0}),F.useCallback(async(o,l={})=>{Yr(t.current,U0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var _T={};function q0(n,e,t){!e&&!_T[n]&&(_T[n]=!0,Yr(!1,t))}F.memo(eC);function eC({routes:n,future:e,state:t,unstable_onError:i}){return B0(n,void 0,t,i,e)}function Lo(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){At(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=il(t));let{pathname:m="/",search:g="",hash:_="",state:T=null,key:w="default"}=t,N=F.useMemo(()=>{let q=Oi(m,c);return q==null?null:{location:{pathname:q,search:g,hash:_,state:T,key:w},navigationType:i}},[c,m,g,_,T,w,i]);return Yr(N!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:F.createElement(Xr.Provider,{value:d},F.createElement(Wu.Provider,{children:e,value:N}))}function nC({children:n,location:e}){return qI(Xm(n),e)}function Xm(n,e=[]){let t=[];return F.Children.forEach(n,(i,o)=>{if(!F.isValidElement(i))return;let l=[...e,o];if(i.type===F.Fragment){t.push.apply(t,Xm(i.props.children,l));return}At(i.type===Lo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Xm(i.props.children,l)),t.push(c)}),t}var qf="get",Ff="application/x-www-form-urlencoded";function Bh(n){return n!=null&&typeof n.tagName=="string"}function rC(n){return Bh(n)&&n.tagName.toLowerCase()==="button"}function iC(n){return Bh(n)&&n.tagName.toLowerCase()==="form"}function sC(n){return Bh(n)&&n.tagName.toLowerCase()==="input"}function aC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oC(n,e){return n.button===0&&(!e||e==="_self")&&!aC(n)}var Nf=null;function lC(){if(Nf===null)try{new FormData(document.createElement("form"),0),Nf=!1}catch{Nf=!0}return Nf}var uC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wm(n){return n!=null&&!uC.has(n)?(Yr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ff}"`),null):n}function cC(n,e){let t,i,o,l,c;if(iC(n)){let d=n.getAttribute("action");i=d?Oi(d,e):null,t=n.getAttribute("method")||qf,o=wm(n.getAttribute("enctype"))||Ff,l=new FormData(n)}else if(rC(n)||sC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?Oi(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||qf,o=wm(n.getAttribute("formenctype"))||wm(d.getAttribute("enctype"))||Ff,l=new FormData(d,n),!lC()){let{name:g,type:_,value:T}=n;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(Bh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qf,i=null,o=Ff,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fC(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Oi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function hC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pC(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await hC(l,t);return c.links?c.links():[]}return[]}));return _C(i.flat(1).filter(dC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vT(n,e,t,i,o,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var _;return t[g].pathname!==m.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var T;let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function mC(n,e,{includeHydrateFallback:t}={}){return gC(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function gC(n){return[...new Set(n)]}function yC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function _C(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(yC(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function F0(){let n=F.useContext(sl);return Lg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vC(){let n=F.useContext(jh);return Lg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var zg=F.createContext(void 0);zg.displayName="FrameworkContext";function H0(){let n=F.useContext(zg);return Lg(n,"You must render this element inside a <HydratedRouter> element"),n}function EC(n,e){let t=F.useContext(zg),[i,o]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,w=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let $=J=>{J.forEach(ae=>{c(ae.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[n]),F.useEffect(()=>{if(i){let $=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout($)}}},[i]);let N=()=>{o(!0)},q=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:Eu(d,N),onBlur:Eu(m,q),onMouseEnter:Eu(g,N),onMouseLeave:Eu(_,q),onTouchStart:Eu(T,N)}]:[!1,w,{}]}function Eu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function TC({page:n,...e}){let{router:t}=F0(),i=F.useMemo(()=>P0(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(wC,{page:n,matches:i,...e}):null}function SC(n){let{manifest:e,routeModules:t}=H0(),[i,o]=F.useState([]);return F.useEffect(()=>{let l=!1;return pC(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function wC({page:n,matches:e,...t}){let i=Bs(),{manifest:o,routeModules:l}=H0(),{basename:c}=F0(),{loaderData:d,matches:m}=vC(),g=F.useMemo(()=>vT(n,e,m,o,i,"data"),[n,e,m,o,i]),_=F.useMemo(()=>vT(n,e,m,o,i,"assets"),[n,e,m,o,i]),T=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let q=new Set,$=!1;if(e.forEach(J=>{var Z;let ae=o.routes[J.route.id];!ae||!ae.hasLoader||(!g.some(re=>re.route.id===J.route.id)&&J.route.id in d&&((Z=l[J.route.id])!=null&&Z.shouldRevalidate)||ae.hasClientLoader?$=!0:q.add(J.route.id))}),q.size===0)return[];let U=fC(n,c,"data");return $&&q.size>0&&U.searchParams.set("_routes",e.filter(J=>q.has(J.route.id)).map(J=>J.route.id).join(",")),[U.pathname+U.search]},[c,d,i,o,g,e,n,l]),w=F.useMemo(()=>mC(_,o),[_,o]),N=SC(_);return F.createElement(F.Fragment,null,T.map(q=>F.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...t})),w.map(q=>F.createElement("link",{key:q,rel:"modulepreload",href:q,...t})),N.map(({key:q,link:$})=>F.createElement("link",{key:q,nonce:t.nonce,...$})))}function AC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var G0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G0&&(window.__reactRouterVersion="7.9.5")}catch{}function bC({basename:n,children:e,window:t}){let i=F.useRef();i.current==null&&(i.current=hI({window:t,v5Compat:!0}));let o=i.current,[l,c]=F.useState({action:o.action,location:o.location}),d=F.useCallback(m=>{F.startTransition(()=>c(m))},[c]);return F.useLayoutEffect(()=>o.listen(d),[o,d]),F.createElement(tC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var $0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K0=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:T,...w},N){let{basename:q}=F.useContext(Xr),$=typeof g=="string"&&$0.test(g),U,J=!1;if(typeof g=="string"&&$&&(U=g,G0))try{let b=new URL(window.location.href),P=g.startsWith("//")?new URL(b.protocol+g):new URL(g),k=Oi(P.pathname,q);P.origin===b.origin&&k!=null?g=k+P.search+P.hash:J=!0}catch{Yr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=UI(g,{relative:o}),[Z,re,ee]=EC(i,w),ue=DC(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:T});function C(b){e&&e(b),b.defaultPrevented||ue(b)}let R=F.createElement("a",{...w,...ee,href:U||ae,onClick:J||l?e:C,ref:AC(N,re),target:m,"data-discover":!$&&t==="render"?"true":void 0});return Z&&!$?F.createElement(F.Fragment,null,R,F.createElement(TC,{page:ae})):R});K0.displayName="Link";var RC=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let T=Zu(c,{relative:g.relative}),w=Bs(),N=F.useContext(jh),{navigator:q,basename:$}=F.useContext(Xr),U=N!=null&&xC(T)&&d===!0,J=q.encodeLocation?q.encodeLocation(T).pathname:T.pathname,ae=w.pathname,Z=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(ae=ae.toLowerCase(),Z=Z?Z.toLowerCase():null,J=J.toLowerCase()),Z&&$&&(Z=Oi(Z,$)||Z);const re=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ee=ae===J||!o&&ae.startsWith(J)&&ae.charAt(re)==="/",ue=Z!=null&&(Z===J||!o&&Z.startsWith(J)&&Z.charAt(J.length)==="/"),C={isActive:ee,isPending:ue,isTransitioning:U},R=ee?e:void 0,b;typeof i=="function"?b=i(C):b=[i,ee?"active":null,ue?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return F.createElement(K0,{...g,"aria-current":R,className:b,ref:_,style:P,to:c,viewTransition:d},typeof m=="function"?m(C):m)});RC.displayName="NavLink";var IC=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=qf,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:T,...w},N)=>{let q=PC(),$=MC(d,{relative:g}),U=c.toLowerCase()==="get"?"get":"post",J=typeof d=="string"&&$0.test(d),ae=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let re=Z.nativeEvent.submitter,ee=(re==null?void 0:re.getAttribute("formmethod"))||c;q(re||Z.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return F.createElement("form",{ref:N,method:U,action:$,onSubmit:i?m:ae,...w,"data-discover":!J&&n==="render"?"true":void 0})});IC.displayName="Form";function CC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y0(n){let e=F.useContext(sl);return At(e,CC(n)),e}function DC(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Ar(),m=Bs(),g=Zu(n,{relative:l});return F.useCallback(_=>{if(oC(_,e)){_.preventDefault();let T=t!==void 0?t:zu(m)===zu(g);d(n,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[m,d,g,t,i,e,n,o,l,c])}var NC=0,OC=()=>`__${String(++NC)}__`;function PC(){let{router:n}=Y0("useSubmit"),{basename:e}=F.useContext(Xr),t=XI();return F.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=cC(i,e);if(o.navigate===!1){let _=o.fetcherKey||OC();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function MC(n,{relative:e}={}){let{basename:t}=F.useContext(Xr),i=F.useContext(Zr);At(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Zu(n||".",{relative:e})},c=Bs();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ri([t,l.pathname])),zu(l)}function xC(n,{relative:e}={}){let t=F.useContext(z0);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Y0("useViewTransitionState"),o=Zu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Oi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Oi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ch(o.pathname,c)!=null||ch(o.pathname,l)!=null}var Am={exports:{}},bm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function kC(){if(ET)return bm;ET=1;var n=Uh();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return bm.useSyncExternalStoreWithSelector=function(m,g,_,T,w){var N=o(null);if(N.current===null){var q={hasValue:!1,value:null};N.current=q}else q=N.current;N=c(function(){function U(ee){if(!J){if(J=!0,ae=ee,ee=T(ee),w!==void 0&&q.hasValue){var ue=q.value;if(w(ue,ee))return Z=ue}return Z=ee}if(ue=Z,t(ae,ee))return ue;var C=T(ee);return w!==void 0&&w(ue,C)?(ae=ee,ue):(ae=ee,Z=C)}var J=!1,ae,Z,re=_===void 0?null:_;return[function(){return U(g())},re===null?void 0:function(){return U(re())}]},[g,_,T,w]);var $=i(m,N[0],N[1]);return l(function(){q.hasValue=!0,q.value=$},[$]),d($),$},bm}var TT;function VC(){return TT||(TT=1,Am.exports=kC()),Am.exports}var LC=VC();function zC(n){n()}function UC(){let n=null,e=null;return{clear(){n=null,e=null},notify(){zC(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!i||n===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var ST={notify(){},get:()=>[]};function jC(n,e){let t,i=ST,o=0,l=!1;function c($){_();const U=i.subscribe($);let J=!1;return()=>{J||(J=!0,U(),T())}}function d(){i.notify()}function m(){q.onStateChange&&q.onStateChange()}function g(){return l}function _(){o++,t||(t=n.subscribe(m),i=UC())}function T(){o--,t&&o===0&&(t(),t=void 0,i.clear(),i=ST)}function w(){l||(l=!0,_())}function N(){l&&(l=!1,T())}const q={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:w,tryUnsubscribe:N,getListeners:()=>i};return q}var BC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qC=BC(),FC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HC=FC(),GC=()=>qC||HC?F.useLayoutEffect:F.useEffect,$C=GC(),Rm=Symbol.for("react-redux-context"),Im=typeof globalThis<"u"?globalThis:{};function KC(){if(!F.createContext)return{};const n=Im[Rm]??(Im[Rm]=new Map);let e=n.get(F.createContext);return e||(e=F.createContext(null),n.set(F.createContext,e)),e}var Os=KC();function YC(n){const{children:e,context:t,serverState:i,store:o}=n,l=F.useMemo(()=>{const m=jC(o);return{store:o,subscription:m,getServerState:i?()=>i:void 0}},[o,i]),c=F.useMemo(()=>o.getState(),[o]);$C(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=t||Os;return F.createElement(d.Provider,{value:l},e)}var QC=YC;function Ug(n=Os){return function(){return F.useContext(n)}}var Q0=Ug();function W0(n=Os){const e=n===Os?Q0:Ug(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var WC=W0();function XC(n=Os){const e=n===Os?WC:W0(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var ZC=XC(),JC=(n,e)=>n===e;function eD(n=Os){const e=n===Os?Q0:Ug(n),t=(i,o={})=>{const{equalityFn:l=JC}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:d,subscription:m,getServerState:g}=c;F.useRef(!0);const _=F.useCallback({[i.name](w){return i(w)}}[i.name],[i]),T=LC.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,_,l);return F.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var tD=eD();const br=ZC,et=tD;function ln(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var nD=typeof Symbol=="function"&&Symbol.observable||"@@observable",wT=nD,Cm=()=>Math.random().toString(36).substring(7).split("").join("."),rD={INIT:`@@redux/INIT${Cm()}`,REPLACE:`@@redux/REPLACE${Cm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cm()}`},fh=rD;function jg(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Bg(n,e,t){if(typeof n!="function")throw new Error(ln(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ln(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ln(1));return t(Bg)(n,e)}let i=n,o=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((U,J)=>{c.set(J,U)}))}function _(){if(m)throw new Error(ln(3));return o}function T(U){if(typeof U!="function")throw new Error(ln(4));if(m)throw new Error(ln(5));let J=!0;g();const ae=d++;return c.set(ae,U),function(){if(J){if(m)throw new Error(ln(6));J=!1,g(),c.delete(ae),l=null}}}function w(U){if(!jg(U))throw new Error(ln(7));if(typeof U.type>"u")throw new Error(ln(8));if(typeof U.type!="string")throw new Error(ln(17));if(m)throw new Error(ln(9));try{m=!0,o=i(o,U)}finally{m=!1}return(l=c).forEach(ae=>{ae()}),U}function N(U){if(typeof U!="function")throw new Error(ln(10));i=U,w({type:fh.REPLACE})}function q(){const U=T;return{subscribe(J){if(typeof J!="object"||J===null)throw new Error(ln(11));function ae(){const re=J;re.next&&re.next(_())}return ae(),{unsubscribe:U(ae)}},[wT](){return this}}}return w({type:fh.INIT}),{dispatch:w,subscribe:T,getState:_,replaceReducer:N,[wT]:q}}function iD(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:fh.INIT})>"u")throw new Error(ln(12));if(typeof t(void 0,{type:fh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ln(13))})}function X0(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const i=Object.keys(t);let o;try{iD(t)}catch(l){o=l}return function(c={},d){if(o)throw o;let m=!1;const g={};for(let _=0;_<i.length;_++){const T=i[_],w=t[T],N=c[T],q=w(N,d);if(typeof q>"u")throw d&&d.type,new Error(ln(14));g[T]=q,m=m||q!==N}return m=m||i.length!==Object.keys(c).length,m?g:c}}function hh(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function sD(...n){return e=>(t,i)=>{const o=e(t,i);let l=()=>{throw new Error(ln(15))};const c={getState:o.getState,dispatch:(m,...g)=>l(m,...g)},d=n.map(m=>m(c));return l=hh(...d)(o.dispatch),{...o,dispatch:l}}}function aD(n){return jg(n)&&"type"in n&&typeof n.type=="string"}var Z0=Symbol.for("immer-nothing"),AT=Symbol.for("immer-draftable"),Kn=Symbol.for("immer-state");function vr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Yo=Object.getPrototypeOf;function xa(n){return!!n&&!!n[Kn]}function Pi(n){var e;return n?J0(n)||Array.isArray(n)||!!n[AT]||!!((e=n.constructor)!=null&&e[AT])||Fh(n)||Hh(n):!1}var oD=Object.prototype.constructor.toString();function J0(n){if(!n||typeof n!="object")return!1;const e=Yo(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===oD}function dh(n,e){qh(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function qh(n){const e=n[Kn];return e?e.type_:Array.isArray(n)?1:Fh(n)?2:Hh(n)?3:0}function Zm(n,e){return qh(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function ew(n,e,t){const i=qh(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function lD(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Fh(n){return n instanceof Map}function Hh(n){return n instanceof Set}function Ra(n){return n.copy_||n.base_}function Jm(n,e){if(Fh(n))return new Map(n);if(Hh(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=J0(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Kn];let o=Reflect.ownKeys(i);for(let l=0;l<o.length;l++){const c=o[l],d=i[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[c]})}return Object.create(Yo(n),i)}else{const i=Yo(n);if(i!==null&&t)return{...n};const o=Object.create(i);return Object.assign(o,n)}}function qg(n,e=!1){return Gh(n)||xa(n)||!Pi(n)||(qh(n)>1&&(n.set=n.add=n.clear=n.delete=uD),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>qg(i,!0))),n}function uD(){vr(2)}function Gh(n){return Object.isFrozen(n)}var cD={};function ka(n){const e=cD[n];return e||vr(0,n),e}var Uu;function tw(){return Uu}function fD(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bT(n,e){e&&(ka("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function eg(n){tg(n),n.drafts_.forEach(hD),n.drafts_=null}function tg(n){n===Uu&&(Uu=n.parent_)}function RT(n){return Uu=fD(Uu,n)}function hD(n){const e=n[Kn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function IT(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Kn].modified_&&(eg(e),vr(4)),Pi(n)&&(n=ph(e,n),e.parent_||mh(e,n)),e.patches_&&ka("Patches").generateReplacementPatches_(t[Kn].base_,n,e.patches_,e.inversePatches_)):n=ph(e,t,[]),eg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==Z0?n:void 0}function ph(n,e,t){if(Gh(e))return e;const i=e[Kn];if(!i)return dh(e,(o,l)=>CT(n,i,e,o,l,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return mh(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,c=!1;i.type_===3&&(l=new Set(o),o.clear(),c=!0),dh(l,(d,m)=>CT(n,i,o,d,m,t,c)),mh(n,o,!1),t&&n.patches_&&ka("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function CT(n,e,t,i,o,l,c){if(xa(o)){const d=l&&e&&e.type_!==3&&!Zm(e.assigned_,i)?l.concat(i):void 0,m=ph(n,o,d);if(ew(t,i,m),xa(m))n.canAutoFreeze_=!1;else return}else c&&t.add(o);if(Pi(o)&&!Gh(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;ph(n,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&mh(n,o)}}function mh(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&qg(e,t)}function dD(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:tw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,l=Fg;t&&(o=[i],l=ju);const{revoke:c,proxy:d}=Proxy.revocable(o,l);return i.draft_=d,i.revoke_=c,d}var Fg={get(n,e){if(e===Kn)return n;const t=Ra(n);if(!Zm(t,e))return pD(n,t,e);const i=t[e];return n.finalized_||!Pi(i)?i:i===Dm(n.base_,e)?(Nm(n),n.copy_[e]=rg(i,n)):i},has(n,e){return e in Ra(n)},ownKeys(n){return Reflect.ownKeys(Ra(n))},set(n,e,t){const i=nw(Ra(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const o=Dm(Ra(n),e),l=o==null?void 0:o[Kn];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(lD(t,o)&&(t!==void 0||Zm(n.base_,e)))return!0;Nm(n),ng(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Dm(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Nm(n),ng(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Ra(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){vr(11)},getPrototypeOf(n){return Yo(n.base_)},setPrototypeOf(){vr(12)}},ju={};dh(Fg,(n,e)=>{ju[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ju.deleteProperty=function(n,e){return ju.set.call(this,n,e,void 0)};ju.set=function(n,e,t){return Fg.set.call(this,n[0],e,t,n[0])};function Dm(n,e){const t=n[Kn];return(t?Ra(t):n)[e]}function pD(n,e,t){var o;const i=nw(e,t);return i?"value"in i?i.value:(o=i.get)==null?void 0:o.call(n.draft_):void 0}function nw(n,e){if(!(e in n))return;let t=Yo(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Yo(t)}}function ng(n){n.modified_||(n.modified_=!0,n.parent_&&ng(n.parent_))}function Nm(n){n.copy_||(n.copy_=Jm(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var mD=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const c=this;return function(m=l,...g){return c.produce(m,_=>t.call(this,_,...g))}}typeof t!="function"&&vr(6),i!==void 0&&typeof i!="function"&&vr(7);let o;if(Pi(e)){const l=RT(this),c=rg(e,void 0);let d=!0;try{o=t(c),d=!1}finally{d?eg(l):tg(l)}return bT(l,i),IT(o,l)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===Z0&&(o=void 0),this.autoFreeze_&&qg(o,!0),i){const l=[],c=[];ka("Patches").generateReplacementPatches_(e,o,l,c),i(l,c)}return o}else vr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let i,o;return[this.produce(e,t,(c,d)=>{i=c,o=d}),i,o]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Pi(n)||vr(8),xa(n)&&(n=gD(n));const e=RT(this),t=rg(n,void 0);return t[Kn].isManual_=!0,tg(e),t}finishDraft(n,e){const t=n&&n[Kn];(!t||!t.isManual_)&&vr(9);const{scope_:i}=t;return bT(i,e),IT(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const i=ka("Patches").applyPatches_;return xa(n)?i(n,e):this.produce(n,o=>i(o,e))}};function rg(n,e){const t=Fh(n)?ka("MapSet").proxyMap_(n,e):Hh(n)?ka("MapSet").proxySet_(n,e):dD(n,e);return(e?e.scope_:tw()).drafts_.push(t),t}function gD(n){return xa(n)||vr(10,n),rw(n)}function rw(n){if(!Pi(n)||Gh(n))return n;const e=n[Kn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Jm(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Jm(n,!0);return dh(t,(i,o)=>{ew(t,i,rw(o))}),e&&(e.finalized_=!1),t}var Yn=new mD,iw=Yn.produce;Yn.produceWithPatches.bind(Yn);Yn.setAutoFreeze.bind(Yn);Yn.setUseStrictShallowCopy.bind(Yn);Yn.applyPatches.bind(Yn);Yn.createDraft.bind(Yn);Yn.finishDraft.bind(Yn);function yD(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function _D(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function vD(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var DT=n=>Array.isArray(n)?n:[n];function ED(n){const e=Array.isArray(n[0])?n[0]:n;return vD(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function TD(n,e){const t=[],{length:i}=n;for(let o=0;o<i;o++)t.push(n[o].apply(null,e));return t}var SD=class{constructor(n){this.value=n}deref(){return this.value}},wD=typeof WeakRef<"u"?WeakRef:SD,AD=0,NT=1;function Of(){return{s:AD,v:void 0,o:null,p:null}}function sw(n,e={}){let t=Of();const{resultEqualityCheck:i}=e;let o,l=0;function c(){var T;let d=t;const{length:m}=arguments;for(let w=0,N=m;w<N;w++){const q=arguments[w];if(typeof q=="function"||typeof q=="object"&&q!==null){let $=d.o;$===null&&(d.o=$=new WeakMap);const U=$.get(q);U===void 0?(d=Of(),$.set(q,d)):d=U}else{let $=d.p;$===null&&(d.p=$=new Map);const U=$.get(q);U===void 0?(d=Of(),$.set(q,d)):d=U}}const g=d;let _;if(d.s===NT)_=d.v;else if(_=n.apply(null,arguments),l++,i){const w=((T=o==null?void 0:o.deref)==null?void 0:T.call(o))??o;w!=null&&i(w,_)&&(_=w,l!==0&&l--),o=typeof _=="object"&&_!==null||typeof _=="function"?new wD(_):_}return g.s=NT,g.v=_,_}return c.clearCache=()=>{t=Of(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function bD(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...o)=>{let l=0,c=0,d,m={},g=o.pop();typeof g=="object"&&(m=g,g=o.pop()),yD(g,`createSelector expects an output function after the inputs, but received: [${typeof g}]`);const _={...t,...m},{memoize:T,memoizeOptions:w=[],argsMemoize:N=sw,argsMemoizeOptions:q=[]}=_,$=DT(w),U=DT(q),J=ED(o),ae=T(function(){return l++,g.apply(null,arguments)},...$),Z=N(function(){c++;const ee=TD(J,arguments);return d=ae.apply(null,ee),d},...U);return Object.assign(Z,{resultFunc:g,memoizedResultFunc:ae,dependencies:J,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:T,argsMemoize:N})};return Object.assign(i,{withTypes:()=>i}),i}var aw=bD(sw),RD=Object.assign((n,e=aw)=>{_D(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(l=>n[l]);return e(i,(...l)=>l.reduce((c,d,m)=>(c[t[m]]=d,c),{}))},{withTypes:()=>RD});function ow(n){return({dispatch:t,getState:i})=>o=>l=>typeof l=="function"?l(t,i,n):o(l)}var ID=ow(),CD=ow,DD=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hh:hh.apply(null,arguments)},ND=n=>n&&typeof n.match=="function";function Nu(n,e){function t(...i){if(e){let o=e(...i);if(!o)throw new Error(Ii(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>aD(i)&&i.type===n,t}var lw=class Su extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Su.prototype)}static get[Symbol.species](){return Su}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Su(...e[0].concat(this)):new Su(...e.concat(this))}};function OT(n){return Pi(n)?iw(n,()=>{}):n}function Pf(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function OD(n){return typeof n=="boolean"}var PD=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let c=new lw;return t&&(OD(t)?c.push(ID):c.push(CD(t.extraArgument))),c},MD="RTK_autoBatch",PT=n=>e=>{setTimeout(e,n)},xD=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let o=!0,l=!1,c=!1;const d=new Set,m=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PT(10):n.type==="callback"?n.queueNotification:PT(n.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},i,{subscribe(_){const T=()=>o&&_(),w=i.subscribe(T);return d.add(_),()=>{w(),d.delete(_)}},dispatch(_){var T;try{return o=!((T=_==null?void 0:_.meta)!=null&&T[MD]),l=!o,l&&(c||(c=!0,m(g))),i.dispatch(_)}finally{o=!0}}})},kD=n=>function(t){const{autoBatch:i=!0}=t??{};let o=new lw(n);return i&&o.push(xD(typeof i=="object"?i:void 0)),o};function VD(n){const e=PD(),{reducer:t=void 0,middleware:i,devTools:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(jg(t))d=X0(t);else throw new Error(Ii(1));let m;typeof i=="function"?m=i(e):m=e();let g=hh;o&&(g=DD({trace:!1,...typeof o=="object"&&o}));const _=sD(...m),T=kD(_);let w=typeof c=="function"?c(T):T();const N=g(...w);return Bg(d,l,N)}function uw(n){const e={},t=[];let i;const o={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Ii(28));if(d in e)throw new Error(Ii(29));return e[d]=c,o},addMatcher(l,c){return t.push({matcher:l,reducer:c}),o},addDefaultCase(l){return i=l,o}};return n(o),[e,t,i]}function LD(n){return typeof n=="function"}function zD(n,e){let[t,i,o]=uw(e),l;if(LD(n))l=()=>OT(n());else{const d=OT(n);l=()=>d}function c(d=l(),m){let g=[t[m.type],...i.filter(({matcher:_})=>_(m)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[o]),g.reduce((_,T)=>{if(T)if(xa(_)){const N=T(_,m);return N===void 0?_:N}else{if(Pi(_))return iw(_,w=>T(w,m));{const w=T(_,m);if(w===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return _},d)}return c.getInitialState=l,c}var UD=(n,e)=>ND(n)?n.match(e):n(e);function jD(...n){return e=>n.some(t=>UD(t,e))}var BD="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qD=(n=21)=>{let e="",t=n;for(;t--;)e+=BD[Math.random()*64|0];return e},FD=["name","message","stack","code"],Om=class{constructor(n,e){mm(this,"_type");this.payload=n,this.meta=e}},MT=class{constructor(n,e){mm(this,"_type");this.payload=n,this.meta=e}},HD=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of FD)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},xT="External signal was aborted",Jr=(()=>{function n(e,t,i){const o=Nu(e+"/fulfilled",(m,g,_,T)=>({payload:m,meta:{...T||{},arg:_,requestId:g,requestStatus:"fulfilled"}})),l=Nu(e+"/pending",(m,g,_)=>({payload:void 0,meta:{..._||{},arg:g,requestId:m,requestStatus:"pending"}})),c=Nu(e+"/rejected",(m,g,_,T,w)=>({payload:T,error:(i&&i.serializeError||HD)(m||"Rejected"),meta:{...w||{},arg:_,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function d(m,{signal:g}={}){return(_,T,w)=>{const N=i!=null&&i.idGenerator?i.idGenerator(m):qD(),q=new AbortController;let $,U;function J(Z){U=Z,q.abort()}g&&(g.aborted?J(xT):g.addEventListener("abort",()=>J(xT),{once:!0}));const ae=async function(){var ee,ue;let Z;try{let C=(ee=i==null?void 0:i.condition)==null?void 0:ee.call(i,m,{getState:T,extra:w});if($D(C)&&(C=await C),C===!1||q.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((b,P)=>{$=()=>{P({name:"AbortError",message:U||"Aborted"})},q.signal.addEventListener("abort",$)});_(l(N,m,(ue=i==null?void 0:i.getPendingMeta)==null?void 0:ue.call(i,{requestId:N,arg:m},{getState:T,extra:w}))),Z=await Promise.race([R,Promise.resolve(t(m,{dispatch:_,getState:T,extra:w,requestId:N,signal:q.signal,abort:J,rejectWithValue:(b,P)=>new Om(b,P),fulfillWithValue:(b,P)=>new MT(b,P)})).then(b=>{if(b instanceof Om)throw b;return b instanceof MT?o(b.payload,N,m,b.meta):o(b,N,m)})])}catch(C){Z=C instanceof Om?c(null,N,m,C.payload,C.meta):c(C,N,m)}finally{$&&q.signal.removeEventListener("abort",$)}return i&&!i.dispatchConditionRejection&&c.match(Z)&&Z.meta.condition||_(Z),Z}();return Object.assign(ae,{abort:J,requestId:N,arg:m,unwrap(){return ae.then(GD)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:o,settled:jD(c,o),typePrefix:e})}return n.withTypes=()=>n,n})();function GD(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function $D(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var KD=Symbol.for("rtk-slice-createasyncthunk");function YD(n,e){return`${n}/${e}`}function QD({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[KD];return function(o){const{name:l,reducerPath:c=l}=o;if(!l)throw new Error(Ii(11));const d=(typeof o.reducers=="function"?o.reducers(XD()):o.reducers)||{},m=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(re,ee){const ue=typeof re=="string"?re:re.type;if(!ue)throw new Error(Ii(12));if(ue in g.sliceCaseReducersByType)throw new Error(Ii(13));return g.sliceCaseReducersByType[ue]=ee,_},addMatcher(re,ee){return g.sliceMatchers.push({matcher:re,reducer:ee}),_},exposeAction(re,ee){return g.actionCreators[re]=ee,_},exposeCaseReducer(re,ee){return g.sliceCaseReducersByName[re]=ee,_}};m.forEach(re=>{const ee=d[re],ue={reducerName:re,type:YD(l,re),createNotation:typeof o.reducers=="function"};JD(ee)?t2(ue,ee,_,e):ZD(ue,ee,_)});function T(){const[re={},ee=[],ue=void 0]=typeof o.extraReducers=="function"?uw(o.extraReducers):[o.extraReducers],C={...re,...g.sliceCaseReducersByType};return zD(o.initialState,R=>{for(let b in C)R.addCase(b,C[b]);for(let b of g.sliceMatchers)R.addMatcher(b.matcher,b.reducer);for(let b of ee)R.addMatcher(b.matcher,b.reducer);ue&&R.addDefaultCase(ue)})}const w=re=>re,N=new Map,q=new WeakMap;let $;function U(re,ee){return $||($=T()),$(re,ee)}function J(){return $||($=T()),$.getInitialState()}function ae(re,ee=!1){function ue(R){let b=R[re];return typeof b>"u"&&ee&&(b=Pf(q,ue,J)),b}function C(R=w){const b=Pf(N,ee,()=>new WeakMap);return Pf(b,R,()=>{const P={};for(const[k,j]of Object.entries(o.selectors??{}))P[k]=WD(j,R,()=>Pf(q,R,J),ee);return P})}return{reducerPath:re,getSelectors:C,get selectors(){return C(ue)},selectSlice:ue}}const Z={name:l,reducer:U,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:J,...ae(c),injectInto(re,{reducerPath:ee,...ue}={}){const C=ee??c;return re.inject({reducerPath:C,reducer:U},ue),{...Z,...ae(C,!0)}}};return Z}}function WD(n,e,t,i){function o(l,...c){let d=e(l);return typeof d>"u"&&i&&(d=t()),n(d,...c)}return o.unwrapped=n,o}var al=QD();function XD(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function ZD({type:n,reducerName:e,createNotation:t},i,o){let l,c;if("reducer"in i){if(t&&!e2(i))throw new Error(Ii(17));l=i.reducer,c=i.prepare}else l=i;o.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?Nu(n,c):Nu(n))}function JD(n){return n._reducerDefinitionType==="asyncThunk"}function e2(n){return n._reducerDefinitionType==="reducerWithPrepare"}function t2({type:n,reducerName:e},t,i,o){if(!o)throw new Error(Ii(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:g,options:_}=t,T=o(n,l,_);i.exposeAction(e,T),c&&i.addCase(T.fulfilled,c),d&&i.addCase(T.pending,d),m&&i.addCase(T.rejected,m),g&&i.addMatcher(T.settled,g),i.exposeCaseReducer(e,{fulfilled:c||Mf,pending:d||Mf,rejected:m||Mf,settled:g||Mf})}function Mf(){}function Ii(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const n2=()=>{};var kT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},r2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,N=g&63;m||(N=64,c||(w=64)),i.push(t[_],t[T],t[w],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):r2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new i2;const w=l<<2|d>>4;if(i.push(w),g!==64){const N=d<<4&240|g>>2;if(i.push(N),T!==64){const q=g<<6&192|T;i.push(q)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class i2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s2=function(n){const e=cw(n);return fw.encodeByteArray(e,!0)},gh=function(n){return s2(n).replace(/\./g,"")},hw=function(n){try{return fw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=()=>a2().__FIREBASE_DEFAULTS__,l2=()=>{if(typeof process>"u"||typeof kT>"u")return;const n=kT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},u2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&hw(n[1]);return e&&JSON.parse(e)},$h=()=>{try{return n2()||o2()||l2()||u2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dw=n=>{var e,t;return(t=(e=$h())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},c2=n=>{const e=dw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},pw=()=>{var n;return(n=$h())==null?void 0:n.config},mw=n=>{var e;return(e=$h())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[gh(JSON.stringify(t)),gh(JSON.stringify(c)),""].join(".")}const Ou={};function d2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?n.emulator.push(e):n.prod.push(e);return n}function p2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let VT=!1;function yw(n,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||Ou[n]===e||Ou[n]||VT)return;Ou[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=d2().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{VT=!0,c()},w}function _(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=p2(i),N=t("text"),q=document.getElementById(N)||document.createElement("span"),$=t("learnmore"),U=document.getElementById($)||document.createElement("a"),J=t("preprendIcon"),ae=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Z=w.element;d(Z),_(U,$);const re=g();m(ae,J),Z.append(ae,q,U,re),document.body.appendChild(Z)}l?(q.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function g2(){var e;const n=(e=$h())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _w(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v2(){const n=vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function E2(){return!g2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ew(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}function T2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="FirebaseError";class Rr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=S2,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fa.prototype.create)}}class Fa{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?w2(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Rr(o,d,i)}}function w2(n,e){return n.replace(A2,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const A2=/\{\$([^}]+)}/g;function b2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ps(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(LT(l)&&LT(c)){if(!Ps(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function LT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Au(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function R2(n,e){const t=new I2(n,e);return t.subscribe.bind(t)}class I2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");C2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Pm),o.error===void 0&&(o.error=Pm),o.complete===void 0&&(o.complete=Pm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Pm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=1e3,N2=2,O2=4*60*60*1e3,P2=.5;function zT(n,e=D2,t=N2){const i=e*Math.pow(t,n),o=Math.round(P2*i*(Math.random()-.5)*2);return Math.min(O2,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n){return n&&n._delegate?n._delegate:n}class Sr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new f2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k2(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:x2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x2(n){return n===Ia?void 0:n}function k2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new M2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const L2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},z2=Be.INFO,U2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},j2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=U2[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kh{constructor(e){this.name=e,this._logLevel=z2,this._logHandler=j2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const B2=(n,e)=>e.some(t=>n instanceof t);let UT,jT;function q2(){return UT||(UT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F2(){return jT||(jT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tw=new WeakMap,ig=new WeakMap,Sw=new WeakMap,Mm=new WeakMap,Hg=new WeakMap;function H2(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Is(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Tw.set(t,n)}).catch(()=>{}),Hg.set(e,n),e}function G2(n){if(ig.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ig.set(n,e)}let sg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ig.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Sw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $2(n){sg=n(sg)}function K2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(xm(this),e,...t);return Sw.set(i,e.sort?e.sort():[e]),Is(i)}:F2().includes(n)?function(...e){return n.apply(xm(this),e),Is(Tw.get(this))}:function(...e){return Is(n.apply(xm(this),e))}}function Y2(n){return typeof n=="function"?K2(n):(n instanceof IDBTransaction&&G2(n),B2(n,q2())?new Proxy(n,sg):n)}function Is(n){if(n instanceof IDBRequest)return H2(n);if(Mm.has(n))return Mm.get(n);const e=Y2(n);return e!==n&&(Mm.set(n,e),Hg.set(e,n)),e}const xm=n=>Hg.get(n);function ww(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=Is(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Is(c.result),m.oldVersion,m.newVersion,Is(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Q2=["get","getKey","getAll","getAllKeys","count"],W2=["put","add","delete","clear"],km=new Map;function BT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=W2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Q2.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return km.set(e,l),l}$2(n=>({...n,get:(e,t,i)=>BT(e,t)||n.get(e,t,i),has:(e,t)=>!!BT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Z2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Z2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",qT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Kh("@firebase/app"),J2="@firebase/app-compat",eN="@firebase/analytics-compat",tN="@firebase/analytics",nN="@firebase/app-check-compat",rN="@firebase/app-check",iN="@firebase/auth",sN="@firebase/auth-compat",aN="@firebase/database",oN="@firebase/data-connect",lN="@firebase/database-compat",uN="@firebase/functions",cN="@firebase/functions-compat",fN="@firebase/installations",hN="@firebase/installations-compat",dN="@firebase/messaging",pN="@firebase/messaging-compat",mN="@firebase/performance",gN="@firebase/performance-compat",yN="@firebase/remote-config",_N="@firebase/remote-config-compat",vN="@firebase/storage",EN="@firebase/storage-compat",TN="@firebase/firestore",SN="@firebase/ai",wN="@firebase/firestore-compat",AN="firebase",bN="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",RN={[ag]:"fire-core",[J2]:"fire-core-compat",[tN]:"fire-analytics",[eN]:"fire-analytics-compat",[rN]:"fire-app-check",[nN]:"fire-app-check-compat",[iN]:"fire-auth",[sN]:"fire-auth-compat",[aN]:"fire-rtdb",[oN]:"fire-data-connect",[lN]:"fire-rtdb-compat",[uN]:"fire-fn",[cN]:"fire-fn-compat",[fN]:"fire-iid",[hN]:"fire-iid-compat",[dN]:"fire-fcm",[pN]:"fire-fcm-compat",[mN]:"fire-perf",[gN]:"fire-perf-compat",[yN]:"fire-rc",[_N]:"fire-rc-compat",[vN]:"fire-gcs",[EN]:"fire-gcs-compat",[TN]:"fire-fst",[wN]:"fire-fst-compat",[SN]:"fire-vertex","fire-js":"fire-js",[AN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,IN=new Map,lg=new Map;function FT(n,e){try{n.container.addComponent(e)}catch(t){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qr(n){const e=n.name;if(lg.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,n);for(const t of yh.values())FT(t,n);for(const t of IN.values())FT(t,n);return!0}function Ha(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Fa("app","Firebase",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=bN;function Aw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:og,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Cs.create("bad-app-name",{appName:String(o)});if(t||(t=pw()),!t)throw Cs.create("no-options");const l=yh.get(o);if(l){if(Ps(t,l.options)&&Ps(i,l.config))return l;throw Cs.create("duplicate-app",{appName:o})}const c=new V2(o);for(const m of lg.values())c.addComponent(m);const d=new DN(t,i,c);return yh.set(o,d),d}function Gg(n=og){const e=yh.get(n);if(!e&&n===og&&pw())return Aw();if(!e)throw Cs.create("no-app",{appName:n});return e}function or(n,e,t){let i=RN[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(c.join(" "));return}Qr(new Sr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="firebase-heartbeat-database",ON=1,Bu="firebase-heartbeat-store";let Vm=null;function bw(){return Vm||(Vm=ww(NN,ON,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cs.create("idb-open",{originalErrorMessage:n.message})})),Vm}async function PN(n){try{const t=(await bw()).transaction(Bu),i=await t.objectStore(Bu).get(Rw(n));return await t.done,i}catch(e){if(e instanceof Rr)Mi.warn(e.message);else{const t=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(t.message)}}}async function HT(n,e){try{const i=(await bw()).transaction(Bu,"readwrite");await i.objectStore(Bu).put(e,Rw(n)),await i.done}catch(t){if(t instanceof Rr)Mi.warn(t.message);else{const i=Cs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(i.message)}}}function Rw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=1024,xN=30;class kN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=GT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>xN){const c=zN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Mi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=GT(),{heartbeatsToSend:i,unsentEntries:o}=VN(this._heartbeatsCache.heartbeats),l=gh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Mi.warn(t),""}}}function GT(){return new Date().toISOString().substring(0,10)}function VN(n,e=MN){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),$T(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),$T(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class LN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vw()?Ew().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return HT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return HT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $T(n){return gh(JSON.stringify({version:2,heartbeats:n})).length}function zN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n){Qr(new Sr("platform-logger",e=>new X2(e),"PRIVATE")),Qr(new Sr("heartbeat",e=>new kN(e),"PRIVATE")),or(ag,qT,n),or(ag,qT,"esm2020"),or("fire-js","")}UN("");function Iw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jN=Iw,Cw=new Fa("auth","Firebase",Iw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Kh("@firebase/auth");function BN(n,...e){_h.logLevel<=Be.WARN&&_h.warn(`Auth (${ll}): ${n}`,...e)}function Hf(n,...e){_h.logLevel<=Be.ERROR&&_h.error(`Auth (${ll}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n,...e){throw Kg(n,...e)}function Tr(n,...e){return Kg(n,...e)}function $g(n,e,t){const i={...jN(),[e]:t};return new Fa("auth","Firebase",i).create(e,{appName:n.name})}function Ci(n){return $g(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qN(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&lr(n,"argument-error"),$g(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Cw.create(n,...e)}function Ie(n,e,...t){if(!n)throw Kg(e,...t)}function wi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hf(e),new Error(e)}function xi(n,e){n||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function FN(){return KT()==="http:"||KT()==="https:"}function KT(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FN()||_w()||"connection"in navigator)?navigator.onLine:!0}function GN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=m2()||_2()}get(){return HN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YN=new ec(3e4,6e4);function Li(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ei(n,e,t,i,o={}){return Nw(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Ju({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return y2()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ol(n.emulatorConfig.host)&&(g.credentials="include"),Dw.fetch()(await Ow(n,n.config.apiHost,t,d),g)})}async function Nw(n,e,t){n._canInitEmulator=!1;const i={...$N,...e};try{const o=new WN(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw xf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw xf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw xf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw xf(n,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $g(n,_,g);lr(n,_)}}catch(o){if(o instanceof Rr)throw o;lr(n,"network-request-failed",{message:String(o)})}}async function tc(n,e,t,i,o={}){const l=await ei(n,e,t,i,o);return"mfaPendingCredential"in l&&lr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Ow(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?Yg(n.config,o):`${n.config.apiScheme}://${o}`;return KN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function QN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Tr(this.auth,"network-request-failed")),YN.get())})}}function xf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Tr(n,e,i);return o.customData._tokenResponse=t,o}function YT(n){return n!==void 0&&n.enterprise!==void 0}class XN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZN(n,e){return ei(n,"GET","/v2/recaptchaConfig",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(n,e){return ei(n,"POST","/v1/accounts:delete",e)}async function vh(n,e){return ei(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eO(n,e=!1){const t=Nt(n),i=await t.getIdToken(e),o=Qg(i);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Pu(Lm(o.auth_time)),issuedAtTime:Pu(Lm(o.iat)),expirationTime:Pu(Lm(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Lm(n){return Number(n)*1e3}function Qg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const o=hw(t);return o?JSON.parse(o):(Hf("Failed to decode base64 JWT payload"),null)}catch(o){return Hf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function QT(n){const e=Qg(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Rr&&tO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function tO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(n){var T;const e=n.auth,t=await n.getIdToken(),i=await Qo(n,vh(e,{idToken:t}));Ie(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=(T=o.providerUserInfo)!=null&&T.length?Pw(o.providerUserInfo):[],c=iO(n.providerData,l),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function rO(n){const e=Nt(n);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iO(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Pw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,e){const t=await Nw(n,{},async()=>{const i=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await Ow(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return n.emulatorConfig&&ol(n.emulatorConfig.host)&&(m.credentials="include"),Dw.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aO(n,e){return ei(n,"POST","/v2/accounts:revokeToken",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=QT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await sO(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new qo;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ie(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Er{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new nO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eO(this,e)}reload(){return rO(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Eh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await Qo(this,JN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:N,providerData:q,stsTokenManager:$}=t;Ie(T&&$,e,"internal-error");const U=qo.fromJSON(this.name,$);Ie(typeof T=="string",e,"internal-error"),Ss(i,e.name),Ss(o,e.name),Ie(typeof w=="boolean",e,"internal-error"),Ie(typeof N=="boolean",e,"internal-error"),Ss(l,e.name),Ss(c,e.name),Ss(d,e.name),Ss(m,e.name),Ss(g,e.name),Ss(_,e.name);const J=new Er({uid:T,auth:e,email:o,emailVerified:w,displayName:i,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:_});return q&&Array.isArray(q)&&(J.providerData=q.map(ae=>({...ae}))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(e,t,i=!1){const o=new qo;o.updateFromServerResponse(t);const l=new Er({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Eh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Pw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new qo;d.updateFromIdToken(i);const m=new Er({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new cg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new Map;function Ai(n){xi(n instanceof Function,"Expected a class definition");let e=WT.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,WT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mw.type="NONE";const XT=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n,e,t){return`firebase:${n}:${e}:${t}`}class Fo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Gf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Gf("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vh(this.auth,{idToken:e}).catch(()=>{});return t?Er._fromGetAccountInfoResponse(this.auth,t,e):null}return Er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Fo(Ai(XT),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Ai(XT);const c=Gf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const w=await vh(e,{idToken:_}).catch(()=>{});if(!w)break;T=await Er._fromGetAccountInfoResponse(e,w,_)}else T=Er._fromJSON(e,_);g!==l&&(d=T),l=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Fo(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Fo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uw(e))return"Blackberry";if(jw(e))return"Webos";if(kw(e))return"Safari";if((e.includes("chrome/")||Vw(e))&&!e.includes("edge/"))return"Chrome";if(zw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xw(n=vn()){return/firefox\//i.test(n)}function kw(n=vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vw(n=vn()){return/crios\//i.test(n)}function Lw(n=vn()){return/iemobile/i.test(n)}function zw(n=vn()){return/android/i.test(n)}function Uw(n=vn()){return/blackberry/i.test(n)}function jw(n=vn()){return/webos/i.test(n)}function Wg(n=vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oO(n=vn()){var e;return Wg(n)&&!!((e=window.navigator)!=null&&e.standalone)}function lO(){return v2()&&document.documentMode===10}function Bw(n=vn()){return Wg(n)||zw(n)||jw(n)||Uw(n)||/windows phone/i.test(n)||Lw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e=[]){let t;switch(n){case"Browser":t=ZT(vn());break;case"Worker":t=`${ZT(vn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ll}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(n,e={}){return ei(n,"GET","/v2/passwordPolicy",Li(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=6;class hO{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??fO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JT(this),this.idTokenSubscription=new JT(this),this.beforeStateQueue=new uO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vh(this,{idToken:e}),i=await Er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(Ci(this));const t=e?Nt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cO(this),t=new hO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fa("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await aO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ai(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&BN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zi(n){return Nt(n)}class JT{constructor(e){this.auth=e,this.observer=null,this.addObserver=R2(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pO(n){Yh=n}function Fw(n){return Yh.loadJS(n)}function mO(){return Yh.recaptchaEnterpriseScript}function gO(){return Yh.gapiScript}function yO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class _O{constructor(){this.enterprise=new vO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const EO="recaptcha-enterprise",Hw="NO_RECAPTCHA";class TO{constructor(e){this.type=EO,this.auth=zi(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{ZN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new XN(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function o(l,c,d){const m=window.grecaptcha;YT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(Hw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _O().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&YT(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=mO();m.length!==0&&(m+=d),Fw(m).then(()=>{o(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function eS(n,e,t,i=!1,o=!1){const l=new TO(n);let c;if(o)c=Hw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Th(n,e,t,i,o){var l;if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await eS(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await eS(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n,e){const t=Ha(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ps(l,e??{}))return o;lr(o,"already-initialized")}return t.initialize({options:e})}function wO(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ai);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function AO(n,e,t){const i=zi(n);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Gw(e),{host:c,port:d}=bO(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(Ps(g,i.config.emulator)&&Ps(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,ol(c)?(gw(`${l}//${c}${m}`),yw("Auth",!0)):RO()}function Gw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bO(n){const e=Gw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:tS(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:tS(c)}}}function tS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function RO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,t){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function IO(n,e){return ei(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(n,e){return tc(n,"POST","/v1/accounts:signInWithPassword",Li(n,e))}async function DO(n,e){return ei(n,"POST","/v1/accounts:sendOobCode",Li(n,e))}async function NO(n,e){return DO(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(n,e){return tc(n,"POST","/v1/accounts:signInWithEmailLink",Li(n,e))}async function PO(n,e){return tc(n,"POST","/v1/accounts:signInWithEmailLink",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Xg{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new qu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new qu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,t,"signInWithPassword",CO);case"emailLink":return OO(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,i,"signUpPassword",IO);case"emailLink":return PO(e,{idToken:t,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n,e){return tc(n,"POST","/v1/accounts:signInWithIdp",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="http://localhost";class Va extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new Va(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ho(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:MO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ju(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kO(n){const e=wu(Au(n)).link,t=e?wu(Au(e)).deep_link_id:null,i=wu(Au(n)).deep_link_id;return(i?wu(Au(i)).link:null)||i||t||e||n}class Zg{constructor(e){const t=wu(Au(e)),i=t.apiKey??null,o=t.oobCode??null,l=xO(t.mode??null);Ie(i&&o&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=kO(e);try{return new Zg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,t){return qu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Zg.parseLink(t);return Ie(i,"argument-error"),qu._fromEmailAndCode(e,i.code,i.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Jg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends nc{constructor(){super("facebook.com")}static credential(e){return Va._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Va._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Si.credential(t,i)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends nc{constructor(){super("github.com")}static credential(e){return Va._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends nc{constructor(){super("twitter.com")}static credential(e,t){return Va._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bs.credential(t,i)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,e){return tc(n,"POST","/v1/accounts:signUp",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Er._fromIdTokenResponse(e,i,o),c=nS(i);return new La({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=nS(i);return new La({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function nS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Rr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Sh(e,t,i,o)}}function $w(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(n,l,e,i):l})}async function LO(n,e,t=!1){const i=await Qo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return La._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(n,e,t=!1){const{auth:i}=n;if(Hn(i.app))return Promise.reject(Ci(i));const o="reauthenticate";try{const l=await Qo(n,$w(i,o,e,n),t);Ie(l.idToken,i,"internal-error");const c=Qg(l.idToken);Ie(c,i,"internal-error");const{sub:d}=c;return Ie(n.uid===d,i,"user-mismatch"),La._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&lr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(n,e,t=!1){if(Hn(n.app))return Promise.reject(Ci(n));const i="signIn",o=await $w(n,i,e),l=await La._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function UO(n,e){return Kw(zi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(n){const e=zi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jO(n,e,t){const i=zi(n);await Th(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",NO)}async function BO(n,e,t){if(Hn(n.app))return Promise.reject(Ci(n));const i=zi(n),c=await Th(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Yw(n),m}),d=await La._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function qO(n,e,t){return Hn(n.app)?Promise.reject(Ci(n)):UO(Nt(n),ul.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Yw(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(n,e){return ei(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Nt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Qo(i,FO(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function GO(n,e,t,i){return Nt(n).onIdTokenChanged(e,t,i)}function $O(n,e,t){return Nt(n).beforeAuthStateChanged(e,t)}function KO(n,e,t,i){return Nt(n).onAuthStateChanged(e,t,i)}function YO(n){return Nt(n).signOut()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=1e3,WO=10;class Ww extends Qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);lO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WO):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},QO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ww.type="LOCAL";const XO=Ww;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xw.type="SESSION";const Zw=Xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Qh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await ZO(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=ey("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function eP(n){qr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function tP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function rP(){return Jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firebaseLocalStorageDb",iP=1,Ah="firebaseLocalStorage",tA="fbase_key";class rc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wh(n,e){return n.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function sP(){const n=indexedDB.deleteDatabase(eA);return new rc(n).toPromise()}function fg(){const n=indexedDB.open(eA,iP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ah,{keyPath:tA})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ah)?e(i):(i.close(),await sP(),e(await fg()))})})}async function rS(n,e,t){const i=Wh(n,!0).put({[tA]:e,value:t});return new rc(i).toPromise()}async function aP(n,e){const t=Wh(n,!1).get(e),i=await new rc(t).toPromise();return i===void 0?null:i.value}function iS(n,e){const t=Wh(n,!0).delete(e);return new rc(t).toPromise()}const oP=800,lP=3;class nA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>lP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(rP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await tP(),!this.activeServiceWorker)return;this.sender=new JO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fg();return await rS(e,wh,"1"),await iS(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>aP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Wh(o,!1).getAll();return new rc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nA.type="LOCAL";const uP=nA;new ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(n,e){return e?Ai(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cP(n){return Kw(n.auth,new ty(n),n.bypassAuthState)}function fP(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),zO(t,new ty(n),n.bypassAuthState)}async function hP(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),LO(t,new ty(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cP;case"linkViaPopup":case"linkViaRedirect":return hP;case"reauthViaPopup":case"reauthViaRedirect":return fP;default:lr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new ec(2e3,1e4);async function pP(n,e,t){if(Hn(n.app))return Promise.reject(Tr(n,"operation-not-supported-in-this-environment"));const i=zi(n);qN(n,e,Jg);const o=rA(i,t);return new Ca(i,"signInViaPopup",e,o).executeNotNull()}class Ca extends iA{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dP.get())};e()}}Ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="pendingRedirect",$f=new Map;class gP extends iA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const i=await yP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yP(n,e){const t=EP(e),i=vP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function _P(n,e){$f.set(n._key(),e)}function vP(n){return Ai(n._redirectPersistence)}function EP(n){return Gf(mP,n.config.apiKey,n.name)}async function TP(n,e,t=!1){if(Hn(n.app))return Promise.reject(Ci(n));const i=zi(n),o=rA(i,e),c=await new gP(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=10*60*1e3;class wP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!sA(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SP&&this.cachedEventUids.clear(),this.cachedEventUids.has(sS(e))}saveEventToCache(e){this.cachedEventUids.add(sS(e)),this.lastProcessedEventTime=Date.now()}}function sS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e={}){return ei(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IP=/^https?/;async function CP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await bP(n);for(const t of e)try{if(DP(t))return}catch{}lr(n,"unauthorized-domain")}function DP(n){const e=ug(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!IP.test(t))return!1;if(RP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new ec(3e4,6e4);function aS(){const n=qr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OP(n){return new Promise((e,t)=>{var o,l,c;function i(){aS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aS(),t(Tr(n,"network-request-failed"))},timeout:NP.get()})}if((l=(o=qr().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=qr().gapi)!=null&&c.load)i();else{const d=yO("iframefcb");return qr()[d]=()=>{gapi.load?i():t(Tr(n,"network-request-failed"))},Fw(`${gO()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Kf=null,e})}let Kf=null;function PP(n){return Kf=Kf||OP(n),Kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=new ec(5e3,15e3),xP="__/auth/iframe",kP="emulator/auth/iframe",VP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zP(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Yg(e,kP):`https://${n.config.authDomain}/${xP}`,i={apiKey:e.apiKey,appName:n.name,v:ll},o=LP.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ju(i).slice(1)}`}async function UP(n){const e=await PP(n),t=qr().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:zP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VP,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Tr(n,"network-request-failed"),d=qr().setTimeout(()=>{l(c)},MP.get());function m(){qr().clearTimeout(d),o(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BP=500,qP=600,FP="_blank",HP="http://localhost";class oS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GP(n,e,t,i=BP,o=qP){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...jP,width:i.toString(),height:o.toString(),top:l,left:c},g=vn().toLowerCase();t&&(d=Vw(g)?FP:t),xw(g)&&(e=e||HP,m.scrollbars="yes");const _=Object.entries(m).reduce((w,[N,q])=>`${w}${N}=${q},`,"");if(oO(g)&&d!=="_self")return $P(e||"",d),new oS(null);const T=window.open(e||"",d,_);Ie(T,n,"popup-blocked");try{T.focus()}catch{}return new oS(T)}function $P(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="__/auth/handler",YP="emulator/auth/handler",QP=encodeURIComponent("fac");async function lS(n,e,t,i,o,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ll,eventId:o};if(e instanceof Jg){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",b2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof nc){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await n._getAppCheckToken(),g=m?`#${QP}=${encodeURIComponent(m)}`:"";return`${WP(n)}?${Ju(d).slice(1)}${g}`}function WP({config:n}){return n.emulator?Yg(n,YP):`https://${n.authDomain}/${KP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class XP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zw,this._completeRedirectFn=TP,this._overrideRedirectResult=_P}async _openPopup(e,t,i,o){var c;xi((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await lS(e,t,i,ug(),o);return GP(e,l,ey())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await lS(e,t,i,ug(),o);return eP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await UP(e),i=new wP(e);return t.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[zm];l!==void 0&&t(!!l),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bw()||kw()||Wg()}}const ZP=XP;var uS="@firebase/auth",cS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tM(n){Qr(new Sr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qw(n)},g=new dO(i,o,l,m);return wO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Qr(new Sr("auth-internal",e=>{const t=zi(e.getProvider("auth").getImmediate());return(i=>new JP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(uS,cS,eM(n)),or(uS,cS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=5*60,rM=mw("authIdTokenMaxAge")||nM;let fS=null;const iM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>rM)return;const o=t==null?void 0:t.token;fS!==o&&(fS=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sM(n=Gg()){const e=Ha(n,"auth");if(e.isInitialized())return e.getImmediate();const t=SO(n,{popupRedirectResolver:ZP,persistence:[uP,XO,Zw]}),i=mw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=iM(l.toString());$O(t,c,()=>c(t.currentUser)),GO(t,d=>c(d))}}const o=dw("auth");return o&&AO(t,`http://${o}`),t}function aM(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}pO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Tr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",aM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tM("Browser");var oM="firebase",lM="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(oM,lM,"app");const aA="@firebase/installations",ny="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=1e4,lA=`w:${ny}`,uA="FIS_v2",uM="https://firebaseinstallations.googleapis.com/v1",cM=60*60*1e3,fM="installations",hM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},za=new Fa(fM,hM,dM);function cA(n){return n instanceof Rr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA({projectId:n}){return`${uM}/projects/${n}/installations`}function hA(n){return{token:n.token,requestStatus:2,expiresIn:mM(n.expiresIn),creationTime:Date.now()}}async function dA(n,e){const i=(await e.json()).error;return za.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function pA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function pM(n,{refreshToken:e}){const t=pA(n);return t.append("Authorization",gM(e)),t}async function mA(n){const e=await n();return e.status>=500&&e.status<600?n():e}function mM(n){return Number(n.replace("s","000"))}function gM(n){return`${uA} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=fA(n),o=pA(n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:t,authVersion:uA,appId:n.appId,sdkVersion:lA},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await mA(()=>fetch(i,d));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:hA(g.authToken)}}else throw await dA("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=/^[cdef][\w-]{21}$/,hg="";function EM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=TM(n);return vM.test(t)?t:hg}catch{return hg}}function TM(n){return _M(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new Map;function _A(n,e){const t=Xh(n);vA(t,e),SM(t,e)}function vA(n,e){const t=yA.get(n);if(t)for(const i of t)i(e)}function SM(n,e){const t=wM();t&&t.postMessage({key:n,fid:e}),AM()}let Da=null;function wM(){return!Da&&"BroadcastChannel"in self&&(Da=new BroadcastChannel("[Firebase] FID Change"),Da.onmessage=n=>{vA(n.data.key,n.data.fid)}),Da}function AM(){yA.size===0&&Da&&(Da.close(),Da=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="firebase-installations-database",RM=1,Ua="firebase-installations-store";let Um=null;function ry(){return Um||(Um=ww(bM,RM,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ua)}}})),Um}async function bh(n,e){const t=Xh(n),o=(await ry()).transaction(Ua,"readwrite"),l=o.objectStore(Ua),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&_A(n,e.fid),e}async function EA(n){const e=Xh(n),i=(await ry()).transaction(Ua,"readwrite");await i.objectStore(Ua).delete(e),await i.done}async function Zh(n,e){const t=Xh(n),o=(await ry()).transaction(Ua,"readwrite"),l=o.objectStore(Ua),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!c||c.fid!==d.fid)&&_A(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iy(n){let e;const t=await Zh(n.appConfig,i=>{const o=IM(i),l=CM(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===hg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function IM(n){const e=n||{fid:EM(),registrationStatus:0};return TA(e)}function CM(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(za.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=DM(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NM(n)}:{installationEntry:e}}async function DM(n,e){try{const t=await yM(n,e);return bh(n.appConfig,t)}catch(t){throw cA(t)&&t.customData.serverCode===409?await EA(n.appConfig):await bh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function NM(n){let e=await hS(n.appConfig);for(;e.registrationStatus===1;)await gA(100),e=await hS(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await iy(n);return i||t}return e}function hS(n){return Zh(n,e=>{if(!e)throw za.create("installation-not-found");return TA(e)})}function TA(n){return OM(n)?{fid:n.fid,registrationStatus:0}:n}function OM(n){return n.registrationStatus===1&&n.registrationTime+oA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM({appConfig:n,heartbeatServiceProvider:e},t){const i=MM(n,t),o=pM(n,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:lA,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await mA(()=>fetch(i,d));if(m.ok){const g=await m.json();return hA(g)}else throw await dA("Generate Auth Token",m)}function MM(n,{fid:e}){return`${fA(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sy(n,e=!1){let t;const i=await Zh(n.appConfig,l=>{if(!SA(l))throw za.create("not-registered");const c=l.authToken;if(!e&&VM(c))return l;if(c.requestStatus===1)return t=xM(n,e),l;{if(!navigator.onLine)throw za.create("app-offline");const d=zM(l);return t=kM(n,d),d}});return t?await t:i.authToken}async function xM(n,e){let t=await dS(n.appConfig);for(;t.authToken.requestStatus===1;)await gA(100),t=await dS(n.appConfig);const i=t.authToken;return i.requestStatus===0?sy(n,e):i}function dS(n){return Zh(n,e=>{if(!SA(e))throw za.create("not-registered");const t=e.authToken;return UM(t)?{...e,authToken:{requestStatus:0}}:e})}async function kM(n,e){try{const t=await PM(n,e),i={...e,authToken:t};return await bh(n.appConfig,i),t}catch(t){if(cA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await EA(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await bh(n.appConfig,i)}throw t}}function SA(n){return n!==void 0&&n.registrationStatus===2}function VM(n){return n.requestStatus===2&&!LM(n)}function LM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+cM}function zM(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function UM(n){return n.requestStatus===1&&n.requestTime+oA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(n){const e=n,{installationEntry:t,registrationPromise:i}=await iy(e);return i?i.catch(console.error):sy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(n,e=!1){const t=n;return await qM(t),(await sy(t,e)).token}async function qM(n){const{registrationPromise:e}=await iy(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(n){if(!n||!n.options)throw jm("App Configuration");if(!n.name)throw jm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw jm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function jm(n){return za.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="installations",HM="installations-internal",GM=n=>{const e=n.getProvider("app").getImmediate(),t=FM(e),i=Ha(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},$M=n=>{const e=n.getProvider("app").getImmediate(),t=Ha(e,wA).getImmediate();return{getId:()=>jM(t),getToken:o=>BM(t,o)}};function KM(){Qr(new Sr(wA,GM,"PUBLIC")),Qr(new Sr(HM,$M,"PRIVATE"))}KM();or(aA,ny);or(aA,ny,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="analytics",YM="firebase_id",QM="origin",WM=60*1e3,XM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ay="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Kh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new Fa("analytics","Analytics",ZM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(n){if(!n.startsWith(ay)){const e=$n.create("invalid-gtag-resource",{gtagURL:n});return An.warn(e.message),""}return n}function AA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ex(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function tx(n,e){const t=ex("firebase-js-sdk-policy",{createScriptURL:JM}),i=document.createElement("script"),o=`${ay}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function nx(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function rx(n,e,t,i,o,l){const c=i[o];try{if(c)await e[c];else{const m=(await AA(t)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(d){An.error(d)}n("config",o,l)}async function ix(n,e,t,i,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await AA(t);for(const m of c){const g=d.find(T=>T.measurementId===m),_=g&&e[g.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,o||{})}catch(l){An.error(l)}}function sx(n,e,t,i){async function o(l,...c){try{if(l==="event"){const[d,m]=c;await ix(n,e,t,d,m)}else if(l==="config"){const[d,m]=c;await rx(n,e,t,i,d,m)}else if(l==="consent"){const[d,m]=c;n("consent",d,m)}else if(l==="get"){const[d,m,g]=c;n("get",d,m,g)}else if(l==="set"){const[d]=c;n("set",d)}else n(l,...c)}catch(d){An.error(d)}}return o}function ax(n,e,t,i,o){let l=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=sx(l,n,e,t),{gtagCore:l,wrappedGtag:window[o]}}function ox(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ay)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=30,ux=1e3;class cx{constructor(e={},t=ux){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const bA=new cx;function fx(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function hx(n){var c;const{appId:e,apiKey:t}=n,i={method:"GET",headers:fx(t)},o=XM.replace("{app-id}",e),l=await fetch(o,i);if(l.status!==200&&l.status!==304){let d="";try{const m=await l.json();(c=m.error)!=null&&c.message&&(d=m.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function dx(n,e=bA,t){const{appId:i,apiKey:o,measurementId:l}=n.options;if(!i)throw $n.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:i};throw $n.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new gx;return setTimeout(async()=>{d.abort()},WM),RA({appId:i,apiKey:o,measurementId:l},c,d,e)}async function RA(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=bA){var d;const{appId:l,measurementId:c}=n;try{await px(i,e)}catch(m){if(c)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:c};throw m}try{const m=await hx(n);return o.deleteThrottleMetadata(l),m}catch(m){const g=m;if(!mx(g)){if(o.deleteThrottleMetadata(l),c)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:l,measurementId:c};throw m}const _=Number((d=g==null?void 0:g.customData)==null?void 0:d.httpStatus)===503?zT(t,o.intervalMillis,lx):zT(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return o.setThrottleMetadata(l,T),An.debug(`Calling attemptFetch again in ${_} millis`),RA(n,T,i,o)}}function px(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(l),i($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mx(n){if(!(n instanceof Rr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class gx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yx(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const l=await e,c={...i,send_to:l};n("event",t,c)}}async function _x(n,e,t,i){if(i&&i.global){const o={};for(const l of Object.keys(t))o[`user_properties.${l}`]=t[l];return n("set",o),Promise.resolve()}else{const o=await e;n("config",o,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(){if(vw())try{await Ew()}catch(n){return An.warn($n.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return An.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ex(n,e,t,i,o,l,c){const d=dx(n);d.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>An.error(w)),e.push(d);const m=vx().then(w=>{if(w)return i.getId()}),[g,_]=await Promise.all([d,m]);ox(l)||tx(l,g.measurementId),o("js",new Date);const T=(c==null?void 0:c.config)??{};return T[QM]="firebase",T.update=!0,_!=null&&(T[YM]=_),o("config",g.measurementId,T),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.app=e}_delete(){return delete Go[this.app.options.appId],Promise.resolve()}}let Go={},pS=[];const mS={};let Bm="dataLayer",Sx="gtag",gS,oy,yS=!1;function wx(){const n=[];if(_w()&&n.push("This is a browser extension environment."),T2()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=$n.create("invalid-analytics-context",{errorInfo:e});An.warn(t.message)}}function Ax(n,e,t){wx();const i=n.options.appId;if(!i)throw $n.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(Go[i]!=null)throw $n.create("already-exists",{id:i});if(!yS){nx(Bm);const{wrappedGtag:l,gtagCore:c}=ax(Go,pS,mS,Bm,Sx);oy=l,gS=c,yS=!0}return Go[i]=Ex(n,pS,mS,e,gS,Bm,t),new Tx(n)}function bx(n=Gg()){n=Nt(n);const e=Ha(n,Rh);return e.isInitialized()?e.getImmediate():Rx(n)}function Rx(n,e={}){const t=Ha(n,Rh);if(t.isInitialized()){const o=t.getImmediate();if(Ps(e,t.getOptions()))return o;throw $n.create("already-initialized")}return t.initialize({options:e})}function Ix(n,e,t){n=Nt(n),_x(oy,Go[n.app.options.appId],e,t).catch(i=>An.error(i))}function Cx(n,e,t,i){n=Nt(n),yx(oy,Go[n.app.options.appId],e,t,i).catch(o=>An.error(o))}const _S="@firebase/analytics",vS="0.10.19";function Dx(){Qr(new Sr(Rh,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Ax(i,o,t)},"PUBLIC")),Qr(new Sr("analytics-internal",n,"PRIVATE")),or(_S,vS),or(_S,vS,"esm2020");function n(e){try{const t=e.getProvider(Rh).getImmediate();return{logEvent:(i,o,l)=>Cx(t,i,o,l),setUserProperties:(i,o)=>Ix(t,i,o)}}catch(t){throw $n.create("interop-component-reg-failed",{reason:t})}}}Dx();var ES=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,IA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function b(){}b.prototype=R.prototype,C.F=R.prototype,C.prototype=new b,C.prototype.constructor=C,C.D=function(P,k,j){for(var D=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)D[Qe-2]=arguments[Qe];return R.prototype[k].apply(P,D)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,b){b||(b=0);const P=Array(16);if(typeof R=="string")for(var k=0;k<16;++k)P[k]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(k=0;k<16;++k)P[k]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=C.g[0],b=C.g[1],k=C.g[2];let j=C.g[3],D;D=R+(j^b&(k^j))+P[0]+3614090360&4294967295,R=b+(D<<7&4294967295|D>>>25),D=j+(k^R&(b^k))+P[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(b^j&(R^b))+P[2]+606105819&4294967295,k=j+(D<<17&4294967295|D>>>15),D=b+(R^k&(j^R))+P[3]+3250441966&4294967295,b=k+(D<<22&4294967295|D>>>10),D=R+(j^b&(k^j))+P[4]+4118548399&4294967295,R=b+(D<<7&4294967295|D>>>25),D=j+(k^R&(b^k))+P[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(b^j&(R^b))+P[6]+2821735955&4294967295,k=j+(D<<17&4294967295|D>>>15),D=b+(R^k&(j^R))+P[7]+4249261313&4294967295,b=k+(D<<22&4294967295|D>>>10),D=R+(j^b&(k^j))+P[8]+1770035416&4294967295,R=b+(D<<7&4294967295|D>>>25),D=j+(k^R&(b^k))+P[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(b^j&(R^b))+P[10]+4294925233&4294967295,k=j+(D<<17&4294967295|D>>>15),D=b+(R^k&(j^R))+P[11]+2304563134&4294967295,b=k+(D<<22&4294967295|D>>>10),D=R+(j^b&(k^j))+P[12]+1804603682&4294967295,R=b+(D<<7&4294967295|D>>>25),D=j+(k^R&(b^k))+P[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(b^j&(R^b))+P[14]+2792965006&4294967295,k=j+(D<<17&4294967295|D>>>15),D=b+(R^k&(j^R))+P[15]+1236535329&4294967295,b=k+(D<<22&4294967295|D>>>10),D=R+(k^j&(b^k))+P[1]+4129170786&4294967295,R=b+(D<<5&4294967295|D>>>27),D=j+(b^k&(R^b))+P[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^b&(j^R))+P[11]+643717713&4294967295,k=j+(D<<14&4294967295|D>>>18),D=b+(j^R&(k^j))+P[0]+3921069994&4294967295,b=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(b^k))+P[5]+3593408605&4294967295,R=b+(D<<5&4294967295|D>>>27),D=j+(b^k&(R^b))+P[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^b&(j^R))+P[15]+3634488961&4294967295,k=j+(D<<14&4294967295|D>>>18),D=b+(j^R&(k^j))+P[4]+3889429448&4294967295,b=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(b^k))+P[9]+568446438&4294967295,R=b+(D<<5&4294967295|D>>>27),D=j+(b^k&(R^b))+P[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^b&(j^R))+P[3]+4107603335&4294967295,k=j+(D<<14&4294967295|D>>>18),D=b+(j^R&(k^j))+P[8]+1163531501&4294967295,b=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(b^k))+P[13]+2850285829&4294967295,R=b+(D<<5&4294967295|D>>>27),D=j+(b^k&(R^b))+P[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^b&(j^R))+P[7]+1735328473&4294967295,k=j+(D<<14&4294967295|D>>>18),D=b+(j^R&(k^j))+P[12]+2368359562&4294967295,b=k+(D<<20&4294967295|D>>>12),D=R+(b^k^j)+P[5]+4294588738&4294967295,R=b+(D<<4&4294967295|D>>>28),D=j+(R^b^k)+P[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^b)+P[11]+1839030562&4294967295,k=j+(D<<16&4294967295|D>>>16),D=b+(k^j^R)+P[14]+4259657740&4294967295,b=k+(D<<23&4294967295|D>>>9),D=R+(b^k^j)+P[1]+2763975236&4294967295,R=b+(D<<4&4294967295|D>>>28),D=j+(R^b^k)+P[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^b)+P[7]+4139469664&4294967295,k=j+(D<<16&4294967295|D>>>16),D=b+(k^j^R)+P[10]+3200236656&4294967295,b=k+(D<<23&4294967295|D>>>9),D=R+(b^k^j)+P[13]+681279174&4294967295,R=b+(D<<4&4294967295|D>>>28),D=j+(R^b^k)+P[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^b)+P[3]+3572445317&4294967295,k=j+(D<<16&4294967295|D>>>16),D=b+(k^j^R)+P[6]+76029189&4294967295,b=k+(D<<23&4294967295|D>>>9),D=R+(b^k^j)+P[9]+3654602809&4294967295,R=b+(D<<4&4294967295|D>>>28),D=j+(R^b^k)+P[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^b)+P[15]+530742520&4294967295,k=j+(D<<16&4294967295|D>>>16),D=b+(k^j^R)+P[2]+3299628645&4294967295,b=k+(D<<23&4294967295|D>>>9),D=R+(k^(b|~j))+P[0]+4096336452&4294967295,R=b+(D<<6&4294967295|D>>>26),D=j+(b^(R|~k))+P[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~b))+P[14]+2878612391&4294967295,k=j+(D<<15&4294967295|D>>>17),D=b+(j^(k|~R))+P[5]+4237533241&4294967295,b=k+(D<<21&4294967295|D>>>11),D=R+(k^(b|~j))+P[12]+1700485571&4294967295,R=b+(D<<6&4294967295|D>>>26),D=j+(b^(R|~k))+P[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~b))+P[10]+4293915773&4294967295,k=j+(D<<15&4294967295|D>>>17),D=b+(j^(k|~R))+P[1]+2240044497&4294967295,b=k+(D<<21&4294967295|D>>>11),D=R+(k^(b|~j))+P[8]+1873313359&4294967295,R=b+(D<<6&4294967295|D>>>26),D=j+(b^(R|~k))+P[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~b))+P[6]+2734768916&4294967295,k=j+(D<<15&4294967295|D>>>17),D=b+(j^(k|~R))+P[13]+1309151649&4294967295,b=k+(D<<21&4294967295|D>>>11),D=R+(k^(b|~j))+P[4]+4149444226&4294967295,R=b+(D<<6&4294967295|D>>>26),D=j+(b^(R|~k))+P[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~b))+P[2]+718787259&4294967295,k=j+(D<<15&4294967295|D>>>17),D=b+(j^(k|~R))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+j&4294967295}i.prototype.v=function(C,R){R===void 0&&(R=C.length);const b=R-this.blockSize,P=this.C;let k=this.h,j=0;for(;j<R;){if(k==0)for(;j<=b;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<R;)if(P[k++]=C.charCodeAt(j++),k==this.blockSize){o(this,P),k=0;break}}else for(;j<R;)if(P[k++]=C[j++],k==this.blockSize){o(this,P),k=0;break}}this.h=k,this.o+=R},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var b=C.length-8;b<C.length;++b)C[b]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,b=0;b<4;++b)for(let P=0;P<32;P+=8)C[R++]=this.g[b]>>>P&255;return C};function l(C,R){var b=d;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=R(C)}function c(C,R){this.h=R;const b=[];let P=!0;for(let k=C.length-1;k>=0;k--){const j=C[k]|0;P&&j==R||(b[k]=j,P=!1)}this.g=b}var d={};function m(C){return-128<=C&&C<128?l(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return U(g(-C));const R=[];let b=1;for(let P=0;C>=b;P++)R[P]=C/b|0,b*=4294967296;return new c(R,0)}function _(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return U(_(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=g(Math.pow(R,8));let P=T;for(let j=0;j<C.length;j+=8){var k=Math.min(8,C.length-j);const D=parseInt(C.substring(j,j+k),R);k<8?(k=g(Math.pow(R,k)),P=P.j(k).add(g(D))):(P=P.j(b),P=P.add(g(D)))}return P}var T=m(0),w=m(1),N=m(16777216);n=c.prototype,n.m=function(){if($(this))return-U(this).m();let C=0,R=1;for(let b=0;b<this.g.length;b++){const P=this.i(b);C+=(P>=0?P:4294967296+P)*R,R*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(q(this))return"0";if($(this))return"-"+U(this).toString(C);const R=g(Math.pow(C,6));var b=this;let P="";for(;;){const k=re(b,R).g;b=J(b,k.j(R));let j=((b.g.length>0?b.g[0]:b.h)>>>0).toString(C);if(b=k,q(b))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function q(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function $(C){return C.h==-1}n.l=function(C){return C=J(this,C),$(C)?-1:q(C)?0:1};function U(C){const R=C.g.length,b=[];for(let P=0;P<R;P++)b[P]=~C.g[P];return new c(b,~C.h).add(w)}n.abs=function(){return $(this)?U(this):this},n.add=function(C){const R=Math.max(this.g.length,C.g.length),b=[];let P=0;for(let k=0;k<=R;k++){let j=P+(this.i(k)&65535)+(C.i(k)&65535),D=(j>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);P=D>>>16,j&=65535,D&=65535,b[k]=D<<16|j}return new c(b,b[b.length-1]&-2147483648?-1:0)};function J(C,R){return C.add(U(R))}n.j=function(C){if(q(this)||q(C))return T;if($(this))return $(C)?U(this).j(U(C)):U(U(this).j(C));if($(C))return U(this.j(U(C)));if(this.l(N)<0&&C.l(N)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,b=[];for(var P=0;P<2*R;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<C.g.length;k++){const j=this.i(P)>>>16,D=this.i(P)&65535,Qe=C.i(k)>>>16,Le=C.i(k)&65535;b[2*P+2*k]+=D*Le,ae(b,2*P+2*k),b[2*P+2*k+1]+=j*Le,ae(b,2*P+2*k+1),b[2*P+2*k+1]+=D*Qe,ae(b,2*P+2*k+1),b[2*P+2*k+2]+=j*Qe,ae(b,2*P+2*k+2)}for(C=0;C<R;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=R;C<2*R;C++)b[C]=0;return new c(b,0)};function ae(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function Z(C,R){this.g=C,this.h=R}function re(C,R){if(q(R))throw Error("division by zero");if(q(C))return new Z(T,T);if($(C))return R=re(U(C),R),new Z(U(R.g),U(R.h));if($(R))return R=re(C,U(R)),new Z(U(R.g),R.h);if(C.g.length>30){if($(C)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var b=w,P=R;P.l(C)<=0;)b=ee(b),P=ee(P);var k=ue(b,1),j=ue(P,1);for(P=ue(P,2),b=ue(b,2);!q(P);){var D=j.add(P);D.l(C)<=0&&(k=k.add(b),j=D),P=ue(P,1),b=ue(b,1)}return R=J(C,k.j(R)),new Z(k,R)}for(k=T;C.l(R)>=0;){for(b=Math.max(1,Math.floor(C.m()/R.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=g(b),D=j.j(R);$(D)||D.l(C)>0;)b-=P,j=g(b),D=j.j(R);q(j)&&(j=w),k=k.add(j),C=J(C,D)}return new Z(k,C)}n.B=function(C){return re(this,C).h},n.and=function(C){const R=Math.max(this.g.length,C.g.length),b=[];for(let P=0;P<R;P++)b[P]=this.i(P)&C.i(P);return new c(b,this.h&C.h)},n.or=function(C){const R=Math.max(this.g.length,C.g.length),b=[];for(let P=0;P<R;P++)b[P]=this.i(P)|C.i(P);return new c(b,this.h|C.h)},n.xor=function(C){const R=Math.max(this.g.length,C.g.length),b=[];for(let P=0;P<R;P++)b[P]=this.i(P)^C.i(P);return new c(b,this.h^C.h)};function ee(C){const R=C.g.length+1,b=[];for(let P=0;P<R;P++)b[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(b,C.h)}function ue(C,R){const b=R>>5;R%=32;const P=C.g.length-b,k=[];for(let j=0;j<P;j++)k[j]=R>0?C.i(j+b)>>>R|C.i(j+b+1)<<32-R:C.i(j+b);return new c(k,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,IA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Ds=c}).apply(typeof ES<"u"?ES:typeof self<"u"?self:typeof window<"u"?window:{});var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CA,bu,DA,Yf,dg,NA,OA,PA;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof kf=="object"&&kf];for(var y=0;y<f.length;++y){var v=f[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(f,y){if(y)e:{var v=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var G=f[A];if(!(G in v))break e;v=v[G]}f=f[f.length-1],A=v[f],y=y(A),y!=A&&y!=null&&e(v,f,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function m(f,y,v){return f.call.apply(f.bind,arguments)}function g(f,y,v){return g=m,g.apply(null,arguments)}function _(f,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function T(f,y){function v(){}v.prototype=y.prototype,f.Z=y.prototype,f.prototype=new v,f.prototype.constructor=f,f.Ob=function(A,G,W){for(var pe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)pe[Pe-2]=arguments[Pe];return y.prototype[G].apply(A,pe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function N(f){const y=f.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=f[A];return v}return[]}function q(f,y){for(let A=1;A<arguments.length;A++){const G=arguments[A];var v=typeof G;if(v=v!="object"?v:G?Array.isArray(G)?"array":v:"null",v=="array"||v=="object"&&typeof G.length=="number"){v=f.length||0;const W=G.length||0;f.length=v+W;for(let pe=0;pe<W;pe++)f[v+pe]=G[pe]}else f.push(G)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(f){c.setTimeout(()=>{throw f},0)}function J(){var f=C;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class ae{constructor(){this.h=this.g=null}add(y,v){const A=Z.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Z=new $(()=>new re,f=>f.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ue=!1,C=new ae,R=()=>{const f=Promise.resolve(void 0);ee=()=>{f.then(b)}};function b(){for(var f;f=J();){try{f.h.call(f.g)}catch(v){U(v)}var y=Z;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}ue=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return f}();function D(f){return/^[\s\xa0]*$/.test(f)}function Qe(f,y){k.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}T(Qe,k),Qe.prototype.init=function(f,y){const v=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(v=="mouseover"?y=f.fromElement:v=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),te=0;function ce(f,y,v,A,G){this.listener=f,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=G,this.key=++te,this.da=this.fa=!1}function ve(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ze(f,y,v){for(const A in f)y.call(v,f[A],A,f)}function x(f,y){for(const v in f)y.call(void 0,f[v],v,f)}function I(f){const y={};for(const v in f)y[v]=f[v];return y}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,y){let v,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(v in A)f[v]=A[v];for(let W=0;W<z.length;W++)v=z[W],Object.prototype.hasOwnProperty.call(A,v)&&(f[v]=A[v])}}function X(f){this.src=f,this.g={},this.h=0}X.prototype.add=function(f,y,v,A,G){const W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);const pe=he(f,y,A,G);return pe>-1?(y=f[pe],v||(y.fa=!1)):(y=new ce(y,this.src,W,!!A,G),y.fa=v,f.push(y)),y};function de(f,y){const v=y.type;if(v in f.g){var A=f.g[v],G=Array.prototype.indexOf.call(A,y,void 0),W;(W=G>=0)&&Array.prototype.splice.call(A,G,1),W&&(ve(y),f.g[v].length==0&&(delete f.g[v],f.h--))}}function he(f,y,v,A){for(let G=0;G<f.length;++G){const W=f[G];if(!W.da&&W.listener==y&&W.capture==!!v&&W.ha==A)return G}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),ye={};function ft(f,y,v,A,G){if(Array.isArray(y)){for(let W=0;W<y.length;W++)ft(f,y[W],v,A,G);return null}return v=Ae(v),f&&f[Le]?f.J(y,v,d(A)?!!A.capture:!1,G):Gt(f,y,v,!1,A,G)}function Gt(f,y,v,A,G,W){if(!y)throw Error("Invalid event type");const pe=d(G)?!!G.capture:!!G;let Pe=It(f);if(Pe||(f[Te]=Pe=new X(f)),v=Pe.add(y,v,A,pe,W),v.proxy)return v;if(A=Rt(),v.proxy=A,A.src=f,A.listener=v,f.addEventListener)j||(G=pe),G===void 0&&(G=!1),f.addEventListener(y.toString(),A,G);else if(f.attachEvent)f.attachEvent(He(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rt(){function f(v){return y.call(f.src,f.listener,v)}const y=xn;return f}function mt(f,y,v,A,G){if(Array.isArray(y))for(var W=0;W<y.length;W++)mt(f,y[W],v,A,G);else A=d(A)?!!A.capture:!!A,v=Ae(v),f&&f[Le]?(f=f.i,W=String(y).toString(),W in f.g&&(y=f.g[W],v=he(y,v,A,G),v>-1&&(ve(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete f.g[W],f.h--)))):f&&(f=It(f))&&(y=f.g[y.toString()],f=-1,y&&(f=he(y,v,A,G)),(v=f>-1?y[f]:null)&&Ot(v))}function Ot(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Le])de(y.i,f);else{var v=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(v,A,f.capture):y.detachEvent?y.detachEvent(He(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=It(y))?(de(v,f),v.h==0&&(v.src=null,y[Te]=null)):ve(f)}}}function He(f){return f in ye?ye[f]:ye[f]="on"+f}function xn(f,y){if(f.da)f=!0;else{y=new Qe(y,this);const v=f.listener,A=f.ha||f.src;f.fa&&Ot(f),f=v.call(A,y)}return f}function It(f){return f=f[Te],f instanceof X?f:null}var fe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ae(f){return typeof f=="function"?f:(f[fe]||(f[fe]=function(y){return f.handleEvent(y)}),f[fe])}function Se(){P.call(this),this.i=new X(this),this.M=this,this.G=null}T(Se,P),Se.prototype[Le]=!0,Se.prototype.removeEventListener=function(f,y,v,A){mt(this,f,y,v,A)};function Ne(f,y){var v,A=f.G;if(A)for(v=[];A;A=A.G)v.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new k(y,f);else if(y instanceof k)y.target=y.target||f;else{var G=y;y=new k(A,f),M(y,G)}G=!0;let W,pe;if(v)for(pe=v.length-1;pe>=0;pe--)W=y.g=v[pe],G=Ke(W,A,!0,y)&&G;if(W=y.g=f,G=Ke(W,A,!0,y)&&G,G=Ke(W,A,!1,y)&&G,v)for(pe=0;pe<v.length;pe++)W=y.g=v[pe],G=Ke(W,A,!1,y)&&G}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const v=f.g[y];for(let A=0;A<v.length;A++)ve(v[A]);delete f.g[y],f.h--}}this.G=null},Se.prototype.J=function(f,y,v,A){return this.i.add(String(f),y,!1,v,A)},Se.prototype.K=function(f,y,v,A){return this.i.add(String(f),y,!0,v,A)};function Ke(f,y,v,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let G=!0;for(let W=0;W<y.length;++W){const pe=y[W];if(pe&&!pe.da&&pe.capture==v){const Pe=pe.listener,yt=pe.ha||pe.src;pe.fa&&de(f.i,pe),G=Pe.call(yt,A)!==!1&&G}}return G&&!A.defaultPrevented}function st(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(f,y||0)}function Tt(f){f.g=st(()=>{f.g=null,f.i&&(f.i=!1,Tt(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class ur extends P{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(f){P.call(this),this.h=f,this.g={}}T(Wt,P);var nn=[];function We(f){ze(f.g,function(y,v){this.g.hasOwnProperty(v)&&Ot(y)},f),f.g={}}Wt.prototype.N=function(){Wt.Z.N.call(this),We(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=c.JSON.stringify,gt=c.JSON.parse,Hs=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ji(){}function Ka(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ir(){k.call(this,"d")}T(Ir,k);function kn(){k.call(this,"c")}T(kn,k);var bn={},Bi=null;function Ya(){return Bi=Bi||new Se}bn.Ia="serverreachability";function ml(f){k.call(this,bn.Ia,f)}T(ml,k);function qi(f){const y=Ya();Ne(y,new ml(y))}bn.STAT_EVENT="statevent";function Qa(f,y){k.call(this,bn.STAT_EVENT,f),this.stat=y}T(Qa,k);function Pt(f){const y=Ya();Ne(y,new Qa(y,f))}bn.Ja="timingevent";function hc(f,y){k.call(this,bn.Ja,f),this.size=y}T(hc,k);function Fi(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function Hi(){this.g=!0}Hi.prototype.ua=function(){this.g=!1};function gl(f,y,v,A,G,W){f.info(function(){if(f.g)if(W){var pe="",Pe=W.split("&");for(let nt=0;nt<Pe.length;nt++){var yt=Pe[nt].split("=");if(yt.length>1){const kt=yt[0];yt=yt[1];const Vn=kt.split("_");pe=Vn.length>=2&&Vn[1]=="type"?pe+(kt+"="+yt+"&"):pe+(kt+"=redacted&")}}}else pe=null;else pe=W;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+y+`
`+v+`
`+pe})}function yl(f,y,v,A,G,W,pe){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+y+`
`+v+`
`+W+" "+pe})}function ti(f,y,v,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Cr(f,v)+(A?" "+A:"")})}function Ed(f,y){f.info(function(){return"TIMEOUT: "+y})}Hi.prototype.info=function(){};function Cr(f,y){if(!f.g)return y;if(!y)return null;try{const W=JSON.parse(y);if(W){for(f=0;f<W.length;f++)if(Array.isArray(W[f])){var v=W[f];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let pe=1;pe<A.length;pe++)A[pe]=""}}}}return vt(W)}catch{return y}}var Mt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ni;function Gs(){}T(Gs,ji),Gs.prototype.g=function(){return new XMLHttpRequest},ni=new Gs;function $s(f){return encodeURIComponent(String(f))}function Td(f){var y=1;f=f.split(":");const v=[];for(;y>0&&f.length;)v.push(f.shift()),y--;return f.length&&v.push(f.join(":")),v}function cr(f,y,v,A){this.j=f,this.i=y,this.l=v,this.S=A||1,this.V=new Wt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gi}function Gi(){this.i=null,this.g="",this.h=!1}var Wa={},Dr={};function Nr(f,y,v){f.M=1,f.A=ii(St(y)),f.u=v,f.R=!0,$i(f,null)}function $i(f,y){f.F=Date.now(),Ks(f),f.B=St(f.A);var v=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),gc(v.i,"t",A),f.C=0,v=f.j.L,f.h=new Gi,f.g=ao(f.j,v?y:null,!f.u),f.P>0&&(f.O=new ur(g(f.Y,f,f.g),f.P)),y=f.V,v=f.g,A=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(nn[0]=G.toString()),G=nn);for(let W=0;W<G.length;W++){const pe=ft(v,G[W],A||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=f.J?I(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),qi(),gl(f.i,f.v,f.B,f.l,f.S,f.u)}cr.prototype.ba=function(f){f=f.target;const y=this.O;y&&hn(f)==3?y.j():this.Y(f)},cr.prototype.Y=function(f){try{if(f==this.g)e:{const Pe=hn(this.g),yt=this.g.ya(),nt=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||ia(this.g)))){this.K||Pe!=4||yt==7||(yt==8||nt<=0?qi(3):qi(2)),Pr(this);var y=this.g.ca();this.X=y;var v=Ki(this);if(this.o=y==200,yl(this.i,this.v,this.B,this.l,this.S,Pe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var W=A;break t}}W=null}if(f=W)ti(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xa(this,f);else{this.o=!1,this.m=3,Pt(12),Mr(this),Ys(this);break e}}if(this.R){f=!0;let kt;for(;!this.K&&this.C<v.length;)if(kt=dc(this,v),kt==Dr){Pe==4&&(this.m=4,Pt(14),f=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Wa){this.m=4,Pt(15),ti(this.i,this.l,v,"[Invalid Chunk]"),f=!1;break}else ti(this.i,this.l,kt,null),Xa(this,kt);if(xt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||v.length!=0||this.h.h||(this.m=1,Pt(16),f=!1),this.o=this.o&&f,!f)ti(this.i,this.l,v,"[Invalid Chunked Response]"),Mr(this),Ys(this);else if(v.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Il(pe),pe.P=!0,Pt(11))}}else ti(this.i,this.l,v,null),Xa(this,v);Pe==4&&Mr(this),this.o&&!this.K&&(Pe==4?Cl(this.j,this):(this.o=!1,Ks(this)))}else sa(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Mr(this),Ys(this)}}}catch{}finally{}};function Ki(f){if(!xt(f))return f.g.la();const y=ia(f.g);if(y==="")return"";let v="";const A=y.length,G=hn(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Mr(f),Ys(f),"";f.h.i=new c.TextDecoder}for(let W=0;W<A;W++)f.h.h=!0,v+=f.h.i.decode(y[W],{stream:!(G&&W==A-1)});return y.length=0,f.h.g+=v,f.C=0,f.h.g}function xt(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function dc(f,y){var v=f.C,A=y.indexOf(`
`,v);return A==-1?Dr:(v=Number(y.substring(v,A)),isNaN(v)?Wa:(A+=1,A+v>y.length?Dr:(y=y.slice(A,A+v),f.C=A+v,y)))}cr.prototype.cancel=function(){this.K=!0,Mr(this)};function Ks(f){f.T=Date.now()+f.H,Or(f,f.H)}function Or(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Fi(g(f.aa,f),y)}function Pr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}cr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ed(this.i,this.B),this.M!=2&&(qi(),Pt(17)),Mr(this),this.m=2,Ys(this)):Or(this,this.T-f)};function Ys(f){f.j.I==0||f.K||Cl(f.j,f)}function Mr(f){Pr(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,We(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Xa(f,y){try{var v=f.j;if(v.I!=0&&(v.g==f||Xs(v.h,f))){if(!f.L&&Xs(v.h,f)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<f.F)so(v),xr(v);else break e;Rl(v),Pt(18)}}else v.xa=G[1],0<v.xa-v.K&&G[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Fi(g(v.Va,v),6e3));Wn(v.h)<=1&&v.ta&&(v.ta=void 0)}else oi(v,11)}else if((f.L||v.g==f)&&so(v),!D(y))for(G=v.Ba.g.parse(y),y=0;y<G.length;y++){let nt=G[y];const kt=nt[0];if(!(kt<=v.K))if(v.K=kt,nt=nt[1],v.I==2)if(nt[0]=="c"){v.M=nt[1],v.ba=nt[2];const Vn=nt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const kr=nt[4];kr!=null&&(v.za=kr,v.j.info("SVER="+v.za));const dr=nt[5];dr!=null&&typeof dr=="number"&&dr>0&&(A=1.5*dr,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const pr=f.g;if(pr){const mr=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mr){var W=A.h;W.g||mr.indexOf("spdy")==-1&&mr.indexOf("quic")==-1&&mr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Za(W,W.h),W.h=null))}if(A.G){const Nl=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(A.wa=Nl,at(A.J,A.G,Nl))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-f.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var pe=f;if(A.na=bc(A,A.L?A.ba:null,A.W),pe.L){ri(A.h,pe);var Pe=pe,yt=A.O;yt&&(Pe.H=yt),Pe.D&&(Pr(Pe),Ks(Pe)),A.g=pe}else Tc(A);v.i.length>0&&ua(v)}else nt[0]!="stop"&&nt[0]!="close"||oi(v,7);else v.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?oi(v,7):oa(v):nt[0]!="noop"&&v.l&&v.l.qa(nt),v.A=0)}}qi(4)}catch{}}var Sd=class{constructor(f,y){this.g=f,this.map=y}};function Qs(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ws(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wn(f){return f.h?1:f.g?f.g.size:0}function Xs(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Za(f,y){f.g?f.g.add(y):f.h=y}function ri(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Qs.prototype.cancel=function(){if(this.i=Ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ja(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const v of f.g.values())y=y.concat(v.G);return y}return N(f.i)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wd(f,y){if(f){f=f.split("&");for(let v=0;v<f.length;v++){const A=f[v].indexOf("=");let G,W=null;A>=0?(G=f[v].substring(0,A),W=f[v].substring(A+1)):G=f[v],y(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function fr(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof fr?(this.l=f.l,Yi(this,f.j),this.o=f.o,this.g=f.g,Zs(this,f.u),this.h=f.h,Qi(this,yc(f.i)),this.m=f.m):f&&(y=String(f).match(eo))?(this.l=!1,Yi(this,y[1]||"",!0),this.o=Js(y[2]||""),this.g=Js(y[3]||"",!0),Zs(this,y[4]),this.h=Js(y[5]||"",!0),Qi(this,y[6]||"",!0),this.m=Js(y[7]||"")):(this.l=!1,this.i=new Xn(null,this.l))}fr.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(Xt(y,vl,!0),":");var v=this.g;return(v||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Xt(y,vl,!0),"@"),f.push($s(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&f.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&f.push("/"),f.push(Xt(v,v.charAt(0)=="/"?Wi:El,!0))),(v=this.i.toString())&&f.push("?",v),(v=this.m)&&f.push("#",Xt(v,mc)),f.join("")},fr.prototype.resolve=function(f){const y=St(this);let v=!!f.j;v?Yi(y,f.j):v=!!f.o,v?y.o=f.o:v=!!f.g,v?y.g=f.g:v=f.u!=null;var A=f.h;if(v)Zs(y,f.u);else if(v=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=y.h.lastIndexOf("/");G!=-1&&(A=y.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let pe=0;pe<G.length;){const Pe=G[pe++];Pe=="."?A&&pe==G.length&&W.push(""):Pe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),A&&pe==G.length&&W.push("")):(W.push(Pe),A=!0)}A=W.join("/")}else A=G}return v?y.h=A:v=f.i.toString()!=="",v?Qi(y,yc(f.i)):v=!!f.m,v&&(y.m=f.m),y};function St(f){return new fr(f)}function Yi(f,y,v){f.j=v?Js(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Zs(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function Qi(f,y,v){y instanceof Xn?(f.i=y,wl(f.i,f.l)):(v||(y=Xt(y,pc)),f.i=new Xn(y,f.l))}function at(f,y,v){f.i.set(y,v)}function ii(f){return at(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Js(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xt(f,y,v){return typeof f=="string"?(f=encodeURI(f).replace(y,_l),v&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _l(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var vl=/[#\/\?@]/g,El=/[#\?:]/g,Wi=/[#\?]/g,pc=/[#\?@]/g,mc=/#/g;function Xn(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function si(f){f.g||(f.g=new Map,f.h=0,f.i&&wd(f.i,function(y,v){f.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=Xn.prototype,n.add=function(f,y){si(this),this.i=null,f=hr(this,f);let v=this.g.get(f);return v||this.g.set(f,v=[]),v.push(y),this.h+=1,this};function Tl(f,y){si(f),y=hr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Sl(f,y){return si(f),y=hr(f,y),f.g.has(y)}n.forEach=function(f,y){si(this),this.g.forEach(function(v,A){v.forEach(function(G){f.call(y,G,A,this)},this)},this)};function to(f,y){si(f);let v=[];if(typeof y=="string")Sl(f,y)&&(v=v.concat(f.g.get(hr(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)v=v.concat(f[y]);return v}n.set=function(f,y){return si(this),this.i=null,f=hr(this,f),Sl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=to(this,f),f.length>0?String(f[0]):y):y};function gc(f,y,v){Tl(f,y),v.length>0&&(f.i=null,f.g.set(hr(f,y),N(v)),f.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const G=$s(v);v=to(this,v);for(let W=0;W<v.length;W++){let pe=G;v[W]!==""&&(pe+="="+$s(v[W])),f.push(pe)}}return this.i=f.join("&")};function yc(f){const y=new Xn;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function hr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function wl(f,y){y&&!f.j&&(si(f),f.i=null,f.g.forEach(function(v,A){const G=A.toLowerCase();A!=G&&(Tl(this,A),gc(this,G,v))},f)),f.j=y}function Al(f,y){const v=new Hi;if(c.Image){const A=new Image;A.onload=_(En,v,"TestLoadImage: loaded",!0,y,A),A.onerror=_(En,v,"TestLoadImage: error",!1,y,A),A.onabort=_(En,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(En,v,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function Xi(f,y){const v=new Hi,A=new AbortController,G=setTimeout(()=>{A.abort(),En(v,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then(W=>{clearTimeout(G),W.ok?En(v,"TestPingServer: ok",!0,y):En(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),En(v,"TestPingServer: error",!1,y)})}function En(f,y,v,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(v)}catch{}}function _c(){this.g=new Hs}function ea(f){this.i=f.Sb||null,this.h=f.ab||!1}T(ea,ji),ea.prototype.g=function(){return new ta(this.i,this.h)};function ta(f,y){Se.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ta,Se),n=ta.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,ai(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zi(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zi(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Tn(this):ai(this),this.readyState==3&&Zi(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Tn(this))},n.Na=function(f){this.g&&(this.response=f,Tn(this))},n.ga=function(){this.g&&Tn(this)};function Tn(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ai(f)}n.setRequestHeader=function(f,y){this.A.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,f.push(v[0]+": "+v[1]),v=y.next();return f.join(`\r
`)};function ai(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ji(f){let y="";return ze(f,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Zn(f,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Ji(v),typeof f=="string"?v!=null&&$s(v):at(f,y,v))}function ht(f){Se.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ht,Se);var no=/^https?$/i,vc=["POST","PUT"];n=ht.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ni.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(W){na(this,W);return}if(f=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)v.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())v.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),G=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(vc,y,void 0)>=0)||A||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,pe]of v)this.g.setRequestHeader(W,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(W){na(this,W)}};function na(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,ra(f),$t(f)}function ra(f){f.A||(f.A=!0,Ne(f,"complete"),Ne(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ne(this,"complete"),Ne(this,"abort"),$t(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),ht.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?bl(this):this.Xa())},n.Xa=function(){bl(this)};function bl(f){if(f.h&&typeof l<"u"){if(f.v&&hn(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ne(f,"readystatechange"),hn(f)==4){f.h=!1;try{const W=f.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=W===0){let pe=String(f.D).match(eo)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),A=!no.test(pe?pe.toLowerCase():"")}v=A}if(v)Ne(f,"complete"),Ne(f,"success");else{f.o=6;try{var G=hn(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",ra(f)}}finally{$t(f)}}}}function $t(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const v=f.g;f.g=null,y||Ne(f,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function hn(f){return f.g?f.g.readyState:0}n.ca=function(){try{return hn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),gt(y)}};function ia(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function sa(f){const y={};f=(f.g&&hn(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(D(f[A]))continue;var v=Td(f[A]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=y[G]||[];y[G]=W,W.push(v)}x(y,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(f,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[f]||y}function ro(f){this.za=0,this.i=[],this.j=new Hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=aa("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=aa("baseRetryDelayMs",5e3,f),this.Za=aa("retryDelaySeedMs",1e4,f),this.Ta=aa("forwardChannelMaxRetries",2,f),this.va=aa("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Qs(f&&f.concurrentRequestLimit),this.Ba=new _c,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ro.prototype,n.ka=8,n.I=1,n.connect=function(f,y,v,A){Pt(0),this.W=f,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=bc(this,null,this.W),ua(this)};function oa(f){if(la(f),f.I==3){var y=f.V++,v=St(f.J);if(at(v,"SID",f.M),at(v,"RID",y),at(v,"TYPE","terminate"),ca(f,v),y=new cr(f,f.j,y),y.M=2,y.A=ii(St(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=ao(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ks(y)}Ac(f)}function xr(f){f.g&&(Il(f),f.g.cancel(),f.g=null)}function la(f){xr(f),f.v&&(c.clearTimeout(f.v),f.v=null),so(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ua(f){if(!Ws(f.h)&&!f.m){f.m=!0;var y=f.Ea;ee||R(),ue||(ee(),ue=!0),C.add(y,f),f.D=0}}function Ad(f,y){return Wn(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Fi(g(f.Ea,f,y),wc(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new cr(this,this.j,f);let W=this.o;if(this.U&&(W?(W=I(W),M(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=io(this,G,y),v=St(this.J),at(v,"RID",f),at(v,"CVER",22),this.G&&at(v,"X-HTTP-Session-Id",this.G),ca(this,v),W&&(this.R?y="headers="+$s(Ji(W))+"&"+y:this.u&&Zn(v,this.u,W)),Za(this.h,G),this.Ra&&at(v,"TYPE","init"),this.S?(at(v,"$req",y),at(v,"SID","null"),G.U=!0,Nr(G,v,null)):Nr(G,v,y),this.I=2}}else this.I==3&&(f?Ec(this,f):this.i.length==0||Ws(this.h)||Ec(this))};function Ec(f,y){var v;y?v=y.l:v=f.V++;const A=St(f.J);at(A,"SID",f.M),at(A,"RID",v),at(A,"AID",f.K),ca(f,A),f.u&&f.o&&Zn(A,f.u,f.o),v=new cr(f,f.j,v,f.D+1),f.u===null&&(v.J=f.o),y&&(f.i=y.G.concat(f.i)),y=io(f,v,1e3),v.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Za(f.h,v),Nr(v,A,y)}function ca(f,y){f.H&&ze(f.H,function(v,A){at(y,A,v)}),f.l&&ze({},function(v,A){at(y,A,v)})}function io(f,y,v){v=Math.min(f.i.length,v);const A=f.l?g(f.l.Ka,f.l,f):null;e:{var G=f.i;let Pe=-1;for(;;){const yt=["count="+v];Pe==-1?v>0?(Pe=G[0].g,yt.push("ofs="+Pe)):Pe=0:yt.push("ofs="+Pe);let nt=!0;for(let kt=0;kt<v;kt++){var W=G[kt].g;const Vn=G[kt].map;if(W-=Pe,W<0)Pe=Math.max(0,G[kt].g-100),nt=!1;else try{W="req"+W+"_"||"";try{var pe=Vn instanceof Map?Vn:Object.entries(Vn);for(const[kr,dr]of pe){let pr=dr;d(dr)&&(pr=vt(dr)),yt.push(W+kr+"="+encodeURIComponent(pr))}}catch(kr){throw yt.push(W+"type="+encodeURIComponent("_badmap")),kr}}catch{A&&A(Vn)}}if(nt){pe=yt.join("&");break e}}pe=void 0}return f=f.i.splice(0,v),y.G=f,pe}function Tc(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;ee||R(),ue||(ee(),ue=!0),C.add(y,f),f.A=0}}function Rl(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Fi(g(f.Da,f),wc(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Sc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Fi(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),xr(this),Sc(this))};function Il(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Sc(f){f.g=new cr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=St(f.na);at(y,"RID","rpc"),at(y,"SID",f.M),at(y,"AID",f.K),at(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&at(y,"TO",f.ia),at(y,"TYPE","xmlhttp"),ca(f,y),f.u&&f.o&&Zn(y,f.u,f.o),f.O&&(f.g.H=f.O);var v=f.g;f=f.ba,v.M=1,v.A=ii(St(y)),v.u=null,v.R=!0,$i(v,f)}n.Va=function(){this.C!=null&&(this.C=null,xr(this),Rl(this),Pt(19))};function so(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Cl(f,y){var v=null;if(f.g==y){so(f),Il(f),f.g=null;var A=2}else if(Xs(f.h,y))v=y.G,ri(f.h,y),A=1;else return;if(f.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var G=f.D;A=Ya(),Ne(A,new hc(A,v)),ua(f)}else Tc(f);else if(G=y.m,G==3||G==0&&y.X>0||!(A==1&&Ad(f,y)||A==2&&Rl(f)))switch(v&&v.length>0&&(y=f.h,y.i=y.i.concat(v)),G){case 1:oi(f,5);break;case 4:oi(f,10);break;case 3:oi(f,6);break;default:oi(f,2)}}}function wc(f,y){let v=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(v*=2),v*y}function oi(f,y){if(f.j.info("Error code "+y),y==2){var v=g(f.bb,f),A=f.Ua;const G=!A;A=new fr(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yi(A,"https"),ii(A),G?Al(A.toString(),v):Xi(A.toString(),v)}else Pt(2);f.I=0,f.l&&f.l.pa(y),Ac(f),la(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Ac(f){if(f.I=0,f.ja=[],f.l){const y=Ja(f.h);(y.length!=0||f.i.length!=0)&&(q(f.ja,y),q(f.ja,f.i),f.h.i.length=0,N(f.i),f.i.length=0),f.l.oa()}}function bc(f,y,v){var A=v instanceof fr?St(v):new fr(v);if(A.g!="")y&&(A.g=y+"."+A.g),Zs(A,A.u);else{var G=c.location;A=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;const W=new fr(null);A&&Yi(W,A),y&&(W.g=y),G&&Zs(W,G),v&&(W.h=v),A=W}return v=f.G,y=f.wa,v&&y&&at(A,v,y),at(A,"VER",f.ka),ca(f,A),A}function ao(f,y,v){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new ht(new ea({ab:v})):new ht(f.ma),y.Fa(f.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}n=Rc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function oo(){}oo.prototype.g=function(f,y){return new Sn(f,y)};function Sn(f,y){Se.call(this),this.g=new ro(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!D(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new es(this)}T(Sn,Se),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){oa(this.g)},Sn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var v={};v.__data__=f,f=v}else this.v&&(v={},v.__data__=vt(f),f=v);y.i.push(new Sd(y.Ya++,f)),y.I==3&&ua(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,oa(this.g),delete this.g,Sn.Z.N.call(this)};function Dl(f){Ir.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const v in y){f=v;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}T(Dl,Ir);function Ic(){kn.call(this),this.status=1}T(Ic,kn);function es(f){this.g=f}T(es,Rc),es.prototype.ra=function(){Ne(this.g,"a")},es.prototype.qa=function(f){Ne(this.g,new Dl(f))},es.prototype.pa=function(f){Ne(this.g,new Ic)},es.prototype.oa=function(){Ne(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,PA=function(){return new oo},OA=function(){return Ya()},NA=bn,dg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mt.NO_ERROR=0,Mt.TIMEOUT=8,Mt.HTTP_ERROR=6,Yf=Mt,rn.COMPLETE="complete",DA=rn,Ka.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,bu=Ka,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,CA=ht}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});const TS="@firebase/firestore",SS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Kh("@firebase/firestore");function zo(){return ja.logLevel}function ge(n,...e){if(ja.logLevel<=Be.DEBUG){const t=e.map(ly);ja.debug(`Firestore (${cl}): ${n}`,...t)}}function ki(n,...e){if(ja.logLevel<=Be.ERROR){const t=e.map(ly);ja.error(`Firestore (${cl}): ${n}`,...t)}}function Wo(n,...e){if(ja.logLevel<=Be.WARN){const t=e.map(ly);ja.warn(`Firestore (${cl}): ${n}`,...t)}}function ly(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,MA(n,i,t)}function MA(n,e,t){let i=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ki(i),new Error(i)}function tt(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||MA(e,o,i)}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class Ox{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Px{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let i=this.i;const o=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Di,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Di)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new xA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class Mx{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xx{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Mx(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=Vx(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function qe(n,e){return n<e?-1:n>e?1:0}function pg(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return qm(o)===qm(l)?qe(o,l):qm(o)?1:-1}return qe(n.length,e.length)}const Lx=55296,zx=57343;function qm(n){const e=n.charCodeAt(0);return e>=Lx&&e<=zx}function Xo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="__name__";class Br{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ce(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Br.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return qe(e.length,t.length)}static compareSegments(e,t){const i=Br.isNumericId(e),o=Br.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Br.extractNumericId(e).compare(Br.extractNumericId(t)):pg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class pt extends Br{construct(e,t,i){return new pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const Ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Br{construct(e,t,i){return new cn(e,t,i)}static isValidIdentifier(e){return Ux.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AS}static keyField(){return new cn([AS])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(t)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(pt.fromString(e))}static fromName(e){return new we(pt.fromString(e).popFirst(5))}static empty(){return new we(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n,e,t){if(!t)throw new me(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jx(n,e,t,i){if(e===!0&&i===!0)throw new me(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bS(n){if(!we.isDocumentKey(n))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RS(n){if(we.isDocumentKey(n))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Jh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce(12329,{type:typeof n})}function Ms(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jh(n);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,e){const t={typeString:n};return e&&(t.value=e),t}function ic(n,e){if(!VA(n))throw new me(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new me(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=-62135596800,CS=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*CS);return new _t(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<IS)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CS}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ic(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Ft("string",_t._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new _t(0,0))}static max(){return new Oe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=-1;function Bx(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(i===1e9?new _t(t+1,0):new _t(t,i));return new xs(o,we.empty(),e)}function qx(n){return new xs(n.readTime,n.key,Fu)}class xs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xs(Oe.min(),we.empty(),Fu)}static max(){return new xs(Oe.max(),we.empty(),Fu)}}function Fx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==Hx)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},m=>i(m))}),c=!0,l===o&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(o=>o?le.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new le((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(_=>{c[g]=_,++d,d===l&&i(c)},_=>o(_))}})}static doWhile(e,t){return new le((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function $x(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ed.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-1;function td(n){return n==null}function Ih(n){return n===0&&1/n==-1/0}function Kx(n){return typeof n=="number"&&Number.isInteger(n)&&!Ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="";function Yx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DS(e)),e=Qx(n.get(t),e);return DS(e)}function Qx(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case LA:t+="";break;default:t+=l}}return t}function DS(n){return n+LA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||un.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vf(this.root,e,this.comparator,!0)}}class Vf{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??un.RED,this.left=o??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new un(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OS(this.data.getIterator())}getIteratorFrom(e){return new OS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class OS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Qt(cn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new UA("Invalid base64 string: "+l):l}}(e);return new fn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const Wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(tt(!!n,39018),typeof n=="string"){let e=0;const t=Wx.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vs(n){return typeof n=="string"?fn.fromBase64String(n):fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="server_timestamp",BA="__type__",qA="__previous_value__",FA="__local_write_time__";function fy(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[BA])==null?void 0:i.stringValue)===jA}function nd(n){const e=n.mapValue.fields[qA];return fy(e)?nd(e):e}function Hu(n){const e=ks(n.mapValue.fields[FA].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,t,i,o,l,c,d,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const Ch="(default)";class Gu{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="__type__",Zx="__max__",Lf={mapValue:{}},GA="__vector__",Dh="value";function Ls(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fy(n)?4:ek(n)?9007199254740991:Jx(n)?10:11:Ce(28295,{value:n})}function Wr(n,e){if(n===e)return!0;const t=Ls(n);if(t!==Ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hu(n).isEqual(Hu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ks(o.timestampValue),d=ks(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Vs(o.bytesValue).isEqual(Vs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return zt(o.geoPointValue.latitude)===zt(l.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return zt(o.integerValue)===zt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=zt(o.doubleValue),d=zt(l.doubleValue);return c===d?Ih(c)===Ih(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Xo(n.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(NS(c)!==NS(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Wr(c[m],d[m])))return!1;return!0}(n,e);default:return Ce(52216,{left:n})}}function $u(n,e){return(n.values||[]).find(t=>Wr(t,e))!==void 0}function Zo(n,e){if(n===e)return 0;const t=Ls(n),i=Ls(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=zt(l.integerValue||l.doubleValue),m=zt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return PS(n.timestampValue,e.timestampValue);case 4:return PS(Hu(n),Hu(e));case 5:return pg(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Vs(l),m=Vs(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=qe(d[g],m[g]);if(_!==0)return _}return qe(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=qe(zt(l.latitude),zt(c.latitude));return d!==0?d:qe(zt(l.longitude),zt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return MS(n.arrayValue,e.arrayValue);case 10:return function(l,c){var w,N,q,$;const d=l.fields||{},m=c.fields||{},g=(w=d[Dh])==null?void 0:w.arrayValue,_=(N=m[Dh])==null?void 0:N.arrayValue,T=qe(((q=g==null?void 0:g.values)==null?void 0:q.length)||0,(($=_==null?void 0:_.values)==null?void 0:$.length)||0);return T!==0?T:MS(g,_)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Lf.mapValue&&c===Lf.mapValue)return 0;if(l===Lf.mapValue)return 1;if(c===Lf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const w=pg(m[T],_[T]);if(w!==0)return w;const N=Zo(d[m[T]],g[_[T]]);if(N!==0)return N}return qe(m.length,_.length)}(n.mapValue,e.mapValue);default:throw Ce(23264,{he:t})}}function PS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=ks(n),i=ks(e),o=qe(t.seconds,i.seconds);return o!==0?o:qe(t.nanos,i.nanos)}function MS(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Zo(t[o],i[o]);if(l)return l}return qe(t.length,i.length)}function Jo(n){return mg(n)}function mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ks(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Vs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=mg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${mg(t.fields[c])}`;return o+"}"}(n.mapValue):Ce(61005,{value:n})}function Qf(n){switch(Ls(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nd(n);return e?16+Qf(e):16;case 5:return 2*n.stringValue.length;case 6:return Vs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Qf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return qs(i.fields,(l,c)=>{o+=l.length+Qf(c)}),o}(n.mapValue);default:throw Ce(13486,{value:n})}}function xS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gg(n){return!!n&&"integerValue"in n}function hy(n){return!!n&&"arrayValue"in n}function kS(n){return!!n&&"nullValue"in n}function VS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wf(n){return!!n&&"mapValue"in n}function Jx(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[HA])==null?void 0:i.stringValue)===GA}function Mu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return qs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Mu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mu(n.arrayValue.values[t]);return e}return{...n}}function ek(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Zx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(t)}setAll(e){let t=cn.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Mu(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Wf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){qs(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Pn(Mu(this.value))}}function $A(n){const e=[];return qs(n.fields,(t,i)=>{const o=new cn([t]);if(Wf(i)){const l=$A(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,Oe.min(),Oe.min(),Oe.min(),Pn.empty(),0)}static newFoundDocument(e,t,i,o){return new _n(e,1,t,Oe.min(),i,o,0)}static newNoDocument(e,t){return new _n(e,2,t,Oe.min(),Oe.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Oe.min(),Oe.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t){this.position=e,this.inclusive=t}}function LS(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=Zo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function zS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function tk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{}class qt extends KA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new rk(e,t,i):t==="array-contains"?new ak(e,i):t==="in"?new ok(e,i):t==="not-in"?new lk(e,i):t==="array-contains-any"?new uk(e,i):new qt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ik(e,i):new sk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Zo(t,this.value)):t!==null&&Ls(this.value)===Ls(t)&&this.matchesComparison(Zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends KA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new wr(e,t)}matches(e){return YA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YA(n){return n.op==="and"}function QA(n){return nk(n)&&YA(n)}function nk(n){for(const e of n.filters)if(e instanceof wr)return!1;return!0}function yg(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+Jo(n.value);if(QA(n))return n.filters.map(e=>yg(e)).join(",");{const e=n.filters.map(t=>yg(t)).join(",");return`${n.op}(${e})`}}function WA(n,e){return n instanceof qt?function(i,o){return o instanceof qt&&i.op===o.op&&i.field.isEqual(o.field)&&Wr(i.value,o.value)}(n,e):n instanceof wr?function(i,o){return o instanceof wr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&WA(c,o.filters[d]),!0):!1}(n,e):void Ce(19439)}function XA(n){return n instanceof qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Jo(t.value)}`}(n):n instanceof wr?function(t){return t.op.toString()+" {"+t.getFilters().map(XA).join(" ,")+"}"}(n):"Filter"}class rk extends qt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class ik extends qt{constructor(e,t){super(e,"in",t),this.keys=ZA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sk extends qt{constructor(e,t){super(e,"not-in",t),this.keys=ZA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZA(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class ak extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hy(t)&&$u(t.arrayValue,this.value)}}class ok extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$u(this.value.arrayValue,t)}}class lk extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$u(this.value.arrayValue,t)}}class uk extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>$u(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function US(n,e=null,t=[],i=[],o=null,l=null,c=null){return new ck(n,e,t,i,o,l,c)}function dy(n){const e=Me(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>yg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Jo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Jo(i)).join(",")),e.Te=t}return e.Te}function py(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zS(n.startAt,e.startAt)&&zS(n.endAt,e.endAt)}function _g(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fk(n,e,t,i,o,l,c,d){return new sc(n,e,t,i,o,l,c,d)}function my(n){return new sc(n)}function jS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JA(n){return n.collectionGroup!==null}function xu(n){const e=Me(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Qt(cn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Oh(l,i))}),t.has(cn.keyField().canonicalString())||e.Ie.push(new Oh(cn.keyField(),i))}return e.Ie}function Fr(n){const e=Me(n);return e.Ee||(e.Ee=hk(e,xu(n))),e.Ee}function hk(n,e){if(n.limitType==="F")return US(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Oh(o.field,l)});const t=n.endAt?new Nh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Nh(n.startAt.position,n.startAt.inclusive):null;return US(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vg(n,e){const t=n.filters.concat([e]);return new sc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Eg(n,e,t){return new sc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rd(n,e){return py(Fr(n),Fr(e))&&n.limitType===e.limitType}function eb(n){return`${dy(Fr(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>XA(o)).join(", ")}]`),td(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Jo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Jo(o)).join(",")),`Target(${i})`}(Fr(n))}; limitType=${n.limitType})`}function id(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of xu(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,m){const g=LS(c,d,m);return c.inclusive?g<=0:g<0}(i.startAt,xu(i),o)||i.endAt&&!function(c,d,m){const g=LS(c,d,m);return c.inclusive?g>=0:g>0}(i.endAt,xu(i),o))}(n,e)}function dk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tb(n){return(e,t)=>{let i=!1;for(const o of xu(n)){const l=pk(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function pk(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Zo(m,g):Ce(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ce(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return zA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new bt(we.comparator);function Vi(){return mk}const nb=new bt(we.comparator);function Ru(...n){let e=nb;for(const t of n)e=e.insert(t.key,t);return e}function rb(n){let e=nb;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Na(){return ku()}function ib(){return ku()}function ku(){return new Ga(n=>n.toString(),(n,e)=>n.isEqual(e))}const gk=new bt(we.comparator),yk=new Qt(we.comparator);function Fe(...n){let e=yk;for(const t of n)e=e.add(t);return e}const _k=new Qt(qe);function vk(){return _k}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function sb(n){return{integerValue:""+n}}function Ek(n,e){return Kx(e)?sb(e):gy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function Tk(n,e,t){return n instanceof Ku?function(o,l){const c={fields:{[BA]:{stringValue:jA},[FA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&fy(l)&&(l=nd(l)),l&&(c.fields[qA]=l),{mapValue:c}}(t,e):n instanceof Yu?ob(n,e):n instanceof Qu?lb(n,e):function(o,l){const c=ab(o,l),d=BS(c)+BS(o.Ae);return gg(c)&&gg(o.Ae)?sb(d):gy(o.serializer,d)}(n,e)}function Sk(n,e,t){return n instanceof Yu?ob(n,e):n instanceof Qu?lb(n,e):t}function ab(n,e){return n instanceof Ph?function(i){return gg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Ku extends sd{}class Yu extends sd{constructor(e){super(),this.elements=e}}function ob(n,e){const t=ub(e);for(const i of n.elements)t.some(o=>Wr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Qu extends sd{constructor(e){super(),this.elements=e}}function lb(n,e){let t=ub(e);for(const i of n.elements)t=t.filter(o=>!Wr(o,i));return{arrayValue:{values:t}}}class Ph extends sd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function BS(n){return zt(n.integerValue||n.doubleValue)}function ub(n){return hy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.field=e,this.transform=t}}function Ak(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Yu&&o instanceof Yu||i instanceof Qu&&o instanceof Qu?Xo(i.elements,o.elements,Wr):i instanceof Ph&&o instanceof Ph?Wr(i.Ae,o.Ae):i instanceof Ku&&o instanceof Ku}(n.transform,e.transform)}class bk{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ad{}function cb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hb(n.key,Hr.none()):new ac(n.key,n.data,Hr.none());{const t=n.data,i=Pn.empty();let o=new Qt(cn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Fs(n.key,i,new Gn(o.toArray()),Hr.none())}}function Rk(n,e,t){n instanceof ac?function(o,l,c){const d=o.value.clone(),m=FS(o.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Fs?function(o,l,c){if(!Xf(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=FS(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(fb(o)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Vu(n,e,t,i){return n instanceof ac?function(l,c,d,m){if(!Xf(l.precondition,c))return d;const g=l.value.clone(),_=HS(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Fs?function(l,c,d,m){if(!Xf(l.precondition,c))return d;const g=HS(l.fieldTransforms,m,c),_=c.data;return _.setAll(fb(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return Xf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function Ik(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=ab(i.transform,o||null);l!=null&&(t===null&&(t=Pn.empty()),t.set(i.field,l))}return t||null}function qS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Xo(i,o,(l,c)=>Ak(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ac extends ad{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fs extends ad{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function fb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function FS(n,e,t){const i=new Map;tt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,Sk(c,d,t[o]))}return i}function HS(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,Tk(l,c,e))}return i}class hb extends ad{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ck extends ad{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Rk(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Vu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Vu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ib();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const m=cb(c,d);m!==null&&i.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(t,i)=>qS(t,i))&&Xo(this.baseMutations,e.baseMutations,(t,i)=>qS(t,i))}}class yy{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return gk}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new yy(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,$e;function Pk(n){switch(n){case se.OK:return Ce(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ce(15467,{code:n})}}function db(n){if(n===void 0)return ki("GRPC error has no .code"),se.UNKNOWN;switch(n){case Bt.OK:return se.OK;case Bt.CANCELLED:return se.CANCELLED;case Bt.UNKNOWN:return se.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return se.INTERNAL;case Bt.UNAVAILABLE:return se.UNAVAILABLE;case Bt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Bt.NOT_FOUND:return se.NOT_FOUND;case Bt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Bt.ABORTED:return se.ABORTED;case Bt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Bt.DATA_LOSS:return se.DATA_LOSS;default:return Ce(39323,{code:n})}}($e=Bt||(Bt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new Ds([4294967295,4294967295],0);function GS(n){const e=Mk().encode(n),t=new IA;return t.update(e),new Uint8Array(t.digest())}function $S(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ds([t,i],0),new Ds([o,l],0)]}class _y{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Iu(`Invalid padding: ${t}`);if(i<0)throw new Iu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ds.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Ds.fromNumber(i)));return o.compare(xk)===1&&(o=new Ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=GS(e),[i,o]=$S(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new _y(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.ge===0)return;const t=GS(e),[i,o]=$S(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new od(Oe.min(),o,new bt(qe),Vi(),Fe())}}class oc{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new oc(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class pb{constructor(e,t){this.targetId=e,this.Ce=t}}class mb{constructor(e,t,i=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class KS{constructor(){this.ve=0,this.Fe=YS(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),i=Fe();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ce(38017,{changeType:l})}}),new oc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=YS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vi(),this.Je=zf(),this.He=zf(),this.Ye=new bt(qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(_g(l))if(i===0){const c=new we(l.path);this.et(t,c,_n.newNoDocument(c,Oe.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=Vs(i).toUint8Array()}catch(m){if(m instanceof UA)return Wo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new _y(c,o,l)}catch(m){return Wo(m instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&_g(d.target)){const m=new we(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,_n.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let i=Fe();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const o=new od(e,t,this.Ye,this.je,i);return this.je=Vi(),this.Je=zf(),this.He=zf(),this.Ye=new bt(qe),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new KS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Qt(qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Qt(qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KS),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function zf(){return new bt(we.comparator)}function YS(){return new bt(we.comparator)}const Vk={asc:"ASCENDING",desc:"DESCENDING"},Lk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zk={and:"AND",or:"OR"};class Uk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tg(n,e){return n.useProto3Json||td(e)?e:{value:e}}function Mh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jk(n,e){return Mh(n,e.toTimestamp())}function Gr(n){return tt(!!n,49232),Oe.fromTimestamp(function(t){const i=ks(t);return new _t(i.seconds,i.nanos)}(n))}function vy(n,e){return Sg(n,e).canonicalString()}function Sg(n,e){const t=function(o){return new pt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function yb(n){const e=pt.fromString(n);return tt(Sb(e),10190,{key:e.toString()}),e}function wg(n,e){return vy(n.databaseId,e.path)}function Fm(n,e){const t=yb(e);if(t.get(1)!==n.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(vb(t))}function _b(n,e){return vy(n.databaseId,e)}function Bk(n){const e=yb(n);return e.length===4?pt.emptyPath():vb(e)}function Ag(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vb(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function QS(n,e,t){return{name:wg(n,e),fields:t.value.mapValue.fields}}function qk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(tt(_===void 0||typeof _=="string",58123),fn.fromBase64String(_||"")):(tt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),fn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?se.UNKNOWN:db(g.code);return new me(_,g.message||"")}(c);t=new mb(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Fm(n,i.document.name),l=Gr(i.document.updateTime),c=i.document.createTime?Gr(i.document.createTime):Oe.min(),d=new Pn({mapValue:{fields:i.document.fields}}),m=_n.newFoundDocument(o,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new Zf(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Fm(n,i.document),l=i.readTime?Gr(i.readTime):Oe.min(),c=_n.newNoDocument(o,l),d=i.removedTargetIds||[];t=new Zf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Fm(n,i.document),l=i.removedTargetIds||[];t=new Zf([],l,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new Ok(o,l),d=i.targetId;t=new pb(d,c)}}return t}function Fk(n,e){let t;if(e instanceof ac)t={update:QS(n,e.key,e.value)};else if(e instanceof hb)t={delete:wg(n,e.key)};else if(e instanceof Fs)t={update:QS(n,e.key,e.data),updateMask:Zk(e.fieldMask)};else{if(!(e instanceof Ck))return Ce(16599,{Vt:e.type});t={verify:wg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Ku)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Yu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Qu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ph)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ce(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:jk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)}(n,e.precondition)),t}function Hk(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map(t=>function(o,l){let c=o.updateTime?Gr(o.updateTime):Gr(l);return c.isEqual(Oe.min())&&(c=Gr(l)),new bk(c,o.transformResults||[])}(t,e))):[]}function Gk(n,e){return{documents:[_b(n,e.path)]}}function $k(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_b(n,o);const l=function(g){if(g.length!==0)return Tb(wr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:jo(w.field),direction:Qk(w.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Tg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function Kk(n){let e=Bk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){tt(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const w=Eb(T);return w instanceof wr&&QA(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(w=>function(q){return new Oh(Bo(q.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,td(w)?null:w}(t.limit));let m=null;t.startAt&&(m=function(T){const w=!!T.before,N=T.values||[];return new Nh(N,w)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const w=!T.before,N=T.values||[];return new Nh(N,w)}(t.endAt)),fk(e,o,c,l,d,"F",m,g)}function Yk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Eb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Bo(t.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Bo(t.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bo(t.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(t.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(n):n.fieldFilter!==void 0?function(t){return qt.create(Bo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return wr.create(t.compositeFilter.filters.map(i=>Eb(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(t.compositeFilter.op))}(n):Ce(30097,{filter:n})}function Qk(n){return Vk[n]}function Wk(n){return Lk[n]}function Xk(n){return zk[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Bo(n){return cn.fromServerFormat(n.fieldPath)}function Tb(n){return n instanceof qt?function(t){if(t.op==="=="){if(VS(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(kS(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(VS(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(kS(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:Wk(t.op),value:t.value}}}(n):n instanceof wr?function(t){const i=t.getFilters().map(o=>Tb(o));return i.length===1?i[0]:{compositeFilter:{op:Xk(t.op),filters:i}}}(n):Ce(54877,{filter:n})}function Zk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Sb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t,i,o,l=Oe.min(),c=Oe.min(),d=fn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.yt=e}}function eV(n){const e=Kk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.Cn=new nV}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(xs.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class nV{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Qt(pt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Qt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wb=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(wb,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="LruGarbageCollector",rV=1048576;function ZS([n,e],[t,i]){const o=qe(n,t);return o===0?qe(e,i):o}class iV{constructor(e){this.Ir=e,this.buffer=new Qt(ZS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ZS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(XS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hl(t)?ge(XS,"Ignoring IndexedDB error during garbage collection: ",t):await fl(t)}await this.Vr(3e5)})}}class aV{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return le.resolve(ed.ce);const i=new iV(t);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(WS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WS):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(g=Date.now(),zo()<=Be.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function oV(n,e){return new aV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.changes=new Ga(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Vu(i.mutation,o,Gn.empty(),_t.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Fe()){const o=Na();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=Ru();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Na();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Fe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=Vi();const c=ku(),d=function(){return ku()}();return t.forEach((m,g)=>{const _=i.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Fs)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Vu(_.mutation,g,_.mutation.getFieldMask(),_t.now())):c.set(g.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>d.set(g,new uV(_,c.get(g)??null))),d))}recalculateAndSaveOverlays(e,t){const i=ku();let o=new bt((c,d)=>c-d),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let _=i.get(m)||Gn.empty();_=d.applyToLocalView(g,_),i.set(m,_);const T=(o.get(d.batchId)||Fe()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=ib();_.forEach(w=>{if(!l.has(w)){const N=cb(t.get(w),i.get(w));N!==null&&T.set(w,N),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return le.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):le.resolve(Na());let d=Fu,m=l;return c.next(g=>le.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{m=m.insert(_,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Fe())).next(_=>({batchId:d,changes:rb(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=Ru();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(e,l).next(d=>le.forEach(d,m=>{const g=function(T,w){return new sc(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(_=>{_.forEach((T,w)=>{c=c.insert(T,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,_n.newInvalidDocument(_)))});let d=Ru();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&Vu(_.mutation,g,Gn.empty(),_t.now()),id(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Gr(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:eV(o.bundledQuery),readTime:Gr(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.overlays=new bt(we.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Na();return le.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.St(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const o=Na(),l=t.length+1,c=new we(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&o.set(m.getKey(),m)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new bt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=Na(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Na(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return le.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Nk(t,i));let l=this.qr.get(t);l===void 0&&(l=Fe(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this.Qr=new Qt(tn.$r),this.Ur=new Qt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new tn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new tn(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new we(new pt([])),i=new tn(t,e),o=new tn(t,e+1),l=[];return this.Ur.forEachInRange([i,o],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new pt([])),i=new tn(t,e),o=new tn(t,e+1);let l=Fe();return this.Ur.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new tn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||qe(e.Yr,t.Yr)}static Kr(e,t){return qe(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(tn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Dk(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new tn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?cy:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new tn(t,0),o=new tn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],c=>{const d=this.Xr(c.Yr);l.push(d)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qt(qe);return t.forEach(o=>{const l=new tn(o,0),c=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{i=i.add(d.Yr)})}),le.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const c=new tn(new we(l),0);let d=new Qt(qe);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)},c),le.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){tt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return le.forEach(t.mutations,o=>{const l=new tn(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new tn(t,0),o=this.Zr.firstAfterOrEqual(i);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.ri=e,this.docs=function(){return new bt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=Vi();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():_n.newInvalidDocument(o))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Vi();const c=t.path,d=new we(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Fx(qx(_),i)<=0||(o.has(_.key)||id(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ce(9500)}ii(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gV(this)}getSize(e){return le.resolve(this.size)}}class gV extends lV{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.persistence=e,this.si=new Ga(t=>dy(t),py),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ey,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,t){return this.si.forEach((i,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new el(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),le.waitFor(l).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),le.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t){this.ui={},this.overlays={},this.ci=new ed(0),this.li=!1,this.li=!0,this.hi=new dV,this.referenceDelegate=e(this),this.Pi=new yV(this),this.indexManager=new tV,this.remoteDocumentCache=function(o){return new mV(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new Jk(t),this.Ii=new fV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new pV(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new _V(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return le.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class _V extends Gx{constructor(e){super(),this.currentSequenceNumber=e}}class Ty{constructor(e){this.persistence=e,this.Ri=new Ey,this.Vi=null}static mi(e){return new Ty(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,i=>{const o=we.fromPath(i);return this.gi(e,o).next(l=>{l||t.removeEntry(o,Oe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class xh{constructor(e,t){this.persistence=e,this.pi=new Ga(i=>Yx(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=oV(this,t)}static mi(e,t){return new xh(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return le.forEach(this.pi,(i,o)=>this.br(e,i,o).next(l=>l?le.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Oe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qf(e.data.value)),t}br(e,t,i){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return le.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Fe(),o=Fe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Sy(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return E2()?8:$x(vn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new vV;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)})}).next(()=>l.result)}bs(e,t,i,o){return i.documentReadCount<this.fs?(zo()<=Be.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(zo()<=Be.DEBUG&&ge("QueryEngine","Query:",Uo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(zo()<=Be.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):le.resolve())}ys(e,t){if(jS(t))return le.resolve(null);let i=Fr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Eg(t,null,"F"),i=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.Ds(t,d);return this.Cs(t,g,c,m.readTime)?this.ys(e,Eg(t,null,"F")):this.vs(e,g,t,m)}))})))}ws(e,t,i,o){return jS(t)||o.isEqual(Oe.min())?le.resolve(null):this.ps.getDocuments(e,i).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?le.resolve(null):(zo()<=Be.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(t)),this.vs(e,c,t,Bx(o,Fu)).next(d=>d))})}Ds(e,t){let i=new Qt(tb(e));return t.forEach((o,l)=>{id(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return zo()<=Be.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.ps.getDocumentsMatchingQuery(e,t,xs.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="LocalStore",TV=3e8;class SV{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new bt(qe),this.xs=new Ga(l=>dy(l),py),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function wV(n,e,t,i){return new SV(n,e,t,i)}async function bb(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=Fe();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next(g=>({Ls:g,removedBatchIds:c,addedBatchIds:d}))})})}function AV(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const T=g.batch,w=T.keys();let N=le.resolve();return w.forEach(q=>{N=N.next(()=>_.getEntry(m,q)).next($=>{const U=g.docVersions.get(q);tt(U!==null,48541),$.version.compareTo(U)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),_.addEntry($)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Fe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Rb(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function bV(n,e){const t=Me(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((_,T)=>{const w=o.get(T);if(!w)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Pi.addMatchingKeys(l,_.addedDocuments,T)));let N=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(fn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,i)),o=o.insert(T,N),function($,U,J){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=TV?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(w,N,_)&&d.push(t.Pi.updateTargetData(l,N))});let m=Vi(),g=Fe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(RV(l,c,e.documentUpdates).next(_=>{m=_.ks,g=_.qs})),!i.isEqual(Oe.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next(T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return le.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ms=o,l))}function RV(n,e,t){let i=Fe(),o=Fe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Vi();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Oe.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ge(wy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:c,qs:o}})}function IV(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=cy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function CV(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Pi.getTargetData(i,e).next(l=>l?(o=l,le.resolve(o)):t.Pi.allocateTargetId(i).next(c=>(o=new Rs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function bg(n,e,t){const i=Me(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!hl(c))throw c;ge(wy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function JS(n,e,t){const i=Me(n);let o=Oe.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const T=Me(m),w=T.xs.get(_);return w!==void 0?le.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,_)}(i,c,Fr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Oe.min(),t?l:Fe())).next(d=>(DV(i,dk(e),d),{documents:d,Qs:l})))}function DV(n,e,t){let i=n.Os.get(e)||Oe.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Os.set(e,i)}class e0{constructor(){this.activeTargetIds=vk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NV{constructor(){this.Mo=new e0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new e0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="ConnectivityMonitor";class n0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(t0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(t0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf=null;function Rg(){return Uf===null?Uf=function(){return 268435456+Math.round(2147483648*Math.random())}():Uf++,"0x"+Uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="RestConnection",PV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=Rg(),d=this.zo(e,t.toUriEncodedString());ge(Hm,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:g}=new URL(d),_=ol(g);return this.Jo(e,d,m,i,_).then(T=>(ge(Hm,`Received RPC '${e}' ${c}: `,T),T),T=>{throw Wo(Hm,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",i),T})}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const i=PV[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class kV extends MV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=Rg();return new Promise((d,m)=>{const g=new CA;g.setWithCredentials(!0),g.listenOnce(DA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Yf.NO_ERROR:const T=g.getResponseJson();ge(mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Yf.TIMEOUT:ge(mn,`RPC '${e}' ${c} timed out`),m(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case Yf.HTTP_ERROR:const w=g.getStatus();if(ge(mn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const q=N==null?void 0:N.error;if(q&&q.status&&q.message){const $=function(J){const ae=J.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(ae)>=0?ae:se.UNKNOWN}(q.status);m(new me($,q.message))}else m(new me(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new me(se.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ge(mn,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);ge(mn,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,i,15)})}T_(e,t,i){const o=Rg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=PA(),d=OA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");ge(mn,`Creating RPC '${e}' stream ${o}: ${_}`,m);const T=c.createWebChannel(_,m);this.I_(T);let w=!1,N=!1;const q=new xV({Yo:U=>{N?ge(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(ge(mn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ge(mn,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),$=(U,J,ae)=>{U.listen(J,Z=>{try{ae(Z)}catch(re){setTimeout(()=>{throw re},0)}})};return $(T,bu.EventType.OPEN,()=>{N||(ge(mn,`RPC '${e}' stream ${o} transport opened.`),q.o_())}),$(T,bu.EventType.CLOSE,()=>{N||(N=!0,ge(mn,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(T))}),$(T,bu.EventType.ERROR,U=>{N||(N=!0,Wo(mn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),q.a_(new me(se.UNAVAILABLE,"The operation could not be completed")))}),$(T,bu.EventType.MESSAGE,U=>{var J;if(!N){const ae=U.data[0];tt(!!ae,16349);const Z=ae,re=(Z==null?void 0:Z.error)||((J=Z[0])==null?void 0:J.error);if(re){ge(mn,`RPC '${e}' stream ${o} received error:`,re);const ee=re.status;let ue=function(b){const P=Bt[b];if(P!==void 0)return db(P)}(ee),C=re.message;ue===void 0&&(ue=se.INTERNAL,C="Unknown error status: "+ee+" with message "+re.message),N=!0,q.a_(new me(ue,C)),T.close()}else ge(mn,`RPC '${e}' stream ${o} received:`,ae),q.u_(ae)}}),$(d,NA.STAT_EVENT,U=>{U.stat===dg.PROXY?ge(mn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===dg.NOPROXY&&ge(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.__()},0),q}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(n){return new Uk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="PersistentStream";class Cb{constructor(e,t,i,o,l,c,d,m){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ib(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(ki(t.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===t&&this.G_(i,o)},i=>{e(()=>{const o=new me(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ge(r0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ge(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VV extends Cb{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=qk(this.serializer,e),i=function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Gr(c.readTime):Oe.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Ag(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=_g(m)?{documents:Gk(l,m)}:{query:$k(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=gb(l,c.resumeToken);const g=Tg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Mh(l,c.snapshotVersion.toTimestamp());const g=Tg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=Yk(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Ag(this.serializer),t.removeTarget=e,this.q_(t)}}class LV extends Cb{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Hk(e.writeResults,e.commitTime),i=Gr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Ag(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Fk(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{}class UV extends zV{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,Sg(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(se.UNKNOWN,l.toString())})}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(e,Sg(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(se.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class BV{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{$a(this)&&(ge(Ba,"Restarting streams for network reachability change."),await async function(m){const g=Me(m);g.Ea.add(4),await lc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ud(g)}(this))})}),this.Ra=new jV(i,o)}}async function ud(n){if($a(n))for(const e of n.da)await e(!0)}async function lc(n){for(const e of n.da)await e(!1)}function Db(n,e){const t=Me(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Iy(t)?Ry(t):dl(t).O_()&&by(t,e))}function Ay(n,e){const t=Me(n),i=dl(t);t.Ia.delete(e),i.O_()&&Nb(t,e),t.Ia.size===0&&(i.O_()?i.L_():$a(t)&&t.Ra.set("Unknown"))}function by(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dl(n).Y_(e)}function Nb(n,e){n.Va.Ue(e),dl(n).Z_(e)}function Ry(n){n.Va=new kk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),dl(n).start(),n.Ra.ua()}function Iy(n){return $a(n)&&!dl(n).x_()&&n.Ia.size>0}function $a(n){return Me(n).Ea.size===0}function Ob(n){n.Va=void 0}async function qV(n){n.Ra.set("Online")}async function FV(n){n.Ia.forEach((e,t)=>{by(n,e)})}async function HV(n,e){Ob(n),Iy(n)?(n.Ra.ha(e),Ry(n)):n.Ra.set("Unknown")}async function GV(n,e,t){if(n.Ra.set("Online"),e instanceof mb&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))}(n,e)}catch(i){ge(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kh(n,i)}else if(e instanceof Zf?n.Va.Ze(e):e instanceof pb?n.Va.st(e):n.Va.tt(e),!t.isEqual(Oe.min()))try{const i=await Rb(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(fn.EMPTY_BYTE_STRING,_.snapshotVersion)),Nb(l,m);const T=new Rs(_.target,m,g,_.sequenceNumber);by(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ge(Ba,"Failed to raise snapshot:",i),await kh(n,i)}}async function kh(n,e,t){if(!hl(e))throw e;n.Ea.add(1),await lc(n),n.Ra.set("Offline"),t||(t=()=>Rb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(Ba,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ud(n)})}function Pb(n,e){return e().catch(t=>kh(n,t,e))}async function cd(n){const e=Me(n),t=zs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cy;for(;$V(e);)try{const o=await IV(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,KV(e,o)}catch(o){await kh(e,o)}Mb(e)&&xb(e)}function $V(n){return $a(n)&&n.Ta.length<10}function KV(n,e){n.Ta.push(e);const t=zs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Mb(n){return $a(n)&&!zs(n).x_()&&n.Ta.length>0}function xb(n){zs(n).start()}async function YV(n){zs(n).ra()}async function QV(n){const e=zs(n);for(const t of n.Ta)e.ea(t.mutations)}async function WV(n,e,t){const i=n.Ta.shift(),o=yy.from(i,e,t);await Pb(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await cd(n)}async function XV(n,e){e&&zs(n).X_&&await async function(i,o){if(function(c){return Pk(c)&&c!==se.ABORTED}(o.code)){const l=i.Ta.shift();zs(i).B_(),await Pb(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await cd(i)}}(n,e),Mb(n)&&xb(n)}async function i0(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),ge(Ba,"RemoteStore received new credentials");const i=$a(t);t.Ea.add(3),await lc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ud(t)}async function ZV(n,e){const t=Me(n);e?(t.Ea.delete(2),await ud(t)):e||(t.Ea.add(2),await lc(t),t.Ra.set("Unknown"))}function dl(n){return n.ma||(n.ma=function(t,i,o){const l=Me(t);return l.sa(),new VV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:qV.bind(null,n),t_:FV.bind(null,n),r_:HV.bind(null,n),H_:GV.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Iy(n)?Ry(n):n.Ra.set("Unknown")):(await n.ma.stop(),Ob(n))})),n.ma}function zs(n){return n.fa||(n.fa=function(t,i,o){const l=Me(t);return l.sa(),new LV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:YV.bind(null,n),r_:XV.bind(null,n),ta:QV.bind(null,n),na:WV.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await cd(n)):(await n.fa.stop(),n.Ta.length>0&&(ge(Ba,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new Cy(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(n,e){if(ki("AsyncQueue",`${e}: ${n}`),hl(n))return new me(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{static emptySet(e){return new $o(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=Ru(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new $o;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.ga=new bt(we.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class tl{constructor(e,t,i,o,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new tl(e,t,$o.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class e4{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Me(t),l=o.queries;o.queries=a0(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(i)})})(this,new me(se.ABORTED,"Firestore shutting down"))}}function a0(){return new Ga(n=>eb(n),rd)}async function kb(n,e){const t=Me(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new JV,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Dy(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ny(t)}async function Vb(n,e){const t=Me(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function t4(n,e){const t=Me(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(i=!0);c.wa=o}}i&&Ny(t)}function n4(n,e,t){const i=Me(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function Ny(n){n.Ca.forEach(e=>{e.next()})}var Ig,o0;(o0=Ig||(Ig={})).Ma="default",o0.Cache="cache";class Lb{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new tl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.key=e}}class Ub{constructor(e){this.key=e}}class r4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=tb(e),this.tu=new $o(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new s0,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const w=o.get(_),N=id(this.query,T)?T:null,q=!!w&&this.mutatedKeys.has(w.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let U=!1;w&&N?w.data.isEqual(N.data)?q!==$&&(i.track({type:3,doc:N}),U=!0):this.su(w,N)||(i.track({type:2,doc:N}),U=!0,(m&&this.eu(N,m)>0||g&&this.eu(N,g)<0)&&(d=!0)):!w&&N?(i.track({type:0,doc:N}),U=!0):w&&!N&&(i.track({type:1,doc:w}),U=!0,(m||g)&&(d=!0)),U&&(N?(c=c.add(N),l=$?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((_,T)=>function(N,q){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:U})}};return $(N)-$(q)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(i),o=o??!1;const d=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new tl(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new Ub(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new zb(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Oy="SyncEngine";class i4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class s4{constructor(e){this.key=e,this.hu=!1}}class a4{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ga(d=>eb(d),rd),this.Iu=new Map,this.Eu=new Set,this.du=new bt(we.comparator),this.Au=new Map,this.Ru=new Ey,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function o4(n,e,t=!0){const i=Gb(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await jb(i,e,t,!0),o}async function l4(n,e){const t=Gb(n);await jb(t,e,!0,!1)}async function jb(n,e,t,i){const o=await CV(n.localStore,Fr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await u4(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Db(n.remoteStore,o),d}async function u4(n,e,t,i,o){n.pu=(T,w,N)=>async function($,U,J,ae){let Z=U.view.ru(J);Z.Cs&&(Z=await JS($.localStore,U.query,!1).then(({documents:C})=>U.view.ru(C,Z)));const re=ae&&ae.targetChanges.get(U.targetId),ee=ae&&ae.targetMismatches.get(U.targetId)!=null,ue=U.view.applyChanges(Z,$.isPrimaryClient,re,ee);return u0($,U.targetId,ue.au),ue.snapshot}(n,T,w,N);const l=await JS(n.localStore,e,!0),c=new r4(e,l.Qs),d=c.ru(l.documents),m=oc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,m);u0(n,t,g.au);const _=new i4(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function c4(n,e,t){const i=Me(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter(c=>!rd(c,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await bg(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Ay(i.remoteStore,o.targetId),Cg(i,o.targetId)}).catch(fl)):(Cg(i,o.targetId),await bg(i.localStore,o.targetId,!0))}async function f4(n,e){const t=Me(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ay(t.remoteStore,i.targetId))}async function h4(n,e,t){const i=v4(n);try{const o=await function(c,d){const m=Me(c),g=_t.now(),_=d.reduce((N,q)=>N.add(q.key),Fe());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>{let q=Vi(),$=Fe();return m.Ns.getEntries(N,_).next(U=>{q=U,q.forEach((J,ae)=>{ae.isValidDocument()||($=$.add(J))})}).next(()=>m.localDocuments.getOverlayedDocuments(N,q)).next(U=>{T=U;const J=[];for(const ae of d){const Z=Ik(ae,T.get(ae.key).overlayedDocument);Z!=null&&J.push(new Fs(ae.key,Z,$A(Z.value.mapValue),Hr.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,J,d)}).next(U=>{w=U;const J=U.applyToLocalDocumentSet(T,$);return m.documentOverlayCache.saveOverlays(N,U.batchId,J)})}).then(()=>({batchId:w.batchId,changes:rb(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new bt(qe)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g}(i,o.batchId,t),await uc(i,o.changes),await cd(i.remoteStore)}catch(o){const l=Dy(o,"Failed to persist write");t.reject(l)}}async function Bb(n,e){const t=Me(n);try{const i=await bV(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Au.get(l);c&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?tt(c.hu,14607):o.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))}),await uc(t,i,e)}catch(i){await fl(i)}}function l0(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const m=Me(c);m.onlineState=d;let g=!1;m.queries.forEach((_,T)=>{for(const w of T.Sa)w.va(d)&&(g=!0)}),g&&Ny(m)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function d4(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new bt(we.comparator);c=c.insert(l,_n.newNoDocument(l,Oe.min()));const d=Fe().add(l),m=new od(Oe.min(),new Map,new bt(qe),c,d);await Bb(i,m),i.du=i.du.remove(l),i.Au.delete(e),Py(i)}else await bg(i.localStore,e,!1).then(()=>Cg(i,e,t)).catch(fl)}async function p4(n,e){const t=Me(n),i=e.batch.batchId;try{const o=await AV(t.localStore,e);Fb(t,i,null),qb(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await uc(t,o)}catch(o){await fl(o)}}async function m4(n,e,t){const i=Me(n);try{const o=await function(c,d){const m=Me(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(tt(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(i.localStore,e);Fb(i,e,t),qb(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await uc(i,o)}catch(o){await fl(o)}}function qb(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function Fb(n,e,t){const i=Me(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Cg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||Hb(n,i)})}function Hb(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ay(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Py(n))}function u0(n,e,t){for(const i of t)i instanceof zb?(n.Ru.addReference(i.key,e),g4(n,i)):i instanceof Ub?(ge(Oy,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||Hb(n,i.key)):Ce(19791,{wu:i})}function g4(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ge(Oy,"New document in limbo: "+t),n.Eu.add(i),Py(n))}function Py(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(pt.fromString(e)),i=n.fu.next();n.Au.set(i,new s4(t)),n.du=n.du.insert(t,i),Db(n.remoteStore,new Rs(Fr(my(t.path)),i,"TargetPurposeLimboResolution",ed.ce))}}async function uc(n,e,t){const i=Me(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((d,m)=>{c.push(i.pu(m,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:_.current;i.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Sy.As(m.targetId,g);l.push(T)}}))}),await Promise.all(c),i.Pu.H_(o),await async function(m,g){const _=Me(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>le.forEach(g,w=>le.forEach(w.Es,N=>_.persistence.referenceDelegate.addReference(T,w.targetId,N)).next(()=>le.forEach(w.ds,N=>_.persistence.referenceDelegate.removeReference(T,w.targetId,N)))))}catch(T){if(!hl(T))throw T;ge(wy,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const N=_.Ms.get(w),q=N.snapshotVersion,$=N.withLastLimboFreeSnapshotVersion(q);_.Ms=_.Ms.insert(w,$)}}}(i.localStore,l))}async function y4(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){ge(Oy,"User change. New user:",e.toKey());const i=await bb(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new me(se.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await uc(t,i.Ls)}}function _4(n,e){const t=Me(n),i=t.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let o=Fe();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function Gb(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d4.bind(null,e),e.Pu.H_=t4.bind(null,e.eventManager),e.Pu.yu=n4.bind(null,e.eventManager),e}function v4(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m4.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return wV(this.persistence,new EV,e.initialUser,this.serializer)}Cu(e){return new Ab(Ty.mi,this.serializer)}Du(e){return new NV}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class E4 extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){tt(this.persistence.referenceDelegate instanceof xh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new sV(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new Ab(i=>xh.mi(i,t),this.serializer)}}class Dg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>l0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=y4.bind(null,this.syncEngine),await ZV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new e4}()}createDatastore(e){const t=ld(e.databaseInfo.databaseId),i=function(l){return new kV(l)}(e.databaseInfo);return function(l,c,d,m){return new UV(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new BV(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>l0(this.syncEngine,t,0),function(){return n0.v()?new n0:new OV}())}createSyncEngine(e,t){return function(o,l,c,d,m,g,_){const T=new a4(o,l,c,d,m,g);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Me(o);ge(Ba,"RemoteStore shutting down."),l.Ea.add(5),await lc(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Dg.provider={build:()=>new Dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class T4{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=uy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ge(Us,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ge(Us,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Dy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function $m(n,e){n.asyncQueue.verifyOperationInProgress(),ge(Us,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await bb(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function c0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await S4(n);ge(Us,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>i0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>i0(e.remoteStore,o)),n._onlineComponents=e}async function S4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(Us,"Using user provided OfflineComponentProvider");try{await $m(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),await $m(n,new Vh)}}else ge(Us,"Using default OfflineComponentProvider"),await $m(n,new E4(void 0));return n._offlineComponents}async function Kb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(Us,"Using user provided OnlineComponentProvider"),await c0(n,n._uninitializedComponentsProvider._online)):(ge(Us,"Using default OnlineComponentProvider"),await c0(n,new Dg))),n._onlineComponents}function w4(n){return Kb(n).then(e=>e.syncEngine)}async function Yb(n){const e=await Kb(n),t=e.eventManager;return t.onListen=o4.bind(null,e.syncEngine),t.onUnlisten=c4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=l4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=f4.bind(null,e.syncEngine),t}function A4(n,e,t={}){const i=new Di;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new $b({next:w=>{_.Nu(),c.enqueueAndForget(()=>Vb(l,T));const N=w.docs.has(d);!N&&w.fromCache?g.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&m&&m.source==="server"?g.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Lb(my(d.path),_,{includeMetadataChanges:!0,qa:!0});return kb(l,T)}(await Yb(n),n.asyncQueue,e,t,i)),i.promise}function b4(n,e,t={}){const i=new Di;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new $b({next:w=>{_.Nu(),c.enqueueAndForget(()=>Vb(l,T)),w.fromCache&&m.source==="server"?g.reject(new me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Lb(d,_,{includeMetadataChanges:!0,qa:!0});return kb(l,T)}(await Yb(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="firestore.googleapis.com",h0=!0;class d0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wb,this.ssl=h0}else this.host=e.host,this.ssl=e.ssl??h0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rV)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Nx;switch(i.type){case"firstParty":return new xx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=f0.get(t);i&&(ge("ComponentProvider","Removing Datastore"),f0.delete(t),i.terminate())}(this),Promise.resolve()}}function R4(n,e,t,i={}){var g;n=Ms(n,fd);const o=ol(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(gw(`https://${d}`),yw("Firestore",!0)),l.host!==Wb&&l.host!==d&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:o,emulatorOptions:i};if(!Ps(m,c)&&(n._setSettings(m),i.mockUserToken)){let _,T;if(typeof i.mockUserToken=="string")_=i.mockUserToken,T=gn.MOCK_USER;else{_=h2(i.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new gn(w)}n._authCredentials=new Ox(new xA(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new pl(this.firestore,e,this._query)}}class Ht{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ic(t,Ht._jsonSchema))return new Ht(e,i||null,new we(pt.fromString(t.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Ft("string",Ht._jsonSchemaVersion),referencePath:Ft("string")};class Ns extends pl{constructor(e,t,i){super(e,t,my(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new we(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function nl(n,e,...t){if(n=Nt(n),kA("collection","path",e),n instanceof fd){const i=pt.fromString(e,...t);return RS(i),new Ns(n,null,i)}{if(!(n instanceof Ht||n instanceof Ns))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return RS(i),new Ns(n.firestore,null,i)}}function hd(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=uy.newId()),kA("doc","path",e),n instanceof fd){const i=pt.fromString(e,...t);return bS(i),new Ht(n,null,new we(i))}{if(!(n instanceof Ht||n instanceof Ns))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return bS(i),new Ht(n.firestore,n instanceof Ns?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="AsyncQueue";class m0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ib(this,"async_queue_retry"),this._c=()=>{const i=Gm();i&&ge(p0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Gm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Gm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Di;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;ge(p0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",g0(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Cy.createAndSchedule(this,e,t,i,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:g0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function g0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class cc extends fd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new m0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m0(e),this._firestoreClient=void 0,await e}}}function I4(n,e){const t=typeof n=="object"?n:Gg(),i=typeof n=="string"?n:Ch,o=Ha(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=c2("firestore");l&&R4(o,...l)}return o}function My(n){if(n._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||C4(n),n._firestoreClient}function C4(n){var i,o,l;const e=n._freezeSettings(),t=function(d,m,g,_){return new Xx(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Qb(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new T4(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ar(fn.fromBase64String(e))}catch(t){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ar(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ic(e,ar._jsonSchema))return ar.fromBase64String(e.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:Ft("string",ar._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(e){if(ic(e,$r._jsonSchema))return new $r(e.latitude,e.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:Ft("string",$r._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ic(e,Kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Kr(e.vectorValues);throw new me(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kr._jsonSchemaVersion="firestore/vectorValue/1.0",Kr._jsonSchema={type:Ft("string",Kr._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=/^__.*__$/;class N4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ac(e,this.data,t,this.fieldTransforms)}}class Xb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:n})}}class xy{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zb(this.Ac)&&D4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class O4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ld(e)}Cc(e,t,i,o=!1){return new xy({Ac:e,methodName:t,Dc:i,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ky(n){const e=n._freezeSettings(),t=ld(n._databaseId);return new O4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function P4(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);Ly("Data must be an object, but it was:",c,i);const d=Jb(i,c);let m,g;if(l.merge)m=new Gn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=Ng(e,T,t);if(!c.contains(w))throw new me(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);t1(_,w)||_.push(w)}m=new Gn(_),g=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=c.fieldTransforms;return new N4(new Pn(d),m,g)}class md extends pd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}class Vy extends pd{_toFieldTransform(e){return new wk(e.path,new Ku)}isEqual(e){return e instanceof Vy}}function M4(n,e,t,i){const o=n.Cc(1,e,t);Ly("Data must be an object, but it was:",o,i);const l=[],c=Pn.empty();qs(i,(m,g)=>{const _=zy(e,m,t);g=Nt(g);const T=o.yc(_);if(g instanceof md)l.push(_);else{const w=fc(g,T);w!=null&&(l.push(_),c.set(_,w))}});const d=new Gn(l);return new Xb(c,d,o.fieldTransforms)}function x4(n,e,t,i,o,l){const c=n.Cc(1,e,t),d=[Ng(e,i,t)],m=[o];if(l.length%2!=0)throw new me(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Ng(e,l[w])),m.push(l[w+1]);const g=[],_=Pn.empty();for(let w=d.length-1;w>=0;--w)if(!t1(g,d[w])){const N=d[w];let q=m[w];q=Nt(q);const $=c.yc(N);if(q instanceof md)g.push(N);else{const U=fc(q,$);U!=null&&(g.push(N),_.set(N,U))}}const T=new Gn(g);return new Xb(_,T,c.fieldTransforms)}function k4(n,e,t,i=!1){return fc(t,n.Cc(i?4:3,e))}function fc(n,e){if(e1(n=Nt(n)))return Ly("Unsupported field value:",e,n),Jb(n,e);if(n instanceof pd)return function(i,o){if(!Zb(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let m=fc(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Nt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ek(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=_t.fromDate(i);return{timestampValue:Mh(o.serializer,l)}}if(i instanceof _t){const l=new _t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,l)}}if(i instanceof $r)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ar)return{bytesValue:gb(o.serializer,i._byteString)};if(i instanceof Ht){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vy(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Kr)return function(c,d){return{mapValue:{fields:{[HA]:{stringValue:GA},[Dh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return gy(d.serializer,g)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${Jh(i)}`)}(n,e)}function Jb(n,e){const t={};return zA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(n,(i,o)=>{const l=fc(o,e.mc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function e1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof $r||n instanceof ar||n instanceof Ht||n instanceof pd||n instanceof Kr)}function Ly(n,e,t){if(!e1(t)||!VA(t)){const i=Jh(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Ng(n,e,t){if((e=Nt(e))instanceof dd)return e._internalPath;if(typeof e=="string")return zy(n,e);throw Lh("Field path arguments must be of type string or ",n,!1,void 0,t)}const V4=new RegExp("[~\\*/\\[\\]]");function zy(n,e,t){if(e.search(V4)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dd(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lh(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${o}`),m+=")"),new me(se.INVALID_ARGUMENT,d+n+m)}function t1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class L4 extends n1{data(){return super.data()}}function Uy(n,e){return typeof e=="string"?zy(n,e):e instanceof dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jy{}class U4 extends jy{}function gd(n,e,...t){let i=[];e instanceof jy&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof By).length,d=l.filter(m=>m instanceof yd).length;if(c>1||c>0&&d>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class yd extends U4{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new yd(e,t,i)}_apply(e){const t=this._parse(e);return r1(e._query,t),new pl(e.firestore,e.converter,vg(e._query,t))}_parse(e){const t=ky(e.firestore);return function(l,c,d,m,g,_,T){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){_0(T,_);const q=[];for(const $ of T)q.push(y0(m,l,$));w={arrayValue:{values:q}}}else w=y0(m,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||_0(T,_),w=k4(d,c,T,_==="in"||_==="not-in");return qt.create(g,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rl(n,e,t){const i=e,o=Uy("where",n);return yd._create(o,i,t)}class By extends jy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new By(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:wr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const m of d)r1(c,m),c=vg(c,m)}(e._query,t),new pl(e.firestore,e.converter,vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function y0(n,e,t){if(typeof(t=Nt(t))=="string"){if(t==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JA(e)&&t.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(pt.fromString(t));if(!we.isDocumentKey(i))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xS(n,new we(i))}if(t instanceof Ht)return xS(n,t._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(t)}.`)}function _0(n,e){if(!Array.isArray(n)||n.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r1(n,e){const t=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class j4{convertValue(e,t="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return qs(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[Dh].arrayValue)==null?void 0:o.values)==null?void 0:l.map(c=>zt(c.doubleValue));return new Kr(t)}convertGeoPoint(e){return new $r(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=nd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const t=ks(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=pt.fromString(e);tt(Sb(i),9688,{name:e});const o=new Gu(i.get(1),i.get(3)),l=new we(i.popFirst(5));return o.isEqual(t)||ki(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Cu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends n1{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Uy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:Ft("string",Oa._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Jf extends Oa{data(e={}){return super.data(e)}}class Ko{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Cu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Jf(this._firestore,this._userDataWriter,i.key,i,new Cu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const m=new Jf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Jf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:q4(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n){n=Ms(n,Ht);const e=Ms(n.firestore,cc);return A4(My(e),n._key).then(t=>H4(e,n,t))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:Ft("string",Ko._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class i1 extends j4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}}function _d(n){n=Ms(n,pl);const e=Ms(n.firestore,cc),t=My(e),i=new i1(e);return z4(n._query),b4(t,n._query).then(o=>new Ko(e,i,n,o))}function s1(n,e,t,...i){n=Ms(n,Ht);const o=Ms(n.firestore,cc),l=ky(o);let c;return c=typeof(e=Nt(e))=="string"||e instanceof dd?x4(l,"updateDoc",n._key,e,t,i):M4(l,"updateDoc",n._key,e),o1(o,[c.toMutation(n._key,Hr.exists(!0))])}function a1(n,e){const t=Ms(n.firestore,cc),i=hd(n),o=B4(n.converter,e);return o1(t,[P4(ky(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Hr.exists(!1))]).then(()=>i)}function o1(n,e){return function(i,o){const l=new Di;return i.asyncQueue.enqueueAndForget(async()=>h4(await w4(i),o,l)),l.promise}(My(n),e)}function H4(n,e,t){const i=t.docs.get(e._key),o=new i1(n);return new Oa(n,o,e._key,i,new Cu(t.hasPendingWrites,t.fromCache),e.converter)}function l1(){return new Vy("serverTimestamp")}(function(e,t=!0){(function(o){cl=o})(ll),Qr(new Sr("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new cc(new Px(i.getProvider("auth-internal")),new kx(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(g.options.projectId,_)}(c,o),c);return l={useFetchStreams:t,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),or(TS,SS,e),or(TS,SS,"esm2020")})();const G4=["YOUR_API_KEY_HERE","YOUR_PROJECT_ID","YOUR_MESSAGING_SENDER_ID","YOUR_APP_ID"],$4=n=>{const e=JSON.stringify(n);return G4.some(i=>e.includes(i))?(console.error(` Firebase Configuration Not Set Up! 

You need to configure Firebase before authentication will work.

Quick steps:
1. Get your Firebase config from: https://console.firebase.google.com/
2. Update src/firebase/config.ts with your values
3. Enable Google and Email/Password auth in Firebase Console

See QUICKSTART.md for detailed instructions.`),!1):!0},u1={apiKey:"AIzaSyDSbsdRJTzetHUIsAnefv1N6zPaPIfhRt0",authDomain:"group-game-3f364.firebaseapp.com",projectId:"group-game-3f364",storageBucket:"group-game-3f364.firebasestorage.app",messagingSenderId:"377863220527",appId:"1:377863220527:web:4300b563d9685c53e2c5da",measurementId:"G-SBYB7B4KLJ"};$4(u1);const qy=Aw(u1),qa=sM(qy),Ni=I4(qy);bx(qy);const K4=new Si,Y4=async()=>{try{return{user:(await pP(qa,K4)).user,error:null}}catch(n){return console.error("Google sign-in error:",n),{user:null,error:n.message}}},Q4=async(n,e)=>{try{return{user:(await qO(qa,n,e)).user,error:null}}catch(t){return console.error("Email sign-in error:",t),{user:null,error:t.message}}},W4=async(n,e,t)=>{try{const i=await BO(qa,n.trim(),e.trim());return await HO(i.user,{displayName:t.trim()}),await i.user.reload(),{user:qa.currentUser,error:null}}catch(i){return console.error("Email sign-up error:",i),{user:null,error:i.message}}},X4=async n=>{try{return await jO(qa,n),{success:!0,error:null}}catch(e){return console.error("Password reset error:",e),{success:!1,error:e.message}}},Z4=async()=>{try{return await YO(qa),{success:!0,error:null}}catch(n){return console.error("Sign-out error:",n),{success:!1,error:n.message}}},J4=n=>KO(qa,n);var Pa=(n=>(n[n.LOGIN=0]="LOGIN",n[n.SIGNUP=1]="SIGNUP",n[n.RESET=2]="RESET",n))(Pa||{});const eL={user:null,loading:!1,error:null,authMode:0,initialized:!1},eh=Jr("auth/signInWithGoogle",async(n,{rejectWithValue:e})=>{const{user:t,error:i}=await Y4();return i?e(i):t}),th=Jr("auth/signInWithEmail",async({email:n,password:e},{rejectWithValue:t})=>{const{user:i,error:o}=await Q4(n,e);return o?t(o):i}),nh=Jr("auth/signUpWithEmail",async({email:n,password:e,displayName:t},{rejectWithValue:i})=>{const{user:o,error:l}=await W4(n,e,t);return l?i(l):o}),rh=Jr("auth/signOut",async(n,{rejectWithValue:e})=>{const{error:t}=await Z4();return t?e(t):null}),Lu=Jr("auth/resetPassword",async(n,{rejectWithValue:e})=>{const{error:t}=await X4(n);return t?e(t):n}),c1=al({name:"auth",initialState:eL,reducers:{setUser:(n,e)=>{n.user=e.payload,n.initialized=!0},setAuthMode:(n,e)=>{n.authMode=e.payload,n.error=null},clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(eh.pending,e=>{e.loading=!0,e.error=null}),n.addCase(eh.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload}),n.addCase(eh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),n.addCase(th.pending,e=>{e.loading=!0,e.error=null}),n.addCase(th.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload}),n.addCase(th.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),n.addCase(nh.pending,e=>{e.loading=!0,e.error=null}),n.addCase(nh.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload}),n.addCase(nh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),n.addCase(rh.pending,e=>{e.loading=!0,e.error=null}),n.addCase(rh.fulfilled,e=>{e.loading=!1,e.user=null}),n.addCase(rh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),n.addCase(Lu.pending,e=>{e.loading=!0,e.error=null}),n.addCase(Lu.fulfilled,e=>{e.loading=!1}),n.addCase(Lu.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{setUser:tL,setAuthMode:zh,clearError:A6}=c1.actions,Ui=n=>n.auth.user,nL=n=>{var e;return(e=n.auth.user)==null?void 0:e.uid},Fy=n=>n.auth.loading,Hy=n=>n.auth.error,rL=n=>n.auth.authMode,iL=n=>n.auth.initialized,sL=c1.reducer,aL={appMode:0,pendingPuzzleId:void 0},f1=al({name:"app",initialState:aL,reducers:{navigateToCompose:n=>{n.appMode=1},navigateToComposeList:n=>{n.appMode=0},navigateToPlay:n=>{n.appMode=2},navigateToPlayList:n=>{n.appMode=3},setPendingPuzzleId:(n,e)=>{n.pendingPuzzleId=e.payload}}}),{navigateToCompose:oL,navigateToComposeList:b6,navigateToPlay:R6,navigateToPlayList:I6,setPendingPuzzleId:Og}=f1.actions,lL=n=>n.app.pendingPuzzleId,uL=f1.reducer,cL=async n=>{try{const{id:e,...t}=n,i={...t,createdAt:l1()};return{id:(await a1(nl(Ni,"puzzles"),i)).id,error:null}}catch(e){return console.error("Error creating puzzle:",e),{id:null,error:e.message}}},fL=async n=>{try{const e=n.id,t=hd(Ni,"puzzles",e),{id:i,...o}=n,l={...o,createdAt:l1()};return await s1(t,l),{id:e,error:null}}catch(e){return console.error("Error updating puzzle:",e),{id:null,error:e.message}}},hL=async n=>{try{const e=gd(nl(Ni,"puzzles"),rl("creatorId","==",n)),t=await _d(e),i=[];return t.forEach(o=>{var c;const l=o.data();i.push({id:o.id,...l,createdAt:(c=l.createdAt)==null?void 0:c.toMillis()})}),i.sort((o,l)=>((l==null?void 0:l.createdAt)||0)-((o==null?void 0:o.createdAt)||0)),{puzzles:i,error:null}}catch(e){return console.error("Error getting user compose-list:",e),{puzzles:[],error:e.message}}},h1=async n=>{var e;try{const t=hd(Ni,"puzzles",n),i=await F4(t);if(i.exists()){const o=i.data();return{puzzle:{id:i.id,...o,createdAt:(e=o.createdAt)==null?void 0:e.toMillis()},error:null}}else return{puzzle:null,error:"Puzzle not found"}}catch(t){return console.error("Error getting puzzle:",t),{puzzle:null,error:t.message}}},v0=async n=>{try{const e=gd(nl(Ni,"gameStates"),rl("userId","==",n.userId),rl("puzzleId","==",n.puzzleId)),t=await _d(e);if(t.empty){const i={...n};return{id:(await a1(nl(Ni,"gameStates"),i)).id,error:null}}else{const i=t.docs[0].id,o=hd(Ni,"gameStates",i);return await s1(o,{guesses:n.guesses}),{id:i,error:null}}}catch(e){return console.error("Error saving game state:",e),{id:null,error:e.message}}},dL=async(n,e)=>{try{const t=gd(nl(Ni,"gameStates"),rl("userId","==",n),rl("puzzleId","==",e)),i=await _d(t);if(!i.empty){const o=i.docs[0];return{gameState:{id:o.id,...o.data()},error:null}}return{gameState:null,error:null}}catch(t){return console.error("Error getting game state:",t),{gameState:null,error:t.message}}},pL=async n=>{try{const e=gd(nl(Ni,"gameStates"),rl("userId","==",n)),t=await _d(e),i=[];return t.forEach(o=>{const l=o.data();i.push({id:o.id,...l})}),{gameStates:i,error:null}}catch(e){return console.error("Error getting user game states:",e),{gameStates:[],error:e.message}}},mL={puzzle:void 0,loading:!1,error:null},ih=Jr("play/loadPuzzleById",async(n,{rejectWithValue:e})=>{const{puzzle:t,error:i}=await h1(n);return i||!t?e(i||"Puzzle not found"):t}),d1=al({name:"play",initialState:mL,reducers:{setPuzzle:(n,e)=>{n.puzzle=e.payload,n.error=null},clearPuzzle:n=>{n.puzzle=void 0,n.error=null}},extraReducers:n=>{n.addCase(ih.pending,e=>{e.loading=!0,e.error=null}),n.addCase(ih.fulfilled,(e,t)=>{e.loading=!1,e.puzzle=t.payload,e.error=null}),n.addCase(ih.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.puzzle=void 0})}}),{setPuzzle:C6,clearPuzzle:D6}=d1.actions,gL=n=>n.play.puzzle,yL=n=>n.play.loading,_L=n=>n.play.error,vL=d1.reducer,EL="_actionButton_14t21_1",TL="_authScreenContainer_14t21_3",SL="_authBox_14t21_22",wL="_authInput_14t21_55",AL="_inputError_14t21_67",bL="_authLinks_14t21_72",RL="_linkButton_14t21_78",IL="_divider_14t21_88",CL="_errorMessage_14t21_95",DL="_successMessage_14t21_105",Je={actionButton:EL,authScreenContainer:TL,authBox:SL,authInput:wL,inputError:AL,authLinks:bL,linkButton:RL,divider:IL,errorMessage:CL,successMessage:DL};function bi(...n){return n.flat().filter(e=>e).join(" ")}function Ma(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}const NL=n=>new Promise(e=>setTimeout(e,n)),OL=()=>{const n=br(),e=et(Fy),t=et(Hy),[i,o]=F.useState(""),[l,c]=F.useState(""),d=Ma(i)&&!!l,m=async()=>{n(eh())},g=async()=>{n(th({email:i,password:l}))};return L.jsxs(L.Fragment,{children:[L.jsx("h1",{children:"Sign In"}),t&&L.jsx("div",{className:Je.errorMessage,children:t}),L.jsx("button",{className:Je.actionButton,onClick:m,disabled:e,children:e?"Signing in...":"Sign in with Google"}),L.jsx("div",{className:Je.divider,children:"or"}),L.jsx("input",{className:bi(Je.authInput,!i||Ma(i)?"":Je.inputError),type:"email",placeholder:"Email",value:i,onChange:_=>o(_.target.value.trim()),disabled:e}),L.jsx("input",{className:Je.authInput,type:"password",placeholder:"Password",value:l,onChange:_=>c(_.target.value.trim()),disabled:e}),L.jsx("button",{className:Je.actionButton,disabled:!d||e,onClick:g,children:e?"Signing in...":"Sign in"}),L.jsxs("div",{className:Je.authLinks,children:[L.jsx("button",{className:Je.linkButton,onClick:()=>n(zh(Pa.SIGNUP)),disabled:e,children:"Create account"}),L.jsx("button",{className:Je.linkButton,onClick:()=>n(zh(Pa.RESET)),disabled:e,children:"Forgot password?"})]})]})},PL=()=>{const n=br(),e=et(Fy),t=et(Hy),[i,o]=F.useState(""),[l,c]=F.useState(""),[d,m]=F.useState(""),[g,_]=F.useState(""),T=Ma(i)&&!!l&&l===d&&!!g.trim();async function w(){n(nh({email:i,password:l,displayName:g.trim()}))}return L.jsxs(L.Fragment,{children:[L.jsx("h1",{children:"Sign Up"}),t&&L.jsx("div",{className:Je.errorMessage,children:t}),L.jsx("input",{className:bi(Je.authInput,!i||Ma(i)?"":Je.inputError),type:"email",placeholder:"Email",value:i,onChange:N=>o(N.target.value.trim()),disabled:e}),L.jsx("input",{className:bi(Je.authInput,!l&&d?Je.inputError:""),type:"password",placeholder:"Password",value:l,onChange:N=>c(N.target.value.trim()),disabled:e}),L.jsx("input",{className:bi(Je.authInput,l===d?"":Je.inputError),type:"password",placeholder:"Confirm Password",value:d,onChange:N=>m(N.target.value),disabled:e}),L.jsx("input",{className:bi(Je.authInput),type:"text",placeholder:"Display Name",value:g,onChange:N=>_(N.target.value),disabled:e}),L.jsx("button",{className:Je.actionButton,disabled:!T||e,onClick:w,children:e?"Creating account...":"Create account"}),L.jsx("div",{className:Je.authLinks,children:L.jsx("button",{className:Je.linkButton,onClick:()=>n(zh(Pa.LOGIN)),disabled:e,children:"Back to sign in"})})]})},ML=()=>{const n=br(),e=et(Fy),t=et(Hy),[i,o]=F.useState(""),[l,c]=F.useState(!1),d=async()=>{if(Ma(i)){c(!1);const m=await n(Lu(i));Lu.fulfilled.match(m)&&c(!0)}};return L.jsxs(L.Fragment,{children:[L.jsx("h1",{children:"Reset Password"}),t&&L.jsx("div",{className:Je.errorMessage,children:t}),l&&L.jsx("div",{className:Je.successMessage,children:"Password reset link sent! Check your email."}),L.jsx("input",{className:bi(Je.authInput,!i||Ma(i)?"":Je.inputError),type:"email",placeholder:"Email",value:i,onChange:m=>o(m.target.value.trim()),disabled:e}),L.jsx("button",{className:Je.actionButton,disabled:!Ma(i)||e,onClick:d,children:e?"Sending...":"Send reset link"}),L.jsx("div",{className:Je.authLinks,children:L.jsx("button",{className:Je.linkButton,onClick:()=>n(zh("login")),disabled:e,children:"Back to sign in"})})]})},p1=()=>{const n=et(rL);return L.jsx("div",{className:Je.authScreenContainer,children:L.jsxs("div",{className:Je.authBox,children:[n===Pa.LOGIN&&L.jsx(OL,{}),n===Pa.SIGNUP&&L.jsx(PL,{}),n===Pa.RESET&&L.jsx(ML,{})]})})},xL="_actionButton_19pvs_1",kL="_composerContainer_19pvs_3",VL="_composerLeftColumn_19pvs_13",LL="_saveSuccessMessage_19pvs_21",zL="_saveErrorMessage_19pvs_22",UL="_gridContainer_19pvs_104",jL="_gridTable_19pvs_111",BL="_categoryInput_19pvs_125",qL="_wordInput_19pvs_137",FL="_textareaWrap_19pvs_149",HL="_headerSticky_19pvs_159",GL="_headerContentCentered_19pvs_176",$L="_centeredTitle_19pvs_196",Dn={actionButton:xL,composerContainer:kL,composerLeftColumn:VL,saveSuccessMessage:LL,saveErrorMessage:zL,gridContainer:UL,gridTable:jL,categoryInput:BL,wordInput:qL,textareaWrap:FL,headerSticky:HL,headerContentCentered:GL,centeredTitle:$L},KL={puzzle:void 0,loading:!1,error:null},sh=Jr("compose/createPuzzle",async(n,{rejectWithValue:e})=>{const{id:t,error:i}=await cL(n);return i||!t?e(i||"Failed to create puzzle"):{...n,id:t}}),ah=Jr("compose/updatePuzzle",async(n,{rejectWithValue:e})=>{const{error:t}=await fL(n);return t?e(t):n}),m1=al({name:"compose",initialState:KL,reducers:{setPuzzle:(n,e)=>{n.puzzle=e.payload},clearPuzzle:n=>{n.puzzle=void 0},clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(sh.pending,e=>{e.loading=!0,e.error=null}),n.addCase(sh.fulfilled,(e,t)=>{e.loading=!1}),n.addCase(sh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),n.addCase(ah.pending,e=>{e.loading=!0,e.error=null}),n.addCase(ah.fulfilled,(e,t)=>{e.loading=!1}),n.addCase(ah.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{setPuzzle:YL,clearPuzzle:N6,clearError:O6}=m1.actions,QL=n=>e=>{e(YL(n)),e(oL())},WL=n=>n.compose.puzzle,XL=m1.reducer;function E0(n){const e=F.useRef(null);return F.useLayoutEffect(()=>{const t=e.current;t&&(t.style.height="auto",t.style.height=t.scrollHeight+"px")},[n]),e}const ZL="_actionButton_1hcez_5",JL="_logout_1hcez_36",e3="_greenButton_1hcez_45",js={actionButton:ZL,logout:JL,greenButton:e3},vd=()=>{const n=br(),e=()=>{n(rh())};return L.jsx("button",{className:`${js.actionButton} ${js.logout}`,onClick:e,children:"Log out"})},t3=()=>{const n=Ar(),e=()=>{n("/")};return L.jsx("div",{className:Dn.headerSticky,children:L.jsxs("div",{className:Dn.headerContentCentered,children:[L.jsx("button",{className:js.actionButton,onClick:e,children:" Back"}),L.jsx("h2",{className:Dn.centeredTitle,children:"Making puzzle"}),L.jsx(vd,{})]})})};function n3(n){return n.categories.some(e=>e.trim()!=="")||n.words.some(e=>e.trim()!=="")}function r3(n,e){if(!e)return!0;for(let t=0;t<4;t++){if(n.categories[t]!==e.categories[t])return!0;for(let i=0;i<4;i++)if(n.words[t*4+i]!==e.words[t*4+i])return!0}return!1}const i3=()=>{const n=br(),e=et(Ui),t=et(WL),i=et(Z=>Z.compose.error),o={categories:Array(4).fill(""),words:Array(16).fill(""),creatorId:(e==null?void 0:e.uid)||"<none>",createdAt:void 0,id:void 0,creatorName:"",creatorEmail:""},l=t||o,[c,d]=F.useState(l),[m,g]=F.useState(!1),[_,T]=F.useState(!1),[w,N]=F.useState(t);iI.useEffect(()=>{d(t||o),N(t)},[t]);const q=F.useMemo(()=>n3(c)?!(w&&!r3(c,w)):!1,[c,w]),$=(Z,re)=>{d(ee=>{const ue=ee.categories.map((C,R)=>R===Z?re:C);return{...ee,categories:ue}})},U=(Z,re,ee)=>{d(ue=>{const C=ue.words.map((R,b)=>{const P=Z*4+re;return b===P?ee:R});return{...ue,words:C}})},J=async()=>{if(e)if(c.id)await n(ah(c));else{const{id:Z,...re}=c;await n(sh(re))}},ae=async()=>{q&&(g(!1),T(!1),await J(),i?(T(!0),setTimeout(()=>{T(!1)},3e3)):(N({...c}),g(!0),setTimeout(()=>{g(!1)},3e3)))};return L.jsxs(L.Fragment,{children:[L.jsx(t3,{}),L.jsxs("div",{className:Dn.composerContainer,children:[L.jsx("div",{className:Dn.gridContainer,children:L.jsxs("table",{className:Dn.gridTable,children:[L.jsx("thead",{children:L.jsxs("tr",{children:[L.jsx("th",{children:"Category"}),L.jsx("th",{children:"Word 1"}),L.jsx("th",{children:"Word 2"}),L.jsx("th",{children:"Word 3"}),L.jsx("th",{children:"Word 4"})]})}),L.jsx("tbody",{children:c.categories.map((Z,re)=>L.jsxs("tr",{children:[L.jsx("td",{children:L.jsx("textarea",{ref:E0(Z),value:Z,placeholder:`Category ${re+1}`,onChange:ee=>$(re,ee.target.value),className:`${Dn.categoryInput} ${Dn.textareaWrap}`,rows:1,style:{resize:"none"}})}),[0,1,2,3].map(ee=>L.jsx("td",{children:L.jsx("textarea",{ref:E0(c.words[re*4+ee]),value:c.words[re*4+ee],placeholder:`Word ${ee+1}`,onChange:ue=>U(re,ee,ue.target.value),className:`${Dn.wordInput} ${Dn.textareaWrap}`,rows:1,style:{resize:"none"}})},ee))]},re))})]})}),L.jsxs("div",{className:Dn.composerLeftColumn,children:[L.jsx("button",{className:Dn.actionButton,onClick:ae,disabled:!q,children:"Save"}),i&&_&&L.jsx("span",{className:Dn.saveErrorMessage,children:i}),m&&!i&&L.jsx("span",{className:Dn.saveSuccessMessage,children:"Saved successfully!"})]})]})]})},s3="_actionButton_zd9wg_81",a3="_puzzleListContainer_zd9wg_3",o3="_emptyState_zd9wg_22",l3="_puzzleGrid_zd9wg_33",u3="_puzzleCard_zd9wg_39",c3="_puzzleDetails_zd9wg_61",f3="_createdDate_zd9wg_75",h3="_error_zd9wg_86",d3="_categoriesList_zd9wg_94",p3="_categoryItem_zd9wg_100",m3="_headerSticky_zd9wg_106",g3="_headerContent_zd9wg_114",y3="_screenTitle_zd9wg_124",_3="_buttonGroup_zd9wg_134",On={actionButton:s3,puzzleListContainer:a3,emptyState:o3,puzzleGrid:l3,puzzleCard:u3,puzzleDetails:c3,createdDate:f3,error:h3,categoriesList:d3,categoryItem:p3,headerSticky:m3,headerContent:g3,screenTitle:y3,buttonGroup:_3},v3=n=>{const e=n.categories.length===4&&n.categories.every(i=>i&&i.trim()!==""),t=n.words.length===16&&n.words.every(i=>i&&i.trim()!=="");return e&&t},E3=({puzzle:n})=>{const e=br(),t=Ar(),i=v3(n),[o,l]=F.useState(!1),c=m=>{m.target.tagName!=="BUTTON"&&n.id&&(e(QL(n)),t("/compose"))},d=async m=>{if(m.stopPropagation(),n.id){const g=`${window.location.origin}/groups/play/${n.id}`;try{await navigator.clipboard.writeText(g),l(!0),setTimeout(()=>l(!1),2e3)}catch{}}};return L.jsxs("div",{className:On.puzzleCard,onClick:c,children:[n.createdAt&&L.jsx("p",{className:On.createdDate,children:new Date(n.createdAt).toLocaleDateString()}),L.jsx("div",{className:On.puzzleDetails,children:L.jsx("ul",{className:On.categoriesList,children:n.categories.map((m,g)=>L.jsx("li",{className:On.categoryItem,children:m},g))})}),i&&L.jsx("button",{className:On.actionButton,onClick:d,children:o?"Link copied!":"Get share link"})]})},T3={puzzles:[],loading:!1,error:null},oh=Jr("compose-list/fetchUserPuzzles",async(n,{rejectWithValue:e})=>{const{puzzles:t,error:i}=await hL(n);return i?e(i):t}),S3=al({name:"compose-list",initialState:T3,reducers:{},extraReducers:n=>{n.addCase(oh.pending,e=>{e.loading=!0,e.error=null}),n.addCase(oh.fulfilled,(e,t)=>{e.loading=!1,e.puzzles=t.payload}),n.addCase(oh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),w3=n=>n.composeList.puzzles,A3=n=>n.composeList.loading,b3=n=>n.composeList.error,R3=S3.reducer,I3=()=>{const n=Ar(),e=et(Ui),t=(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"User",i=()=>{n("/puzzles")};return L.jsx("div",{className:On.headerSticky,children:L.jsxs("div",{className:On.headerContent,children:[L.jsx("h2",{className:On.screenTitle,children:`Welcome, ${t} -- Make Puzzles!`}),L.jsxs("div",{className:On.buttonGroup,children:[L.jsx("button",{className:js.actionButton,onClick:i,children:"Play puzzles"}),L.jsx(vd,{})]})]})})},C3=()=>{const n=br(),e=Ar(),t=et(Ui),i=et(w3),o=et(A3),l=et(b3),c=!o&&!l;F.useEffect(()=>{t!=null&&t.uid&&n(oh(t.uid))},[t==null?void 0:t.uid,n]);const d=()=>{n({type:"compose/composeNewPuzzle"}),e("/compose")},m=()=>L.jsx("button",{className:`${js.actionButton} ${js.greenButton}`,onClick:d,children:"Make a new Puzzle"});return L.jsxs(L.Fragment,{children:[L.jsx(I3,{}),L.jsxs("div",{className:On.puzzleListContainer,children:[o&&L.jsx("p",{children:"Loading puzzles..."}),l&&L.jsxs("p",{className:On.error,children:["Error loading puzzles: ",l]}),c&&(i.length===0?L.jsxs("div",{className:On.emptyState,children:[L.jsx("p",{children:"You haven't created any puzzles yet."}),L.jsx(m,{})]}):L.jsxs(L.Fragment,{children:[L.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:L.jsx(m,{})}),L.jsx("div",{className:On.puzzleGrid,children:i.map(g=>L.jsx(E3,{puzzle:g},g.id))})]}))]})]})},D3="_actionButton_l23t8_1",N3="_createdDate_l23t8_3",O3="_puzzlePlayerContainer_l23t8_7",P3="_puzzlePlayerHeader_l23t8_12",M3="_wordGrid_l23t8_32",x3="_wordButton_l23t8_37",k3="_selectedWord_l23t8_71",V3="_buttonRow_l23t8_82",L3="_solvedCategoryRow_l23t8_89",z3="_missedCategory_l23t8_122",U3="_categoryName_l23t8_143",j3="_categoryWords_l23t8_150",B3="_congratulations_l23t8_156",q3="_gameOver_l23t8_164",F3="_mistakesContainer_l23t8_172",H3="_mistakesLabel_l23t8_181",G3="_mistakesDots_l23t8_187",$3="_mistakeDot_l23t8_192",K3="_mistakeDotActive_l23t8_200",Y3="_messageOverlay_l23t8_204",Q3="_message_l23t8_204",W3="_headerSticky_l23t8_275",X3="_headerContentCentered_l23t8_292",Z3="_centeredTitle_l23t8_302",J3="_shakeWord_l23t8_363",Ze={actionButton:D3,createdDate:N3,puzzlePlayerContainer:O3,puzzlePlayerHeader:P3,wordGrid:M3,wordButton:x3,selectedWord:k3,buttonRow:V3,solvedCategoryRow:L3,missedCategory:z3,categoryName:U3,categoryWords:j3,congratulations:B3,gameOver:q3,mistakesContainer:F3,mistakesLabel:H3,mistakesDots:G3,mistakeDot:$3,mistakeDotActive:K3,messageOverlay:Y3,message:Q3,headerSticky:W3,headerContentCentered:X3,centeredTitle:Z3,shakeWord:J3},ez=()=>{const n=Ar(),e=()=>{n("/puzzles")};return L.jsx("div",{className:Ze.headerSticky,children:L.jsxs("div",{className:Ze.headerContentCentered,children:[L.jsx("button",{className:js.actionButton,onClick:e,children:" Back"}),L.jsx("h2",{className:Ze.centeredTitle,children:"Playing puzzle"}),L.jsx(vd,{})]})})},Km=n=>n.categories.length,Ym=n=>n.words.length/n.categories.length,tz=n=>n.categories.length,nz=n=>{let e=0;return n.forEach(t=>e|=1<<t.indexInPuzzle),e},rz=n=>{let e=0;for(;n;)n&1&&e++,n>>=1;return e},g1=(n,e,t)=>{const i=(1<<t)-1<<e*t,o=n&i;return rz(o)},iz=(n,e,t)=>g1(n,e,t)===t;function sz(n,e,t){for(let i=0;i<e;i++)if(g1(n,i,t)===t-1)return!0;return!1}const az=(n,e)=>e.includes(n),y1=n=>n.map(e=>({...e})),Qm=(n,e,t,i)=>{const o=y1(n);for(let l=0;l<i;l++){const c=t*i+l,d=o.findIndex(_=>_.indexInGrid===c);if(d<0)throw new Error("Word at target grid index not found");const m=e*i+l,g=o[m].indexInGrid;o[m].indexInGrid=o[d].indexInGrid,o[d].indexInGrid=g}return o},T0=(n,e,t)=>{const i=y1(n),o=[],l=[];for(let c=0;c<n.length;c++)i[c].indexInGrid>=e*t&&(o.push(c),l.push(i[c].indexInGrid));return l.sort(()=>Math.random()-.5),o.forEach((c,d)=>{i[c].indexInGrid=l[d]}),i},oz=(n,e,t)=>{const i=new Set(e);return i.has(n)?i.delete(n):i.size<t&&i.add(n),Array.from(i)},S0=n=>Math.max(400,Math.min(((n==null?void 0:n.innerWidth)||675)-32,675)),lz=()=>{const n=et(gL),e=et(yL),t=et(_L),i=et(nL),[o,l]=F.useState([]),[c,d]=F.useState([]),[m,g]=F.useState([]),[_,T]=F.useState([]),[w,N]=F.useState(0),[q,$]=F.useState(!1),[U,J]=F.useState(null),[ae,Z]=F.useState(!1),[re,ee]=F.useState(!1),[ue,C]=F.useState(!1),[R,b]=F.useState(!1),[P,k]=F.useState(()=>S0(window));F.useEffect(()=>{const fe=()=>k(S0(window));return window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[]);const j=F.useRef([]),D=F.useRef(new Map),Qe=F.useRef(!1),Le=()=>{const fe=new Map;return m.forEach(Ae=>{const Se=j.current[Ae.indexInPuzzle];Se&&fe.set(Ae.indexInPuzzle,Se.getBoundingClientRect())}),fe};if(F.useLayoutEffect(()=>{if(!Qe.current){D.current=Le();return}const fe=Le();D.current.forEach((Ae,Se)=>{const Ne=fe.get(Se);if(Ne){const Ke=Ae.left-Ne.left,st=Ae.top-Ne.top;if(Ke!==0||st!==0){const Tt=j.current[Se];Tt&&(Tt.style.transition="none",Tt.style.transform=`translate(${Ke}px, ${st}px)`,requestAnimationFrame(()=>{Tt.style.transition="transform 600ms cubic-bezier(0.25, 0.1, 0.25, 1)",Tt.style.transform=""}))}}}),Qe.current=!1,D.current=fe},[m]),F.useEffect(()=>{(async()=>{if(!n||!n.id||!i)return;ee(!0);const{gameState:Ae,error:Se}=await dL(i,n.id);if(Se){console.error("Error loading game state:",Se),ee(!1),C(!0);return}Ae||await v0({userId:i,puzzleId:n.id,guesses:[]});const Ne=[];let Ke=0;const st=[];let Tt=n.words.map((We,vt)=>({word:We,indexInPuzzle:vt,indexInGrid:vt}));const ur=Km(n),Wt=Ym(n);Ae&&Ae.guesses.length>0&&(st.push(...Ae.guesses),Ae.guesses.forEach(We=>{let vt=!1;for(let gt=0;gt<ur;gt++)if(iz(We,gt,Wt)){Ne.push({categoryIndex:gt,wasGuessed:!0}),vt=!0,Tt=Qm(Tt,gt,Ne.length-1,Wt);break}vt||Ke++})),l(st);const nn=Math.max(0,Wt-Ke);if(N(nn),Z(!1),J(null),d([]),nn===0)for(let We=0;We<ur;We++)Ne.every(vt=>vt.categoryIndex!==We)&&Ne.push({categoryIndex:We,wasGuessed:!1});T(Ne),Tt=T0(Tt,Ne.length,Wt),g(Tt),ee(!1)})()},[n,i]),F.useEffect(()=>{if(w===0&&!ae&&n){Z(!0);const fe=Km(n),Ae=Ym(n),Se=(Ne,Ke,st)=>{if(Ke>=fe)return;if(_.some(Wt=>Wt.categoryIndex===Ke)){Se(Ne,Ke+1,st+1);return}D.current=Le(),Qe.current=!0;const ur=Qm(Ne,Ke,st,Ae);g(ur),setTimeout(()=>{T(Wt=>[...Wt,{categoryIndex:Ke,wasGuessed:!1}]),Ke+1<fe&&setTimeout(()=>Se(ur,Ke+1,st+1),800)},800)};setTimeout(()=>Se(m,0,0),500)}},[w,n,_,ae,m]),e||re)return L.jsx("div",{className:Ze.puzzlePlayerContainer,children:L.jsx("p",{children:"Loading..."})});if(t||ue)return L.jsx("div",{className:Ze.puzzlePlayerContainer,children:L.jsx("p",{children:"There was an error loading the puzzle."})});if(!n)return L.jsx("div",{className:Ze.puzzlePlayerContainer,children:L.jsx("p",{children:"I can't find that puzzle!"})});const te=Km(n),ce=Ym(n),ve=tz(n),ze=fe=>{d(Ae=>oz(fe,Ae,ce))},x=async()=>{D.current=Le(),Qe.current=!0,b(!0),g(fe=>T0(fe,_.length,ce)),await new Promise(fe=>setTimeout(fe,600)),b(!1)},I=()=>{d([])},z=fe=>n.words.slice(fe*ce,(fe+1)*ce),M=async(fe,Ae)=>{for(let Se=0;Se<te;Se++){const Ne=n.words.slice(Se*ce,(Se+1)*ce);if(Ne.every(st=>c.some(Tt=>Tt.word===st))&&fe.every(st=>Ne.includes(st.word)))return await Te(Se,Ae),!0}return!1},X=(fe,Ae=2e3)=>{J(fe),setTimeout(()=>{J(null)},Ae)},de=async(fe=750)=>{$(!0),await NL(fe),$(!1),d([])},he=async fe=>{!i||!(n!=null&&n.id)||await v0({userId:i,puzzleId:n.id,guesses:fe})},Te=async(fe,Ae)=>{D.current=Le(),Qe.current=!0,g(Qm(m,fe,_.length,ce)),await new Promise(Se=>setTimeout(Se,600)),await new Promise(Se=>setTimeout(Se,600)),T(Se=>[...Se,{categoryIndex:fe,wasGuessed:!0}]),d([]),await he(Ae)},ye=async(fe,Ae)=>{N(Se=>Se-1),await de(),Ae&&X("One away!"),await he(fe)},ft=async()=>{if(c.length!==ce||!i)return;const fe=Array.from(c),Ae=nz(fe),Se=az(Ae,o),Ne=sz(Ae,te,ce),Ke=[...o,Ae];if(l(Ke),!await M(fe,Ke)){if(Se){await de(),X(Ne?"Already guessed (One away)!":"Already guessed!");return}await ye(Ke,Ne)}},Gt=n.creatorName||"Unknown creator",Rt=n.createdAt?new Date(n.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown date",mt=w===0,Ot=_.length===te&&!mt,xn=3*(.75*16),It=(P-xn)/4;return L.jsxs(L.Fragment,{children:[L.jsx(ez,{}),L.jsxs("div",{className:Ze.puzzlePlayerContainer,children:[L.jsx("div",{className:Ze.puzzlePlayerHeader,children:L.jsxs("p",{className:Ze.createdDate,children:["By ",Gt," (",Rt,")"]})}),L.jsxs("div",{className:Ze.wordGrid,style:{width:P,gap:"0.75rem",gridTemplateColumns:`repeat(${ce}, 1fr)`},children:[U&&L.jsx("div",{className:Ze.messageOverlay,children:L.jsx("div",{className:Ze.message,children:U})}),_.map((fe,Ae)=>L.jsxs("div",{className:bi(Ze.solvedCategoryRow,!fe.wasGuessed&&Ze.missedCategory),"data-category-index":fe.categoryIndex,style:{gridColumn:0,gridRow:Ae+1},children:[L.jsx("div",{className:Ze.categoryName,children:n.categories[fe.categoryIndex]}),L.jsx("div",{className:Ze.categoryWords,children:z(fe.categoryIndex).join(", ")})]},Ae)),m.filter(fe=>{const Ae=Math.floor(fe.indexInPuzzle/ce);return!_.some(Se=>Se.categoryIndex===Ae)}).map(fe=>L.jsx("button",{ref:Ae=>{j.current[fe.indexInPuzzle]=Ae},className:bi(Ze.wordButton,c.some(Ae=>Ae.indexInPuzzle===fe.indexInPuzzle)&&Ze.selectedWord,q&&c.some(Ae=>Ae.indexInPuzzle===fe.indexInPuzzle)&&Ze.shakeWord),style:{gridColumn:fe.indexInGrid%ce+1,gridRow:Math.floor(fe.indexInGrid/ce)+1,width:It,minWidth:It,maxWidth:It,height:It*.5,minHeight:It*.5,maxHeight:It*.5},onClick:()=>ze(fe),children:fe.word},fe.indexInPuzzle))]}),L.jsxs("div",{className:Ze.mistakesContainer,children:[L.jsx("span",{className:Ze.mistakesLabel,children:"Mistakes remaining:"}),L.jsx("div",{className:Ze.mistakesDots,children:Array.from({length:ve}).map((fe,Ae)=>L.jsx("span",{className:bi(Ze.mistakeDot,Ae<w&&Ze.mistakeDotActive)},Ae))})]}),Ot?L.jsx("div",{className:Ze.congratulations,children:" Congratulations! You solved the puzzle! "}):mt?L.jsx("div",{className:Ze.gameOver,children:"Better luck next time!"}):L.jsxs("div",{className:Ze.buttonRow,children:[L.jsx("button",{className:Ze.actionButton,onClick:x,disabled:R,children:"Shuffle"}),L.jsx("button",{className:Ze.actionButton,onClick:I,disabled:c.length===0,children:"Deselect all"}),L.jsx("button",{className:Ze.actionButton,onClick:ft,disabled:c.length!==ce,children:"Submit"})]})]})]})},uz="_actionButton_135un_68",cz="_playListContainer_135un_3",fz="_emptyMessage_135un_9",hz="_puzzleGrid_135un_16",dz="_puzzleCard_135un_22",pz="_createdDate_135un_52",mz="_progressInfo_135un_58",gz="_error_135un_78",yz="_puzzleMeta_135un_92",_z="_statusWin_135un_110",vz="_statusLose_135un_115",Ez="_statusInProgress_135un_120",Tz="_headerSticky_135un_125",Sz="_headerContent_135un_133",wz="_screenTitle_135un_143",Az="_buttonGroup_135un_153",yn={actionButton:uz,playListContainer:cz,emptyMessage:fz,puzzleGrid:hz,puzzleCard:dz,createdDate:pz,progressInfo:mz,error:gz,puzzleMeta:yz,statusWin:_z,statusLose:vz,statusInProgress:Ez,headerSticky:Tz,headerContent:Sz,screenTitle:wz,buttonGroup:Az},bz=({gameStateWithPuzzle:n})=>{const e=Ar(),{puzzle:t,correctGuesses:i,mistakes:o}=n,l=w=>{t!=null&&t.id&&e(`/play/${t.id}`)};if(!t)return null;const c=t.categories.length,d=i===c,m=!d&&o===4,g=!d&&!m,_=t.creatorName?t.creatorName:"Unknown creator",T=t.createdAt?new Date(t.createdAt).toLocaleDateString():"";return L.jsxs("div",{className:yn.puzzleCard,onClick:l,children:[L.jsx("div",{className:yn.puzzleMeta,children:T&&L.jsxs("span",{className:yn.createdDate,children:["By ",_," (",T,")"]})}),L.jsxs("div",{className:yn.progressInfo,children:[d&&L.jsx(L.Fragment,{children:L.jsxs("p",{className:yn.statusWin,children:["You won! (",o," mistake",o!==1?"s":"",")"]})}),m&&L.jsxs("p",{className:yn.statusLose,children:["You didn't win (",i," group",i!==1?"s":""," guessed)"]}),g&&L.jsxs("p",{className:yn.statusInProgress,children:["Keep going! ",i," group",i!==1?"s":""," guessed, ",o," mistake",o!==1?"s":"","."]})]}),g&&L.jsx("button",{className:yn.actionButton,children:"Continue Playing"})]})},Rz=(n,e)=>{const t=15<<e*4;return(n&t)===t&&(n&~t)===0},Iz=(n,e)=>{if(!e)return{correctGuesses:0,mistakes:0};let t=0,i=0;return n.guesses.forEach(o=>{let l=!1;for(let c=0;c<e.categories.length;c++)if(Rz(o,c)){t++,l=!0;break}l||i++}),{correctGuesses:t,mistakes:i}},Cz={selectedGameStateId:null,gameStatesWithPuzzles:[],loading:!1,error:null},lh=Jr("playList/fetchUserGameStates",async(n,{rejectWithValue:e})=>{const{gameStates:t,error:i}=await pL(n);if(i)return e(i);const o=[];for(const l of t){const{puzzle:c,error:d}=await h1(l.puzzleId);o.push({gameState:l,puzzle:c||null})}return o}),_1=al({name:"playList",initialState:Cz,reducers:{setSelectedGameState:(n,e)=>{n.selectedGameStateId=e.payload}},extraReducers:n=>{n.addCase(lh.pending,e=>{e.loading=!0,e.error=null}),n.addCase(lh.fulfilled,(e,t)=>{e.loading=!1,e.gameStatesWithPuzzles=t.payload}),n.addCase(lh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{setSelectedGameState:P6}=_1.actions,Dz=n=>n.playList.gameStatesWithPuzzles,Nz=aw([Dz],n=>n.map(({gameState:e,puzzle:t})=>{const i=Iz(e,t);return{gameState:e,puzzle:t,...i}})),Oz=n=>n.playList.loading,Pz=n=>n.playList.error,Mz=_1.reducer,xz=()=>{const n=Ar(),e=et(Ui),t=(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"User",i=()=>{n("/")};return L.jsx("div",{className:yn.headerSticky,children:L.jsxs("div",{className:yn.headerContent,children:[L.jsx("h2",{className:yn.screenTitle,children:`Welcome, ${t} -- Play Puzzles!`}),L.jsxs("div",{className:yn.buttonGroup,children:[L.jsx("button",{className:js.actionButton,onClick:i,children:"Make puzzles"}),L.jsx(vd,{})]})]})})},kz=()=>{const n=br(),e=et(Ui),t=et(Nz),i=et(Oz),o=et(Pz),l=!i&&!o;return F.useEffect(()=>{e!=null&&e.uid&&n(lh(e.uid))},[e==null?void 0:e.uid,n]),L.jsxs(L.Fragment,{children:[L.jsx(xz,{}),L.jsxs("div",{className:yn.playListContainer,children:[i&&L.jsx("p",{children:"Loading puzzles..."}),o&&L.jsxs("p",{className:yn.error,children:["Error loading puzzles: ",o]}),l&&(t.length===0?L.jsx("div",{className:yn.emptyMessage,children:"You have no puzzles you are playing yet."}):L.jsx("div",{className:yn.puzzleGrid,children:t.map(c=>L.jsx(bz,{gameStateWithPuzzle:c},c.gameState.id))}))]})]})},Vz="_appContainer_739c2_3",Lz="_mainContent_739c2_10",Mn={appContainer:Vz,mainContent:Lz},zz=()=>{const{puzzleId:n}=BI(),e=br(),t=et(Ui);return F.useEffect(()=>{!t&&n?e(Og(n)):t&&n&&(e(ih(n)),e(Og(void 0)))},[t,n,e]),t?L.jsx("div",{className:Mn.appContainer,children:L.jsx("div",{className:Mn.mainContent,children:L.jsx(lz,{})})}):L.jsx("div",{className:Mn.appContainer,children:L.jsx("div",{className:Mn.mainContent,children:L.jsx(p1,{})})})},Uz=()=>{const n=et(Ui),e=Ar();return F.useEffect(()=>{n||e("/")},[n,e]),n?L.jsx("div",{className:Mn.appContainer,children:L.jsx("div",{className:Mn.mainContent,children:L.jsx(i3,{})})}):null},jz=()=>{const n=et(Ui),e=et(lL),t=Ar(),i=br();return F.useEffect(()=>{n&&e&&(t(`/play/${e}`),i(Og(void 0)))},[n,e,t,i]),n?L.jsx("div",{className:Mn.appContainer,children:L.jsx("div",{className:Mn.mainContent,children:L.jsx(C3,{})})}):L.jsx("div",{className:Mn.appContainer,children:L.jsx("div",{className:Mn.mainContent,children:L.jsx(p1,{})})})},w0=()=>{const n=et(Ui),e=Ar(),t=Bs();return F.useEffect(()=>{n?(t.pathname==="/play"||t.pathname==="/play/")&&e("/puzzles",{replace:!0}):e("/")},[n,e,t.pathname]),n?L.jsx("div",{className:Mn.appContainer,children:L.jsx("div",{className:Mn.mainContent,children:L.jsx(kz,{})})}):null},Bz=()=>L.jsx("div",{className:Mn.appContainer,children:L.jsx("div",{className:Mn.mainContent,children:L.jsx("div",{children:"Loading..."})})}),qz=()=>{const n=br(),e=et(iL);return F.useEffect(()=>{const t=J4(i=>{n(tL(i))});return()=>t()},[n]),e?L.jsx(bC,{children:L.jsxs(nC,{children:[L.jsx(Lo,{path:"/",element:L.jsx(jz,{})}),L.jsx(Lo,{path:"/play/:puzzleId",element:L.jsx(zz,{})}),L.jsx(Lo,{path:"/compose",element:L.jsx(Uz,{})}),L.jsx(Lo,{path:"/puzzles",element:L.jsx(w0,{})}),L.jsx(Lo,{path:"*",element:L.jsx(w0,{})})]})}):L.jsx(Bz,{})};var Gy="persist:",v1="persist/FLUSH",$y="persist/REHYDRATE",E1="persist/PAUSE",T1="persist/PERSIST",S1="persist/PURGE",w1="persist/REGISTER",Fz=-1;function uh(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uh=function(t){return typeof t}:uh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(n)}function A0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Hz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A0(t,!0).forEach(function(i){Gz(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A0(t).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Gz(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $z(n,e,t,i){i.debug;var o=Hz({},t);return n&&uh(n)==="object"&&Object.keys(n).forEach(function(l){l!=="_persist"&&e[l]===t[l]&&(o[l]=n[l])}),o}function Kz(n){var e=n.blacklist||null,t=n.whitelist||null,i=n.transforms||[],o=n.throttle||0,l="".concat(n.keyPrefix!==void 0?n.keyPrefix:Gy).concat(n.key),c=n.storage,d;n.serialize===!1?d=function(ee){return ee}:typeof n.serialize=="function"?d=n.serialize:d=Yz;var m=n.writeFailHandler||null,g={},_={},T=[],w=null,N=null,q=function(ee){Object.keys(ee).forEach(function(ue){J(ue)&&g[ue]!==ee[ue]&&T.indexOf(ue)===-1&&T.push(ue)}),Object.keys(g).forEach(function(ue){ee[ue]===void 0&&J(ue)&&T.indexOf(ue)===-1&&g[ue]!==void 0&&T.push(ue)}),w===null&&(w=setInterval($,o)),g=ee};function $(){if(T.length===0){w&&clearInterval(w),w=null;return}var re=T.shift(),ee=i.reduce(function(ue,C){return C.in(ue,re,g)},g[re]);if(ee!==void 0)try{_[re]=d(ee)}catch(ue){console.error("redux-persist/createPersistoid: error serializing state",ue)}else delete _[re];T.length===0&&U()}function U(){Object.keys(_).forEach(function(re){g[re]===void 0&&delete _[re]}),N=c.setItem(l,d(_)).catch(ae)}function J(re){return!(t&&t.indexOf(re)===-1&&re!=="_persist"||e&&e.indexOf(re)!==-1)}function ae(re){m&&m(re)}var Z=function(){for(;T.length!==0;)$();return N||Promise.resolve()};return{update:q,flush:Z}}function Yz(n){return JSON.stringify(n)}function Qz(n){var e=n.transforms||[],t="".concat(n.keyPrefix!==void 0?n.keyPrefix:Gy).concat(n.key),i=n.storage;n.debug;var o;return n.deserialize===!1?o=function(c){return c}:typeof n.deserialize=="function"?o=n.deserialize:o=Wz,i.getItem(t).then(function(l){if(l)try{var c={},d=o(l);return Object.keys(d).forEach(function(m){c[m]=e.reduceRight(function(g,_){return _.out(g,m,d)},o(d[m]))}),c}catch(m){throw m}else return})}function Wz(n){return JSON.parse(n)}function Xz(n){var e=n.storage,t="".concat(n.keyPrefix!==void 0?n.keyPrefix:Gy).concat(n.key);return e.removeItem(t,Zz)}function Zz(n){}function b0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Ti(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b0(t,!0).forEach(function(i){Jz(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b0(t).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Jz(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function e6(n,e){if(n==null)return{};var t=t6(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function t6(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}var n6=5e3;function r6(n,e){var t=n.version!==void 0?n.version:Fz;n.debug;var i=n.stateReconciler===void 0?$z:n.stateReconciler,o=n.getStoredState||Qz,l=n.timeout!==void 0?n.timeout:n6,c=null,d=!1,m=!0,g=function(T){return T._persist.rehydrated&&c&&!m&&c.update(T),T};return function(_,T){var w=_||{},N=w._persist,q=e6(w,["_persist"]),$=q;if(T.type===T1){var U=!1,J=function(R,b){U||(T.rehydrate(n.key,R,b),U=!0)};if(l&&setTimeout(function(){!U&&J(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},l),m=!1,c||(c=Kz(n)),N)return Ti({},e($,T),{_persist:N});if(typeof T.rehydrate!="function"||typeof T.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return T.register(n.key),o(n).then(function(C){var R=n.migrate||function(b,P){return Promise.resolve(b)};R(C,t).then(function(b){J(b)},function(b){J(void 0,b)})},function(C){J(void 0,C)}),Ti({},e($,T),{_persist:{version:t,rehydrated:!1}})}else{if(T.type===S1)return d=!0,T.result(Xz(n)),Ti({},e($,T),{_persist:N});if(T.type===v1)return T.result(c&&c.flush()),Ti({},e($,T),{_persist:N});if(T.type===E1)m=!0;else if(T.type===$y){if(d)return Ti({},$,{_persist:Ti({},N,{rehydrated:!0})});if(T.key===n.key){var ae=e($,T),Z=T.payload,re=i!==!1&&Z!==void 0?i(Z,_,ae,n):ae,ee=Ti({},re,{_persist:Ti({},N,{rehydrated:!0})});return g(ee)}}}if(!N)return e(_,T);var ue=e($,T);return ue===$?_:g(Ti({},ue,{_persist:N}))}}function R0(n){return a6(n)||s6(n)||i6()}function i6(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s6(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function a6(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function I0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Pg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I0(t,!0).forEach(function(i){o6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I0(t).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function o6(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var A1={registry:[],bootstrapped:!1},l6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w1:return Pg({},e,{registry:[].concat(R0(e.registry),[t.key])});case $y:var i=e.registry.indexOf(t.key),o=R0(e.registry);return o.splice(i,1),Pg({},e,{registry:o,bootstrapped:o.length===0});default:return e}};function u6(n,e,t){var i=Bg(l6,A1,void 0),o=function(m){i.dispatch({type:w1,key:m})},l=function(m,g,_){var T={type:$y,payload:g,err:_,key:m};n.dispatch(T),i.dispatch(T)},c=Pg({},i,{purge:function(){var m=[];return n.dispatch({type:S1,result:function(_){m.push(_)}}),Promise.all(m)},flush:function(){var m=[];return n.dispatch({type:v1,result:function(_){m.push(_)}}),Promise.all(m)},pause:function(){n.dispatch({type:E1})},persist:function(){n.dispatch({type:T1,register:o,rehydrate:l})}});return c.persist(),c}var Tu={},jf={},Bf={},C0;function c6(){if(C0)return Bf;C0=1,Bf.__esModule=!0,Bf.default=o;function n(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(d){return typeof d}:n=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},n(l)}function e(){}var t={getItem:e,setItem:e,removeItem:e};function i(l){if((typeof self>"u"?"undefined":n(self))!=="object"||!(l in self))return!1;try{var c=self[l],d="redux-persist ".concat(l," test");c.setItem(d,"test"),c.getItem(d),c.removeItem(d)}catch{return!1}return!0}function o(l){var c="".concat(l,"Storage");return i(c)?self[c]:t}return Bf}var D0;function f6(){if(D0)return jf;D0=1,jf.__esModule=!0,jf.default=t;var n=e(c6());function e(i){return i&&i.__esModule?i:{default:i}}function t(i){var o=(0,n.default)(i);return{getItem:function(c){return new Promise(function(d,m){d(o.getItem(c))})},setItem:function(c,d){return new Promise(function(m,g){m(o.setItem(c,d))})},removeItem:function(c){return new Promise(function(d,m){d(o.removeItem(c))})}}}return jf}var N0;function h6(){if(N0)return Tu;N0=1,Tu.__esModule=!0,Tu.default=void 0;var n=e(f6());function e(i){return i&&i.__esModule?i:{default:i}}var t=(0,n.default)("local");return Tu.default=t,Tu}var d6=h6();const p6=Mg(d6);var Du={exports:{}},m6=Du.exports,O0;function g6(){return O0||(O0=1,function(n,e){(function(t,i){i(e)})(m6,function(t){function i(I,z){I.super_=z,I.prototype=Object.create(z.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}})}function o(I,z){Object.defineProperty(this,"kind",{value:I,enumerable:!0}),z&&z.length&&Object.defineProperty(this,"path",{value:z,enumerable:!0})}function l(I,z,M){l.super_.call(this,"E",I),Object.defineProperty(this,"lhs",{value:z,enumerable:!0}),Object.defineProperty(this,"rhs",{value:M,enumerable:!0})}function c(I,z){c.super_.call(this,"N",I),Object.defineProperty(this,"rhs",{value:z,enumerable:!0})}function d(I,z){d.super_.call(this,"D",I),Object.defineProperty(this,"lhs",{value:z,enumerable:!0})}function m(I,z,M){m.super_.call(this,"A",I),Object.defineProperty(this,"index",{value:z,enumerable:!0}),Object.defineProperty(this,"item",{value:M,enumerable:!0})}function g(I,z,M){var X=I.slice(z+1||I.length);return I.length=z<0?I.length+z:z,I.push.apply(I,X),I}function _(I){var z=typeof I>"u"?"undefined":Le(I);return z!=="object"?z:I===Math?"math":I===null?"null":Array.isArray(I)?"array":Object.prototype.toString.call(I)==="[object Date]"?"date":typeof I.toString=="function"&&/^\/.*\//.test(I.toString())?"regexp":"object"}function T(I,z,M,X,de,he,Te){de=de||[],Te=Te||[];var ye=de.slice(0);if(typeof he<"u"){if(X){if(typeof X=="function"&&X(ye,he))return;if((typeof X>"u"?"undefined":Le(X))==="object"){if(X.prefilter&&X.prefilter(ye,he))return;if(X.normalize){var ft=X.normalize(ye,he,I,z);ft&&(I=ft[0],z=ft[1])}}}ye.push(he)}_(I)==="regexp"&&_(z)==="regexp"&&(I=I.toString(),z=z.toString());var Gt=typeof I>"u"?"undefined":Le(I),Rt=typeof z>"u"?"undefined":Le(z),mt=Gt!=="undefined"||Te&&Te[Te.length-1].lhs&&Te[Te.length-1].lhs.hasOwnProperty(he),Ot=Rt!=="undefined"||Te&&Te[Te.length-1].rhs&&Te[Te.length-1].rhs.hasOwnProperty(he);if(!mt&&Ot)M(new c(ye,z));else if(!Ot&&mt)M(new d(ye,I));else if(_(I)!==_(z))M(new l(ye,I,z));else if(_(I)==="date"&&I-z!==0)M(new l(ye,I,z));else if(Gt==="object"&&I!==null&&z!==null)if(Te.filter(function(fe){return fe.lhs===I}).length)I!==z&&M(new l(ye,I,z));else{if(Te.push({lhs:I,rhs:z}),Array.isArray(I)){var He;for(I.length,He=0;He<I.length;He++)He>=z.length?M(new m(ye,He,new d(void 0,I[He]))):T(I[He],z[He],M,X,ye,He,Te);for(;He<z.length;)M(new m(ye,He,new c(void 0,z[He++])))}else{var xn=Object.keys(I),It=Object.keys(z);xn.forEach(function(fe,Ae){var Se=It.indexOf(fe);Se>=0?(T(I[fe],z[fe],M,X,ye,fe,Te),It=g(It,Se)):T(I[fe],void 0,M,X,ye,fe,Te)}),It.forEach(function(fe){T(void 0,z[fe],M,X,ye,fe,Te)})}Te.length=Te.length-1}else I!==z&&(Gt==="number"&&isNaN(I)&&isNaN(z)||M(new l(ye,I,z)))}function w(I,z,M,X){return X=X||[],T(I,z,function(de){de&&X.push(de)},M),X.length?X:void 0}function N(I,z,M){if(M.path&&M.path.length){var X,de=I[z],he=M.path.length-1;for(X=0;X<he;X++)de=de[M.path[X]];switch(M.kind){case"A":N(de[M.path[X]],M.index,M.item);break;case"D":delete de[M.path[X]];break;case"E":case"N":de[M.path[X]]=M.rhs}}else switch(M.kind){case"A":N(I[z],M.index,M.item);break;case"D":I=g(I,z);break;case"E":case"N":I[z]=M.rhs}return I}function q(I,z,M){if(I&&z&&M&&M.kind){for(var X=I,de=-1,he=M.path?M.path.length-1:0;++de<he;)typeof X[M.path[de]]>"u"&&(X[M.path[de]]=typeof M.path[de]=="number"?[]:{}),X=X[M.path[de]];switch(M.kind){case"A":N(M.path?X[M.path[de]]:X,M.index,M.item);break;case"D":delete X[M.path[de]];break;case"E":case"N":X[M.path[de]]=M.rhs}}}function $(I,z,M){if(M.path&&M.path.length){var X,de=I[z],he=M.path.length-1;for(X=0;X<he;X++)de=de[M.path[X]];switch(M.kind){case"A":$(de[M.path[X]],M.index,M.item);break;case"D":de[M.path[X]]=M.lhs;break;case"E":de[M.path[X]]=M.lhs;break;case"N":delete de[M.path[X]]}}else switch(M.kind){case"A":$(I[z],M.index,M.item);break;case"D":I[z]=M.lhs;break;case"E":I[z]=M.lhs;break;case"N":I=g(I,z)}return I}function U(I,z,M){if(I&&z&&M&&M.kind){var X,de,he=I;for(de=M.path.length-1,X=0;X<de;X++)typeof he[M.path[X]]>"u"&&(he[M.path[X]]={}),he=he[M.path[X]];switch(M.kind){case"A":$(he[M.path[X]],M.index,M.item);break;case"D":he[M.path[X]]=M.lhs;break;case"E":he[M.path[X]]=M.lhs;break;case"N":delete he[M.path[X]]}}}function J(I,z,M){if(I&&z){var X=function(de){M&&!M(I,z,de)||q(I,z,de)};T(I,z,X)}}function ae(I){return"color: "+ve[I].color+"; font-weight: bold"}function Z(I){var z=I.kind,M=I.path,X=I.lhs,de=I.rhs,he=I.index,Te=I.item;switch(z){case"E":return[M.join("."),X,"",de];case"N":return[M.join("."),de];case"D":return[M.join(".")];case"A":return[M.join(".")+"["+he+"]",Te];default:return[]}}function re(I,z,M,X){var de=w(I,z);try{X?M.groupCollapsed("diff"):M.group("diff")}catch{M.log("diff")}de?de.forEach(function(he){var Te=he.kind,ye=Z(he);M.log.apply(M,["%c "+ve[Te].text,ae(Te)].concat(te(ye)))}):M.log(" no diff ");try{M.groupEnd()}catch{M.log(" diff end  ")}}function ee(I,z,M,X){switch(typeof I>"u"?"undefined":Le(I)){case"object":return typeof I[X]=="function"?I[X].apply(I,te(M)):I[X];case"function":return I(z);default:return I}}function ue(I){var z=I.timestamp,M=I.duration;return function(X,de,he){var Te=["action"];return Te.push("%c"+String(X.type)),z&&Te.push("%c@ "+de),M&&Te.push("%c(in "+he.toFixed(2)+" ms)"),Te.join(" ")}}function C(I,z){var M=z.logger,X=z.actionTransformer,de=z.titleFormatter,he=de===void 0?ue(z):de,Te=z.collapsed,ye=z.colors,ft=z.level,Gt=z.diff,Rt=typeof z.titleFormatter>"u";I.forEach(function(mt,Ot){var He=mt.started,xn=mt.startedTime,It=mt.action,fe=mt.prevState,Ae=mt.error,Se=mt.took,Ne=mt.nextState,Ke=I[Ot+1];Ke&&(Ne=Ke.prevState,Se=Ke.started-He);var st=X(It),Tt=typeof Te=="function"?Te(function(){return Ne},It,mt):Te,ur=D(xn),Wt=ye.title?"color: "+ye.title(st)+";":"",nn=["color: gray; font-weight: lighter;"];nn.push(Wt),z.timestamp&&nn.push("color: gray; font-weight: lighter;"),z.duration&&nn.push("color: gray; font-weight: lighter;");var We=he(st,ur,Se);try{Tt?ye.title&&Rt?M.groupCollapsed.apply(M,["%c "+We].concat(nn)):M.groupCollapsed(We):ye.title&&Rt?M.group.apply(M,["%c "+We].concat(nn)):M.group(We)}catch{M.log(We)}var vt=ee(ft,st,[fe],"prevState"),gt=ee(ft,st,[st],"action"),Hs=ee(ft,st,[Ae,fe],"error"),ji=ee(ft,st,[Ne],"nextState");if(vt)if(ye.prevState){var Ka="color: "+ye.prevState(fe)+"; font-weight: bold";M[vt]("%c prev state",Ka,fe)}else M[vt]("prev state",fe);if(gt)if(ye.action){var Qn="color: "+ye.action(st)+"; font-weight: bold";M[gt]("%c action    ",Qn,st)}else M[gt]("action    ",st);if(Ae&&Hs)if(ye.error){var Ir="color: "+ye.error(Ae,fe)+"; font-weight: bold;";M[Hs]("%c error     ",Ir,Ae)}else M[Hs]("error     ",Ae);if(ji)if(ye.nextState){var kn="color: "+ye.nextState(Ne)+"; font-weight: bold";M[ji]("%c next state",kn,Ne)}else M[ji]("next state",Ne);Gt&&re(fe,Ne,M,Tt);try{M.groupEnd()}catch{M.log(" log end ")}})}function R(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=Object.assign({},ze,I),M=z.logger,X=z.stateTransformer,de=z.errorTransformer,he=z.predicate,Te=z.logErrors,ye=z.diffPredicate;if(typeof M>"u")return function(){return function(Gt){return function(Rt){return Gt(Rt)}}};if(I.getState&&I.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(Gt){return function(Rt){return Gt(Rt)}}};var ft=[];return function(Gt){var Rt=Gt.getState;return function(mt){return function(Ot){if(typeof he=="function"&&!he(Rt,Ot))return mt(Ot);var He={};ft.push(He),He.started=Qe.now(),He.startedTime=new Date,He.prevState=X(Rt()),He.action=Ot;var xn=void 0;if(Te)try{xn=mt(Ot)}catch(fe){He.error=de(fe)}else xn=mt(Ot);He.took=Qe.now()-He.started,He.nextState=X(Rt());var It=z.diff&&typeof ye=="function"?ye(Rt,Ot):z.diff;if(C(ft,Object.assign({},z,{diff:It})),ft.length=0,He.error)throw He.error;return xn}}}}var b,P,k=function(I,z){return new Array(z+1).join(I)},j=function(I,z){return k("0",z-I.toString().length)+I},D=function(I){return j(I.getHours(),2)+":"+j(I.getMinutes(),2)+":"+j(I.getSeconds(),2)+"."+j(I.getMilliseconds(),3)},Qe=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},te=function(I){if(Array.isArray(I)){for(var z=0,M=Array(I.length);z<I.length;z++)M[z]=I[z];return M}return Array.from(I)},ce=[];b=(typeof Df>"u"?"undefined":Le(Df))==="object"&&Df?Df:typeof window<"u"?window:{},P=b.DeepDiff,P&&ce.push(function(){typeof P<"u"&&b.DeepDiff===w&&(b.DeepDiff=P,P=void 0)}),i(l,o),i(c,o),i(d,o),i(m,o),Object.defineProperties(w,{diff:{value:w,enumerable:!0},observableDiff:{value:T,enumerable:!0},applyDiff:{value:J,enumerable:!0},applyChange:{value:q,enumerable:!0},revertChange:{value:U,enumerable:!0},isConflict:{value:function(){return typeof P<"u"},enumerable:!0},noConflict:{value:function(){return ce&&(ce.forEach(function(I){I()}),ce=null),w},enumerable:!0}});var ve={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},ze={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(I){return I},actionTransformer:function(I){return I},errorTransformer:function(I){return I},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},x=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=I.dispatch,M=I.getState;return typeof z=="function"||typeof M=="function"?R()({dispatch:z,getState:M}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};t.defaults=ze,t.createLogger=R,t.logger=x,t.default=x,Object.defineProperty(t,"__esModule",{value:!0})})}(Du,Du.exports)),Du.exports}var y6=g6();const _6=Mg(y6),v6={key:"root",storage:p6,whitelist:["compose"]},E6=X0({app:uL,auth:sL,composeList:R3,compose:XL,play:vL,playList:Mz}),T6=r6(v6,E6),b1=VD({reducer:T6,middleware:n=>n({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"],ignoredPaths:["auth.user"]}}).concat(_6)});u6(b1);fI.createRoot(document.getElementById("root")).render(L.jsx(F.StrictMode,{children:L.jsx(QC,{store:b1,children:L.jsx(qz,{})})}));
